//15.154.4-es2019 2025-11-20T16:23:32.598Z (40ccebd167711)
var CS_CONF={"collectionEnabled":true,"useSentry":false,"projectId":185932,"status":1,"hostnames":["philippineairlines.com"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":1,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":0,"validationRate":10,"lastTrackingDraw":null,"trackerDomain":"c.az.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"jsErrorsEnabled":1,"customErrorsEnabled":1,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":1,"customHashIdEnabled":1,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":null,"whitelistedAttributes":null,"replayRecordingUnmaskedUrlRegex":null,"replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":null,"anonymisationMethod":"replayRecordingUnmaskedUrlRegex","tagDeploymentMode":"CONTENTSQUARE","experimental":null,"iframesTracking":0,"textVisibilityEnabled":0,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withNavigation":true,"withResource":true},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":1,"collectHierarchy":0,"collectSubmit":0,"collectTargetText":1,"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-eu1.az.contentsquare.net","malkaRecordingDomain":"k-eu1.az.contentsquare.net","staticResourceManagerDomain":"srm.aa.contentsquare.net","voc":{"siteId":null,"enabled":0},"anonymizeDigits":null,"dynamicConfDomain":"t.contentsquare.net/settings","tagVerificationDomain":"tcvsapi.contentsquare.com","startMode":1,"customErrors":{"consoleMessageLogLevels":[]},"apiErrors":{"collectStandardHeaders":0,"collectionRules":[]}};
(()=>{var al=Object.defineProperty;var cl=(s,i,t)=>i in s?al(s,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[i]=t;var qt=(s,i,t)=>cl(s,typeof i!="symbol"?i+"":i,t);var Bt={};Bt.d=(s,i)=>{for(var t in i)Bt.o(i,t)&&!Bt.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:i[t]})};Bt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Bt.o=(s,i)=>Object.prototype.hasOwnProperty.call(s,i);Bt.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var Pn={};Bt.r(Pn);Bt.d(Pn,{getRequestParameters:()=>rd});function We(s,i){let t;return window.Zone&&typeof window.Zone.__symbol__=="function"&&(t=s[window.Zone.__symbol__(i)]),t!=null?t:s[i]}var Z=(()=>{let s;return function(i){i.debug="debug",i.warn="warn",i.implementation="implementation",i.error="error",i.critical="critical"}(s||(s={})),s})();function Ot(s){return X(s)&&(typeof s=="number"||s instanceof Number)&&!isNaN(s)}function Be(s){return s===parseInt(s,10)}function U(s){return X(s)&&(typeof s=="string"||s instanceof csString)}function ri(s){return typeof s=="boolean"}function Fe(s){return typeof s=="object"}function X(s){return typeof s!="undefined"}function Et(s){return X(s)&&s!==null}function To(s){return typeof s=="object"&&s!==null}function ll(s,i,t){return Be(s)&&s>=i&&s<=t}function an(s){for(let i in s)return!1;return!0}function Ge(s){return typeof s=="function"}function bs(s){return s instanceof Element}function te(s){return s instanceof Error}function bo(s){let i=s.length;for(let t=0;t<i;t++)switch(csString.prototype.charCodeAt.call(s,t)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}var ki={[Z.debug]:0,[Z.warn]:1,[Z.implementation]:1,[Z.error]:2,[Z.critical]:3},rt={debug(...s){},warn(...s){},implementation(...s){},error(...s){},critical(...s){},isPerfLoggingActive(){return!1}};function hl(s){rt=s}var G=s=>(i,t,e)=>{let n=(t==null?void 0:t.toString())||"",r=s||`${i.constructor&&i.constructor.name}.${n}`;if(e){let a=e.value;e.value=function(...c){return On(r,a.bind(this))(...c)}}};function On(s,i){return function(...t){try{let e=i.apply(this,t);return X(self.Promise)&&e instanceof self.Promise?e.then(n=>n,n=>rt.error(te(n)?n:new Error(n),s)):e}catch(e){try{rt.error(te(e)?e:new Error(e),s)}catch{}}}}function be(s,i,t,e){var n=arguments.length,r=n<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,i,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(r=(n<3?a(r):n>3?a(i,t,r):a(i,t))||r);return n>3&&r&&Object.defineProperty(i,t,r),r}function Ro(s){let i=new ArrayBuffer(s.length),t=new Uint8Array(i);for(let e=0,n=s.length;e<n;e+=1)t[e]=csString.prototype.charCodeAt.call(s,e);return i}function Er(s){let i=new Uint8Array(s),t="";for(let e=0;e<i.byteLength;e+=1)t+=csString.fromCodePoint(i[e]);return t}function ul(s){let i=self.atob(s);return Ro(i)}function dl(s){let i=csArray.from(new Uint8Array(s));return csArray.prototype.join.call(csArray.prototype.map.call(i,t=>csString.prototype.padStart.call(t.toString(16),2,"0")),"")}var Co=typeof performance!="undefined"&&!!performance.now,Sr=Co?()=>performance.now():()=>csDate.now(),fl=(()=>{var s,i;return Co?(i=(s=performance.timing)===null||s===void 0?void 0:s.navigationStart)!==null&&i!==void 0?i:Math.floor(performance.timeOrigin):0})(),Nn=34164e6,j={now(){return Math.round(Sr()+fl)},elapsed(){return Sr()}};function vr(){return Math.floor(j.now()/1e3)}function _r(){var s,i;return typeof((s=window.navigation)===null||s===void 0?void 0:s.addEventListener)=="function"&&typeof((i=window.navigation)===null||i===void 0?void 0:i.removeEventListener)=="function"}function wt(s,i){return csString.prototype.lastIndexOf.call(s,i,0)===0}function Mn(s,i){return csString.prototype.indexOf.call(s,i,s.length-i.length)!==-1}var pl=Number.MAX_SAFE_INTEGER||9007199254740991,$e={percentage(){return Math.floor(Math.random()*1e4)/100},boolean(s){return this.percentage()<s},integer(s=pl){return Math.floor(Math.random()*s)}},Si=typeof window=="undefined";function gl(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Bt.g!="undefined"?Bt.g:typeof process!="undefined"?process:Function("return this")()}var tt=gl();function oi(s,i){let t,e,n,r,a,c=null,h=g=>{let m=j.elapsed();if(!g&&c!==null){let E=i-(m-c);if(E>=1){n=tt.csSetTimeout(h,E);return}}let y=m-r;n=null,c=null,r=null,a=s.apply(t,[y,...e])},d=function(){if(t=this,e=arguments,r){c=j.elapsed();return}return r=j.elapsed(),n=tt.csSetTimeout(h,i),a};return d.flushPending=()=>{n&&(tt.csClearTimeout(n),h(!0))},d.cancel=()=>{c=null,r=null,n&&(tt.csClearTimeout(n),n=null)},d}function ml(s=0){return(i,t,e)=>{e.value=oi(e.value,s)}}var ze=(()=>{class s{static setGlobalService(t){s.globalService=t}constructor(t){this.name=t,this.values={}}reset(){this.values={}}flush(t=""){if(!s.globalService)return!1;let e=this.values,n=Object.keys(e);if(!n.length)return!1;let r=`${t===""?"":`${t}.`}${this.name}`,a=csArray.prototype.map.call(n,c=>({name:r,parameter:c,value:Math.round(e[c])}));return s.globalService.push(a),this.reset(),a.length>0}}return s.globalService=null,be([G()],s.prototype,"flush",null),s})(),ht=(()=>{class s extends ze{constructor(t,e=100){super(t),this.kE=e,this.values={},e&&(this.debouncedFlush=oi(()=>this.flush(),this.kE))}count(t,e=1){ze.globalService&&(this.values[t]=(this.values[t]||0)+e,this.debouncedFlush())}}return s})(),wr=(()=>{class s extends ze{constructor(){super(...arguments),this.values={average:0,count:0,max:0,total:0}}get average(){return this.values.average}get count(){return this.values.count}get max(){return this.values.max}get total(){return this.values.total}flush(t=""){return this.count===0?!1:super.flush(t)}push(t){this.values.count++,this.values.total+=t,this.values.max=Math.max(this.values.max,t),this.values.average=this.values.total/this.values.count}reset(){this.values={count:0,total:0,max:0,average:0}}}return s})(),Ze=(()=>{class s extends ze{constructor(t,e=["max","average","total","count"]){super(t),this.collecting=e}flush(t=""){let e=Object.keys(this.values);return csArray.prototype.forEach.call(csArray.prototype.filter.call(e,n=>!csArray.prototype.some.call(this.collecting,r=>csString.prototype.endsWith.call(n,`.${r}`))),n=>{delete this.values[n]}),super.flush(t)}add(t,e){var n,r,a,c,h,d,g;let m=y=>this.values[`${t}.${y}`];(n=(c=this.values)[h=`${t}.count`])!==null&&n!==void 0||(c[h]=0),(r=(d=this.values)[g=`${t}.total`])!==null&&r!==void 0||(d[g]=0),this.values[`${t}.count`]++,this.values[`${t}.total`]+=e,this.values[`${t}.max`]=Math.max((a=m("max"))!==null&&a!==void 0?a:0,e),this.values[`${t}.average`]=m("total")/m("count")}}return s})(),yl=(()=>{class s extends ze{constructor(){super(...arguments),this.values={}}set(t,e="flags"){var n,r;ze.globalService&&((n=(r=this.values)[e])!==null&&n!==void 0||(r[e]=0),this.values[e]|=t,this.flush())}}return s})(),V={counters:{commandsFromIntegrations:new ht("commands-from-integrations"),commandsFromCSTC:new ht("commands-from-cstc"),commandsFromIframe:new ht("commands-from-iframe"),commandApplied:new ht("command-applied"),commandError:new ht("command-error"),commandMisuse:new ht("command-misuse"),CSTCSnippetUsed:new ht("cstc-snippet-used"),redactedPII:new ht("redacted-pii"),pageAnonymisation:new ht("page-anonymisation"),patchedNativeFunctions:new ht("patched-native-functions"),pureWindowState:new ht("pure-window-state"),sensitiveElements:new ht("sensitive-elements"),cspErrors:new ht("csp-errors"),networkRequests:new ht("network-requests"),webVitalsErrors:new ht("web-vitals-errors"),trackedFeatures:new ht("tracked-features"),longTasks:new wr("long-tasks"),errors:new ht("errors"),methodPerformance:new Ze("perf"),downloadTime:new Ze("download-time",["max","average"]),transferSize:new Ze("transfer-size",["max","average"]),evalTime:new Ze("eval-time",["max","average"]),blockingTime:new wr("blocking-time"),inpContribution:new Ze("inp-contribution"),tasks:new Ze("tasks"),availableFeatures:new yl("available-features")},setService(s){ze.setGlobalService(s)}},Dn=(()=>{class s{constructor(){this.na=0}get length(){return this.na}get isEmpty(){return!this.Qs}pushAll(t){for(let e=0;e<t.length;e++)this.push(t[e])}push(t){this.na++,this.vr?this.vr=this.vr[1]=[t,void 0]:this.vr=this.Qs=[t,void 0]}pop(){if(!this.Qs)return null;this.na--;let t=this.Qs[0];return this.Qs=this.Qs[1],this.Qs||(this.vr=void 0),t}forEach(t){let e=this.Qs;for(;e!=null&&e.length;)t(e[0]),e=e[1]}clear(){this.na=0,this.Qs=this.vr=void 0}}return s})(),cn=0,Io=s=>{cn++,csQueueMicrotask(()=>ls(()=>{try{s()}finally{cn--}},[ee.MicroTask,"queueMicrotask"]))},ai=new Dn,ci=new Dn;function Po(s,i="high"){ai.isEmpty&&ci.isEmpty&&Oo(El),i==="high"?ci.push(Ar(s)):ai.push(Ar(s))}function Oo(s,i=10){i===0?Io(s):csQueueMicrotask(()=>Oo(s,i-1))}function El(){for(;!ci.isEmpty;)ci.pop()();for(;!ai.isEmpty;)ai.pop()()}function Ar(s){return function(){try{s.apply(window,arguments)}catch(i){rt.critical(i)}}}var si="null",ve=null,No=[],Sl=()=>{var s;return Si||!!(!((s=document.body)===null||s===void 0)&&s.getAttribute("data-cs-tag-extension"))};!Si&&Sl()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],ve=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",s=>{ln({type:"UXA_EVENT",event:s.detail})}),ve.addEventListener("message",s=>{if(s.data.type==="CONNECT"){if(s.data.sessionId===si)return;si=s.data.sessionId,csArray.prototype.forEach.call(No,i=>i()),ve==null||ve.postMessage({type:"CONNECTED",sessionId:si})}}));function vl(s){Si||(si!==null&&csSetTimeout(s),csSetTimeout(()=>csArray.prototype.push.call(No,s)))}function ln(s){ve==null||ve.postMessage(s)}function li(s){var i;let t=(i=s.length)!==null&&i!==void 0?i:0,e=new csArray(t);for(let n=0;n<t;n+=1)e[n]=s[n];return e}function Tr(s,i){let t=s.length,e=new csArray(t);for(let n=0;n<t;n+=1)e[n]=i(s[n]);return e}function _l(s,i,t){let e=[],n=0;for(let r=0;r<s.length;r+=1){let a=i(s[r]);for(let c=0;c<a.length;c++)t(a[c],n++)}return e}function Mo(s,i){let t=[];return _l(s,i,e=>csArray.prototype.push.call(t,e)),t}function kt(s,i){if(wl(s)){let t=s.length;for(let e=0;e<t;e++)i(s[e],e)}else{let t=0,e=s.next();for(;!e.done;)i(e.value,t++),e=s.next()}}function wl(s){return s.length>=0}function Al(s,i){let t=s.length;for(let e=0;e<t;e++)if(i(s[e],e))return s[e]}function hn(s,i){let t=s.length;for(let e=0;e<t;e++)if(i(s[e],e))return!0;return!1}function Tl(s,i){let t=s.length;for(let e=0;e<t;e++)if(!i(s[e],e))return!1;return!0}function Do(s,i){let t=s.length,e=[];for(let n=0;n<t;n+=1){let r=s[n];i(r)&&csArray.prototype.push.call(e,r)}return e}function bl(s,i,t){let e=s.length+i.length+((t==null?void 0:t.length)||0),n=new csArray(e),r=0;for(let a=0;a<s.length;a++)n[r++]=s[a];for(let a=0;a<i.length;a++)n[r++]=i[a];if(!t)return n;for(let a=0;a<t.length;a++)n[r++]=t[a];return n}function br(s,i){for(let t=0;t<s.length;t++)csArray.prototype.push.call(i,s[t])}function kn(s){let i=s instanceof Map,t=[];return s.forEach((e,n)=>csArray.prototype.push.call(t,i?[n,e]:e)),t}function Rl(s){return csArray.isArray(s)&&s.length>0}var Rs=(()=>{class s{constructor(t,e=""){this.name=t,this.format=e}}return s})(),Wt=(()=>{class s extends Rs{constructor(t){super(t,"Value: {count}"),this.count=0}increase(t=1){this.count+=t}decrease(){this.count>0&&this.count--}clear(){this.count=0}getData(){return{count:this.count}}}return s})();var Rr=(()=>{class s extends Rs{constructor(t){super(t,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}"),this.added=0,this.removed=0}get value(){return this.added-this.removed}increase(){this.added++}decrease(){this.removed++}getData(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}}}return s})(),Yt=(()=>{class s extends Rs{constructor(t){super(t,"Count: {count}<br/>Average: {average}ms<br/>Max: {max}ms<br/>Total: {total}ms"),this.total=0,this.count=0,this.max=0}get average(){return this.count?this.total/this.count:0}elapsed(t){return this.count++,this.max=Math.max(this.max,t),this.total+=t,t}measure(t){let e=j.elapsed();t(),this.count++;let n=j.elapsed()-e;return this.max=Math.max(this.max,n),this.total+=n,n}asyncMeasure(){let t=j.elapsed();return()=>{this.count++;let e=j.elapsed()-t;return this.max=Math.max(this.max,e),this.total+=e,e}}getData(){return{total:this.total,count:this.count,average:this.average,max:this.max}}}return s})(),Cl=(()=>{class s extends Rs{constructor(){super("INP","Value: {value}")}getData(){return{value:Lt.tasks.eventListener.max}}}return s})(),Lt={general:{category:"General",nbEvents:new Wt("Nb of Events"),pendingTasks:new Wt("Pending Tasks"),pendingEvents:new Wt("Pending Tasks"),nbOfMutationObservers:new Rr("Nb of Mutation Observers"),inp:new Cl},mutations:{category:"Mutations",initialDOM:new Yt("Initial DOM"),pendingMutations:new Wt("Nb of Mutations scheduled"),serializedMutations:new Yt("Serialized Mutations"),count:new Wt("Mutation Count"),elementMutationObserved:new Rr("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new Yt("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new Wt("Nb of Hidden Elements "),nbElements:new Wt("Nb of  Elements")},tasks:{category:"Tasks",tasks:new Wt("Tasks"),errors:new Wt("Errors"),timer:new Yt("Timers"),microtask:new Yt("Microtasks"),mutationObserver:new Yt("MutationObserver"),monkeyPatch:new Yt("MonkeyPatch"),eventListener:new Yt("EventListener"),intersectionObserver:new Yt("Intersection")}};function Il(){let s=null;vl(()=>{let i=r=>Object.keys(r),t=csArray.prototype.map.call(i(Lt),r=>Lt[r]),e=csArray.prototype.map.call(t,r=>csArray.prototype.filter.call(csArray.prototype.map.call(i(r),a=>r[a]),a=>a instanceof Rs));ln({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:csArray.prototype.map.call(t,(r,a)=>({category:r.category,performanceCounters:csArray.prototype.map.call(e[a],c=>({name:c.name,format:c.format}))}))}),!s&&(s=csSetInterval(()=>{ls(()=>{let r=Mo(Tr(e,a=>Tr(a,c=>c.getData())),a=>a);ln({type:"UXA_PERFORMANCE_COUNTER",event:r})},[ee.Timer,"performance-counter-interval"])},1e3))})}var ee=(()=>{let s;return function(i){i.Timer="timer",i.MonkeyPatch="monkeyPatch",i.MutationObserver="mutationObserver",i.EventListener="eventListener",i.IntersectionObserver="intersectionObserver",i.MicroTask="microtask"}(s||(s={})),s})(),_t=null,Pl=["click","tap","keyup","keydown","pointerup","pointerdown"];async function ls(s,i,t=null){if(_t&&i[0]!==ee.MicroTask)return s();t&&(_t=t),_t||(_t={type:i[0],elapsed:0},Lt.tasks.tasks.increase());try{_t.elapsed+=Ol(s)}catch(e){Lt.tasks.errors.increase(),rt.critical(new Error(`Task error:  ${i}/${s.name}.
${e.message}
${e.stack}`,e),"TASK_ERROR")}finally{cn<=0&&(Lt.tasks[_t.type].elapsed(_t.elapsed),_t.elapsed>50&&(V.counters.longTasks.push(_t.elapsed),V.counters.blockingTime.push(_t.elapsed-50)),V.counters.tasks.add(i[0],_t.elapsed),csArray.prototype.includes.call(Pl,i[1])&&V.counters.inpContribution.add(i[1],_t.elapsed),_t=null)}}function Ol(s){let i=j.elapsed();return s(),j.elapsed()-i}var Li,Nl="cs-native-frame";var fe={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild","nodeType"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function ko(s,i){let t=We(window,s);return function(e,n){return t(()=>ls(e,[i,s]),n)}}window.csSetTimeout=ko("setTimeout",ee.Timer);window.csSetInterval=ko("setInterval",ee.Timer);window.csQueueMicrotask=(Li=We(window,"queueMicrotask"))!==null&&Li!==void 0?Li:setTimeout;window.csClearTimeout=We(window,"clearTimeout");window.csClearInterval=We(window,"clearInterval");window.csFileReader=We(window,"FileReader");(()=>{var s;let i=0;function t(n){return"cs$Symbol_"+n}function e(n){return t(n)+ ++i}e.for=t,window.csSymbol=(s=window.Symbol)!==null&&s!==void 0?s:e})();function Ml(){let s=document.createElement("iframe");s.id=Nl,s.setAttribute("hidden",""),s.setAttribute("title","Intentionally blank"),s.setAttribute("sandbox","allow-same-origin");let i=document.createElement("cs-native-frame-holder");if(i.setAttribute("hidden",""),document.body.appendChild(i),!!Element.prototype.attachShadow){let e=i.attachShadow({mode:"closed"});return e.innerHTML=s.outerHTML,e.firstElementChild.contentWindow}return i.innerHTML=s.outerHTML,i.firstElementChild.contentWindow}function Dl(s,i){let t,e=s;for(;e&&!(t=Object.getOwnPropertyDescriptor(e,i));)e=Object.getPrototypeOf(e);return t}function kl(s,i,t){let e=Dl(s,i);if(!e)return function(){return this[i]};switch(t){case"get":return e.get;case"set":return e.set;case"value":return e.value}}function Lo(s){var i,t;Object.keys(fe.constructors).forEach(n=>{window[fe.constructors[n]]=s[n]instanceof Function&&s[n].prototype==null?s[n].bind(window):s[n]}),Vl(s);let e=s.MutationObserver;("Prototype"in window||xl())&&(e=(t=(i=We(window,"MutationObserver"))!==null&&i!==void 0?i:window.WebKitMutationObserver)!==null&&t!==void 0?t:window.MutationObserver),window.csIntersectionObserver=Cr(window.IntersectionObserver,ee.IntersectionObserver),window.csMutationObserver=Cr(e,ee.MutationObserver),ts("csNode",fe.nodeProperties,s.Node.prototype,"get"),ts("csElement",fe.elementProperties,s.Element.prototype,"get"),ts("csElement",fe.elementPropertiesValues,s.Element.prototype,"value",!1),ts("csHTMLImageElement",fe.imageProperties,s.HTMLImageElement.prototype,"set"),ts("csEvent",fe.eventProperties,s.Event.prototype,"get"),ts("csNavigator",fe.navigatorProperties,s.navigator,"value")}function ts(s,i,t,e,n=!0){i.forEach(r=>{let a=typeof r!="string"&&"binding"in r,c=a?r.propertyName:r;(n||c in t)&&(window[`${s+c}`]=kl(t,c,e),a&&(window[`${s+c}`]=window[`${s+c}`].bind(r.binding)))})}function Ln(s,i){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[s]=i}function Ll(){try{let s=Ml();return s?(window.CSPureWindow=s,Lo(window.CSPureWindow),!0):!1}catch(s){return Ln("Warning",`failed to copy references from pure iframe: ${s.message}`),!1}}if(!Ll())try{Lo(tt)}catch(s){Ln("Critical",`failed to copy references from window: ${s.message}`)}function xl(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Vl(s){window.csquerySelector={1:s.Element.prototype.querySelector,9:s.Document.prototype.querySelector,11:s.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:s.Element.prototype.querySelectorAll,9:s.Document.prototype.querySelectorAll,11:s.DocumentFragment.prototype.querySelectorAll}}function Cr(s,i){try{let t=function(e,n){return new s((a,c)=>{ls(()=>e(a,c),[i,s.name])},n)};return t.base=s,t}catch{return Ln("Warning",`failed to extends ${s.name}`),s}}var J=(()=>{let s;return function(i){i.ELLIPSIS="\u2026";function t(a){return csString.prototype.replace.call(a,/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(a){return csString.prototype.replace.call(a,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}i.escapeInvalidCharacters=e;function n(a,c,h){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(a,c,h);let d=new csRegExp(t(c),"g");return csString.prototype.replace.call(a,d,h)}i.stringReplaceAll=n;function r(a,c,h=""){return a.length<=c?a:csString.prototype.slice.call(a,0,c-h.length)+h}i.truncate=r}(s||(s={})),s})();function un(s){return J.escapeInvalidCharacters(csString.prototype.toLowerCase.call(s.localName))}function Ul(s){let i=s.getAttribute("id");return i&&J.escapeInvalidCharacters(i)}function pt(s){return csNodenodeType.apply(s)===1}function dn(s){return csNodenodeType.apply(s)===3}function jl(s){return csNodenodeType.apply(s)===8}function xo(s){return pt(s)&&s.localName==="a"}function xn(s){return pt(s)&&s.localName==="input"}function Vo(s){return pt(s)&&s.localName==="textarea"}function Hl(s){return pt(s)&&s.localName==="script"}function Bl(s){return pt(s)&&s.localName==="button"}function Uo(s){return pt(s)&&"ownerSVGElement"in s}function jo(s){return pt(s)&&s.localName==="select"}function Fl(s){return pt(s)&&s.localName==="details"}function Gl(s){return pt(s)&&s.localName==="summary"}function $l(s){switch(csNodenodeType.apply(s)){case 9:case 11:return!0;default:return!1}}function zl(s){switch(csNodenodeType.apply(s)){case 9:case 11:case 1:return!0;default:return!1}}function Ir(s){return csNodenodeType.apply(s)===9}function As(s){return $l(s)&&"host"in s&&"mode"in s}function Ho(s){return pt(s)&&!!csElementshadowRoot.apply(s)&&As(csElementshadowRoot.apply(s))}var Cs="detached";function Bo(s){let i=s,t=[i];for(;csNodeparentNode.apply(i)!==null;)i=csNodeparentNode.apply(i),csArray.prototype.push.call(t,i);return hi(i)&&csArray.prototype.push.call(t,Cs),{ancestors:t,selectionRoot:i}}function ql(s){let i=s,t=[i],e=null;for(;csNodeparentNode.apply(i)!==null;)e===null&&xo(i)&&(e=i),csArray.prototype.push.call(t,csNodeparentNode.apply(i)),i=csNodeparentNode.apply(i);return hi(i)&&csArray.prototype.push.call(t,Cs),{firstAnchorParent:e,ancestors:t,selectionRoot:i}}function hi(s){return Zt.isValidElement(s)}var Le=(()=>{var s,i;return(i=(s=tt.Element)===null||s===void 0?void 0:s.prototype)!==null&&i!==void 0?i:{}})(),Ft=Le.matches||Le.matchesSelector||Le.mozMatchesSelector||Le.msMatchesSelector||Le.oMatchesSelector||Le.webkitMatchesSelector,Pr=Le.closest,Fo=9;function Wl(s,i){return i?csArray.prototype.some.call(i,t=>Ft.call(s,t)):!1}function Yl(s,i,t){if(s===Cs||csNodenodeType.apply(s)===Fo)return 0;let e=t.dynamicElementNameRegex,n=!!(e!=null&&e.test(i.localName)),r=un(i),a=0,c=i.previousElementSibling;for(;c;)(un(c)===r||n&&(e!=null&&e.test(c.localName)))&&!Wl(c,t.reliableSelectors)&&(a+=1),c=c.previousElementSibling;return a}function Xl(s,i,t){if(s===Cs||csNodenodeType.apply(s)===Fo)return 0;let e=0,n=i.previousElementSibling;for(;n;)Ft.call(n,t)&&(e+=1),n=n.previousElementSibling;return e}var Kl=[/\d{4}/,/^ember\d+$/],Jl="@",Vn="data-cs-override-id",Ql="data-cs-dynamic-id";function Go(s,i,t,e){let n=e.dynamicIdRegex||null,r=e.dynamicElementNameRegex,a=un(s);if(r&&r.test(s.localName)&&(a=csString.prototype.replace.call(a,r,`$1${Jl}`)),eh(s,t)){let y=Un(s);return{hasUniqueIdentifier:!0,elementSelector:`${a}[${Vn}="${y}"]`}}let c=ch(s,t,e);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:`${a}#UA[${c.attributeName}="${c.attributeValue}"]`};let h=Zl(s,t,e);if(h)return{hasUniqueIdentifier:!0,elementSelector:`${a}#UCS[${h}]`};let d=Ul(s);if(ih(s,d,t,n))return{hasUniqueIdentifier:!0,elementSelector:`${a}#${d}`};let g=th(s,e);if(g){let y=Xl(i,s,g);return{hasUniqueIdentifier:!1,elementSelector:`${a}[${g}](${y})`}}let m=Yl(i,s,e);return{hasUniqueIdentifier:!1,elementSelector:`${a}:eq(${m})`}}function Zl(s,i,t){if(t.uniqueCssSelectors){for(let e of t.uniqueCssSelectors)if(Ft.call(s,e)&&ah(e,i))return e}}function th(s,i){if(i.reliableSelectors){for(let t of i.reliableSelectors)if(Ft.call(s,t))return t}}function eh(s,i){let t=Un(s);return t&&csString.prototype.match.call(t,/^[\w-]+$/)&&jn(Vn,t,i)}function sh(s){return Un(s)!==null}function Un(s){return s.getAttribute(Vn)}function ih(s,i,t,e){return i&&!sh(s)&&!nh(s,i,e)&&oh(i,t)}function nh(s,i,t){return s.hasAttribute(Ql)||rh(i,t)}function rh(s,i){let t=!1;return s&&i&&(t=i.test(s)),s&&(csArray.prototype.some.call(Kl,e=>e.test(s))||t)}function oh(s,i){return s&&jn("id",s,i)}function jn(s,i,t){try{return window.csquerySelectorAll[t.nodeType].call(t,`[${s}="${i}"]`).length===1}catch(e){if(e.name!=="SyntaxError")throw e}return!1}function ah(s,i){try{return window.csquerySelectorAll[i.nodeType].call(i,s).length===1}catch(t){if(t.name!=="SyntaxError")throw t}return!1}function ch(s,i,t){if(!t.uniqueAttributes)return{success:!1};for(let e of t.uniqueAttributes){let n=s.getAttribute(e);if(n!==null&&jn(e,n,i))return{attributeName:e,attributeValue:n,success:!0}}return{success:!1}}var fn=11;function ui(s,i,t){let e=csArray.prototype.shift.call(s);if(s.length===0)return Or(e,t);let n=e,r=s[0],{elementSelector:a,hasUniqueIdentifier:c}=Go(n,r,i,t);if(!t.fullPath&&c){let d=s[s.length-1];return`${Or(d,t)}${a}`}let h=ui(s,i,t);return`${h?`${h}>`:""}${a}`}function Or(s,i){if(s===Cs)return"|detached|";if(s.host){let{ancestors:t,selectionRoot:e}=Bo(s.host);return`${ui(t,e,i)}|shadow-root|`}return csNodenodeType.apply(s)===fn?"|fragment|":""}var $o=(()=>{class s{constructor(t){this.options=t,this.done=!1,this.path=null}getPath(){if(this.path===null)throw new Error("getPath was called before serializeElement");return this.path}isDone(){return this.done}}return s})(),lh=(()=>{class s extends $o{constructor(){super(...arguments),this.ra=!1,this.oa=!1,this.Jc=!1}LE(t,e){return this.ra&&!(e===null&&hi(t))&&csNodenodeType.apply(t)!==fn&&!t.host}xE(t){return!t.localName}serializeElement(t,e,n){var r;if((r=this.path)!==null&&r!==void 0||(this.path=""),this.LE(t,e))return;let a=!1;e===null&&hi(t)&&(a=!0,this.done=!0);let c=this.oa&&!this.options.fullPath?"":">",h=!!t.host;if(h&&this.path&&(this.path="|shadow-root|"+c+this.path,this.Jc=!0,this.ra=!1,this.oa=!1),!h&&e===null&&csNodenodeType.apply(t)===fn){this.path="|fragment|"+c+this.path,this.done=!0;return}if(this.xE(t))return;let d=e!=null?e:"detached",{elementSelector:g,hasUniqueIdentifier:m}=Go(t,d,n,this.options);m&&(this.oa=!0,this.ra=!this.options.fullPath);let y=`${a?`|detached|${c}`:""}${this.ra&&!m?"":g}`,C=!m&&this.oa&&!this.options.fullPath?"":this.path&&!this.Jc?">":"";this.Jc=!1,this.path=`${y}${C}${this.path}`}}return s})(),yt=(()=>{let s;return function(i){function t(){let m=[n()];return document.documentElement&&csArray.prototype.push.call(m,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(m,document.body.scrollHeight,document.body.offsetHeight),Math.max(...m)}i.documentHeight=t;function e(){return document.documentElement.scrollWidth}i.documentWidth=e;function n(){return window.innerHeight}i.windowHeight=n;function r(){return window.innerWidth}i.windowWidth=r;function a(){let m=window.csScreen.width;return Be(m)&&m>0?m:window.screen.width}i.screenWidth=a;function c(){let m=window.csScreen.height;return Be(m)&&m>0?m:window.screen.height}i.screenHeight=c;function h(){return window.pageXOffset}i.windowOffsetX=h;function d(){return window.pageYOffset}i.windowOffsetY=d;function g(){return{dw:`${e()}`,dh:`${t()}`,ww:`${r()}`,wh:`${n()}`,sw:`${a()}`,sh:`${c()}`}}i.getRequestParameters=g}(s||(s={})),s})();function Qt(s,i=gt.SHOW_ALL){let t=i|gt.SHOW_ELEMENT,e=[document.createTreeWalker(s,t,null,!1)],n=Nr(s);n&&csArray.prototype.push.call(e,document.createTreeWalker(n,t,null,!1));let r=null;return{root:s,nextNode(){if(n){let a=n;return n=null,a}for(;e.length>0;){if(r){let d=r;return r=null,d}let c=e[e.length-1].nextNode();if(!c){csArray.prototype.pop.call(e);continue}let h=Nr(c);if(i&gt.SHOW_DOCUMENT_FRAGMENT&&h&&(r=h),h&&csArray.prototype.push.call(e,document.createTreeWalker(h,t,null,!1)),(Vi[csNodenodeType.apply(c)]&i)!==0)return c}return null},visitAll(a){Vi[csNodenodeType.apply(s)]&i&&a(s);let c=this.nextNode();for(;c;){if((Vi[csNodenodeType.apply(c)]&i)===0){c=this.nextNode();continue}a(c),c=this.nextNode()}},find(a){let c;return this.visitAll(h=>a(h)&&(c=h)),c},collectAll(a){let c=[];return this.visitAll(h=>csArray.prototype.push.call(c,a?a(h):h)),c}}}function Nr(s){return s&&Ho(s)?s.shadowRoot:null}var xi=(()=>{var s;return(s=tt.Node)!==null&&s!==void 0?s:{}})(),gt=(()=>{var s;return(s=tt.NodeFilter)!==null&&s!==void 0?s:{}})(),Vi={2:gt.SHOW_ATTRIBUTE,4:gt.SHOW_CDATA_SECTION,8:gt.SHOW_COMMENT,11:gt.SHOW_DOCUMENT_FRAGMENT,9:gt.SHOW_DOCUMENT,10:gt.SHOW_DOCUMENT_TYPE,1:gt.SHOW_ELEMENT,[xi.ENTITY_NODE]:gt.SHOW_ENTITY,[xi.ENTITY_REFERENCE_NODE]:gt.SHOW_ENTITY_REFERENCE,[xi.NOTATION_NODE]:gt.SHOW_NOTATION,7:gt.SHOW_PROCESSING_INSTRUCTION,3:gt.SHOW_TEXT},zo=!1,pn=5,Xs=50;function hh(s=5){zo=rt.isPerfLoggingActive(),pn=s}function Hn(s,i){return function(){if(!zo)return s.apply(this,arguments);let t=j.elapsed(),e=s.apply(this,arguments);if(e!=null&&e.then)e.then(()=>{let n=j.elapsed()-t;n>=pn&&V.counters.methodPerformance.add(i,n),n>Xs&&V.counters.blockingTime.push(n-Xs)});else{let n=j.elapsed()-t;n>=pn&&V.counters.methodPerformance.add(i,n),n>Xs&&V.counters.blockingTime.push(n-Xs)}return e}}var Ts=function(s){return function(i,t,e){let n=e.value;e.value=Hn(n,s)}},He=(()=>{let s;return function(i){function t(){return!!Element.prototype.attachShadow}i.isSupported=t;function e(r){return r&&Ho(r)?r.shadowRoot:null}i.getShadowRoot=e;function n(r){return Qt(r,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll(a=>a.host)}i.getAllShadowHosts=Hn(n,"getAllShadowHosts")}(s||(s={})),s})(),Ui=(()=>{var s;return(s=tt.Node)!==null&&s!==void 0?s:Object})(),rs=(()=>{let s;return function(i){let t="isConnected"in Ui.prototype?S=>S.isConnected:S=>!S.ownerDocument||!(S.ownerDocument.compareDocumentPosition(S)&S.DOCUMENT_POSITION_DISCONNECTED);function e(S,P){for(let N=S;N;N=csNodenextSibling.apply(N))P(S)}i.forEachChild=e;function n(S){return t(S)}i.isConnected=n;function r(S,P){let N=[];for(let L of h(S,P))csArray.prototype.push.call(N,L);return N}i.getAncestors=r;let a=(S,P)=>{var N;return(N=csNodeparentNode.apply(S))!==null&&N!==void 0?N:P&&As(S)?S.host:null};function c(S,P,N=!1){let L=S;for(;L;){if(P(L))return L;let et=a(L,N);if(et&&et!==L)L=et;else break}return null}i.findAncestor=c;function*h(S,P=!1){let N=S;for(;N;){yield N;let L=a(N,P);if(L&&L!==N)N=L;else break}}i.walkUp=h;function d(S,P){if(S===P||P.contains(S))return!0;let N=i.getParentElement(S);return N&&N!==S?d(N,P):!1}i.isDescendantOf=d;function g(S){var P;return S.parentElement?S.parentElement:i.getRootNode(S)?(P=i.getRootNode(S))===null||P===void 0?void 0:P.host:null}i.getParentElement=g;function m(S,P=document){let N=li(window.csquerySelectorAll[P.nodeType].call(P,S)),L=He.getAllShadowHosts(P);for(let et of L){let at=He.getShadowRoot(et);if(!at)continue;let zt=li(window.csquerySelectorAll[at.nodeType].call(at,S));csArray.prototype.push.call(N,...zt)}return N}i.findAllElements=m,i.getRootNode=(()=>{if("getRootNode"in Ui.prototype)return(N,L)=>N.getRootNode(L);function S(N){let L=P(N);return As(L)?S(L.host):L}function P(N){return csNodeparentNode.apply(N)!=null?P(csNodeparentNode.apply(N)):N}return(N,L)=>typeof L=="object"&&!!L.composed?S(N):P(N)})();function y(S){return S==="transparent"||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(S)}function E(S){let P=S.getBoundingClientRect();return P.right+yt.windowOffsetX()<0||P.bottom+yt.windowOffsetY()<0}function C(S){var P,N;if(((P=S.checkVisibility)===null||P===void 0?void 0:P.call(S,{checkOpacity:!0,checkVisibilityCSS:!0}))===!1)return!0;if(!S.offsetParent){if(!S.getBoundingClientRect)return rt.warn(`SUP-11432: Element doesn't have getBoundingClientRect. Node: ${S instanceof Ui} Ctor: ${(N=S==null?void 0:S.constructor)===null||N===void 0?void 0:N.name}`),!1;let at=S.getBoundingClientRect();if(at.width===0&&at.height===0)return!0}let L=window.getComputedStyle(S);return L?L.display==="none"||L.visibility==="hidden"||L.visibility==="collapse"||L.opacity==="0"||L.filter==="opacity(0)"||L.width==="0px"&&L.height==="0px"||y(L.color):!0}i.isHiddenByCSS=C;function k(S){if(C(S))return!0;let N=g(S);return N!=null&&k(N)}i.areAncestorsHiddenByCSS=k;function x(S){let P=null,N=S;do if(C(N))P=N;else break;while(N=g(N));return P}i.getTopAncestorHiddenByCSS=x;function _(S){let P=w(S);return P!==null&&!S.contains(P)&&!P.contains(S)}function w(S){let P=S.getBoundingClientRect(),N=P.left+.5*P.width,L=P.top+.5*P.height;return I(document,N,L)}i.getTopElement=w;function O(S){if(!S.getBoundingClientRect)return null;let P=S.getBoundingClientRect(),N=P.x+P.width/2,L=P.y+P.height/2;return i.getTopElementFromPoint(document,N,L)}i.getElementOnTop=O;function I(S,P,N){let L=S.elementFromPoint(P,N);if(!L)return null;let et=He.getShadowRoot(L);return et&&et!==i.getRootNode(document.body)&&et!==S?I(et,P,N):L}i.getTopElementFromPoint=I;function T(S){return!E(S)&&!C(S)&&!_(S)}i.isVisibleInDocument=T;function M(S){return C(S)?!1:W(S)}i.isVisibleInViewportInForeground=M;function W(S){let P=w(S);return P===null?!1:S===P?!0:vt(S)?S.textContent!==""&&P.contains(S):S.contains(P)}i.isInViewPort=W;function K(S,P,N){let L=S.getAttributeNS(P,N);return L===""?S.hasAttributeNS(P,N)?L:null:L}i.getAttributeNS=K;function St(S){return!!(S.hasAttribute("tabIndex")||S.getAttribute("contentEditable")==="true"||xo(S)&&S.hasAttribute("href")||(jo(S)||Vo(S)||xn(S)||Bl(S))&&!S.hasAttribute("disabled")||Fl(S)||Gl(S))}i.isElementFocusable=St;function vt(S){return S.localName==="span"||S.localName==="a"||S.localName==="b"||S.localName==="i"||S.localName==="button"||S.localName==="input"||S.localName==="label"||S.localName==="cite"||S.localName==="small"||S.localName==="strong"||S.localName==="code"||S.localName==="abbr"||S.localName==="em"||S.localName==="dfn"||S.localName==="time"||S.localName==="output"||S.localName==="object"||S.localName==="sub"}i.isInlineElement=vt;function Rt(S){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>S(),{once:!0}):csSetTimeout(S)}i.onDocumentLoaded=Rt}(s||(s={})),s})(),uh=(()=>{class s{constructor(t){this.VE=t}run(t){let e=[...this.VE],n=rs.getAncestors(t,!1),r=n[n.length-1];for(;e.length>0&&n.length>0;){let a=csArray.prototype.shift.call(n),c=n[0]||null;if(this.UE(e,a,c,r),this.jE(e),e.length===0)break;n.length===0&&a.host&&(n=rs.getAncestors(a.host,!1),r=n[n.length-1])}}UE(t,e,n,r){for(let a of t)a.serializeElement(e,n,r)}jE(t){for(let e=0;e<t.length;e++)t[e].isDone()&&(csArray.prototype.splice.call(t,e,1),e--)}}return s})(),dh=(()=>{class s extends $o{serializeElement(t){var e;if((e=this.path)!==null&&e!==void 0||(this.path=""),(t==="detached"||t.localName==="body")&&(this.done=!0,this.path.length>0))return;let n=this.HE(t);if(n+=n.length>0?"|":"",this.path.length+n.length>this.options.hierarchyMaxLength){this.done=!0;return}this.path=n+this.path}HE(t){if(!t.localName)return"";let e=`@${t.localName};`;return e+=this.BE(t.id),t.classList&&(e+=this.FE(csArray.from(t.classList))),t.attributes&&(e+=this.GE(t)),e}BE(t){return t?`#${t};`:""}FE(t){return t.length>0?`.${csArray.prototype.join.call(csArray.prototype.sort.call(t),";.")};`:""}$E(t,e){var n,r;return((r=(n=this.options).isAttributeSensitive)===null||r===void 0?void 0:r.call(n,t,e))||csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,e)!==-1||Uo(t)&&csString.prototype.indexOf.call(e,"data-")===-1&&e!=="aria-label"||xn(t)&&e==="value"}zE(t,e){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(t)||e.length>this.options.attrMaxLength}qE(t){let e={};for(let n of csArray.from(t.attributes))this.$E(t,n.name)||(e[n.name]=n.value);return e}GE(t){var e,n;if(!((n=(e=this.options).isNodeSensitive)===null||n===void 0)&&n.call(e,t))return"";let r=Object.entries(this.qE(t));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(r,([a])=>a.length<this.options.attrMaxLength),([a,c])=>this.zE(a,c)?`[${a}]`:`[${a}=${c}]`)),";")+(r.length>0?";":"")}}return s})(),Zt=(()=>{let s;return function(i){i.INVALID_ELEMENT="INVALID_ELEMENT";function t(c){return!!c&&"localName"in c&&"getAttribute"in c&&"hasAttribute"in c&&"parentNode"in c}i.isValidElement=t;function e(c,h,d={fullPath:!1,dynamicIdRegex:null}){let g=a(c);if(g===document)return{path:"",hierarchy:""};if(!t(g))return{path:i.INVALID_ELEMENT,hierarchy:i.INVALID_ELEMENT};let m=new lh(d),y=new dh(h);return new uh([m,y]).run(g),{path:m.getPath(),hierarchy:y.getPath()}}i.getElementPathAndHierarchy=e;function n(c,h={fullPath:!1,dynamicIdRegex:null}){let d=a(c);if(d===document)return"";if(!t(d))return i.INVALID_ELEMENT;let{ancestors:g,selectionRoot:m}=Bo(d);return ui(g,m,h)}i.getElementPath=n;function r(c,h={fullPath:!1,dynamicIdRegex:null}){let d=a(c);if(d===document)return{path:"",firstAnchorParent:null};if(!t(d))return{path:i.INVALID_ELEMENT,firstAnchorParent:null};let{firstAnchorParent:g,ancestors:m,selectionRoot:y}=ql(d);return{path:ui(m,y,h),firstAnchorParent:g}}i.getElementPathAndFirstAnchorParent=r;function a(c){return c&&"jquery"in c&&c.length===1?c[0]:c}}(s||(s={})),s})();window.CSPathComputation=window.CSPathComputation||Zt;var qo=["t.contentsquare.net","clicktale"],fh=s=>{var i;if(typeof s.filename=="string"&&csArray.prototype.some.call(qo,t=>csString.prototype.indexOf.call(s.filename,t)>-1)&&!(csString.prototype.indexOf.call(s.filename,"blob")>-1&&(s.message==null?void 0:csString.prototype.indexOf.call(s.message,"importScripts"))>-1)){let t=new Error(s.message);t.stack=(i=s.error)===null||i===void 0?void 0:i.stack,B.critical(t)}};window.addEventListener("error",fh);var B=(()=>{class s{constructor(){}static whiteListFilename(t){csArray.prototype.push.call(qo,t)}static setStrategy(t){s._n=t}static computeIsActive(t){s.Ge=$e.boolean(t),s.Ge?s.Qc=$e.boolean(10):s.Qc=!1}static isLoggingActive(){return s.Ge}static getStrategy(){return s._n}static debug(t,e=""){s.Ge&&this._n.send(t,e,Z.debug)}static warn(t,e=!0,n=""){var r;V.counters.errors.count("warning"),s.Ge&&e&&this._n.send(t,n,Z.warn),(r=window.UXAnalytics.Console)===null||r===void 0||r.warn(t)}static implementation(t,e=""){V.counters.errors.count("implementation"),s.Ge&&this._n.send(t,e,Z.implementation)}static error(t,e=""){var n;V.counters.errors.count("error"),s.Ge&&this._n.send(t,e,Z.error),(n=window.UXAnalytics.Console)===null||n===void 0||n.error(t)}static critical(t,e=""){V.counters.errors.count("critical"),this._n.send(t,e,Z.critical)}static tryToExecute(t,e){return function(...n){try{let r=e.apply(this,n);return X(tt.Promise)&&r instanceof tt.Promise?r.then(a=>a,a=>s.error(te(a)?a:new Error(a),t)):r}catch(r){try{s.error(te(r)?r:new Error(r),t)}catch{}}}}static isPerfLoggingActive(){return s.Qc}}return s.Ge=!1,s.Qc=!1,s})();function ph(s){return wt(s,"data:")}var Mr=/\bhttps?:\/\/[^\s<>"')\]]*[^\s<>"'),.;:â€¦\])]/gi;function gh(s){Mr.lastIndex=0;let i,t=0,e=[];for(;(i=Mr.exec(s))!==null;){let n=i.index,r=i.index+i[0].length;if(n>t){let c=csString.prototype.slice.call(s,t,n);csArray.prototype.push.call(e,{content:c,isUrl:!1})}let a=csString.prototype.slice.call(s,n,r);csArray.prototype.push.call(e,{content:a,isUrl:!0}),t=r}if(t<s.length){let n=csString.prototype.slice.call(s,t);csArray.prototype.push.call(e,{content:n,isUrl:!1})}return e}var mh=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],Wo=s=>{let i=new Set(mh);return csArray.prototype.forEach.call(s,t=>{i.add(t)}),i};function ji(s){return s?yh(s):null}function yh(s){try{let i=/^\/(.*)\/([gim]*)$/.exec(s);if(i){let[,t,e]=i;return new csRegExp(`^${t}$`,e)}return new csRegExp(`^${s}$`)}catch{return null}}var Eh=/^\d+\.\d+(?:\.\d+)?$/,Sh=s=>{if(!Eh.test(s))return;let[i,t,e]=csArray.prototype.map.call(csString.prototype.split.call(s,"."),Number);return{major:i,minor:t,patch:!e||Number.isNaN(e)?0:e}},vh=(s,i)=>s.major!==i.major?s.major-i.major:s.minor!==i.minor?s.minor-i.minor:s.patch-i.patch,_h=(s,i)=>vh(s,i)>=0,wh=1,Ah="f553e78fb58e051e51fe8074c4c6e73e",gn=(()=>{let s;return function(i){i[i.Disabled=0]="Disabled",i[i.ButtonAndLinkOnly=1]="ButtonAndLinkOnly",i[i.Enabled=2]="Enabled"}(s||(s={})),s})(),di=(()=>{let s;return function(i){i[i.Automatic=1]="Automatic",i[i.Manual=2]="Manual"}(s||(s={})),s})(),Th=(()=>{class s{constructor(t){var e,n,r,a,c,h,d,g,m,y,E,C,k,x,_;this.isChild=!1,this.useFastDOM=!!t.useFastDOM,this.isSMB=(e=t.isSMB)!==null&&e!==void 0?e:!1,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.settingsFileUri=t.settingsFileUri,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||Nn,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.collectionEnabled=!!(!((a=(n=t.collectionEnabled)!==null&&n!==void 0?n:(r=t.smbConfig)===null||r===void 0?void 0:r.record)!==null&&a!==void 0)||a),this.useSentry=!!((c=t.useSentry)!==null&&c!==void 0?c:!((h=t.smbConfig)===null||h===void 0)&&h.useSentry),this.apiErrors={enabled:(d=t.apiErrorsEnabled)!==null&&d!==void 0?d:0,...t.apiErrors},this.customErrors={enabled:(g=t.customErrorsEnabled)!==null&&g!==void 0?g:0,...t.customErrors},this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=ji(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=ji(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=ji(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.recordingUrlRules=(m=t.recordingUrlRules)!==null&&m!==void 0?m:[],this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex===""&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions={...t.taskSchedulerOptions,enabled:!!t.taskSchedulerOptions.enabled}),this.uxaDomain=t.uxaDomain,this.environment=((y=t.uxaDomain)===null||y===void 0?void 0:y.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc={...t.voc,enabled:!!t.voc.enabled}),this.vocData=t.vocData,t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=(E=t.anonymizeDigits)!==null&&E!==void 0?E:null,this.isHeapPresent=window.heap!==void 0,this.recordTargetingRules=(C=t.recordTargetingRules)!==null&&C!==void 0?C:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=t.emitRecordInfoEvents!==!1,this.collectHierarchy=!!t.collectHierarchy,this.collectSubmit=!!t.collectSubmit,this.collectTargetText=(k=t.collectTargetText)!==null&&k!==void 0?k:gn.Disabled,this.identityEncryptionKey=t.identityEncryptionKey||null,this.tagVerificationDomain=t.tagVerificationDomain,this.tagVerificationEnabled=!!t.tagVerificationEnabled,this.trackingCodeVerified=!!t.trackingCodeVerified,this.quotas=(x=t.quotas)!==null&&x!==void 0?x:null,this.startMode=(_=t.startMode)!==null&&_!==void 0?_:di.Automatic,this.customEnhancerConfig=t.customEnhancerConfig||null}getTrackerUri(){return`${this.Ts()}://${this.trackerDomain}`}getSentryFileUri(){return`${this.Ts()}://${this.tagDomain}/uxa/smb/errors.js`}getSentryDSNUri(){return`https://${Ah}@${this.loggerDomain}/4508608369131520`}getRecordingUri(){return`${this.Ts()}://${this.malkaRecordingDomain}`}getLoggerUri(){return`${this.Ts()}://${this.loggerDomain}`}getMetricsUri(){return`${this.Ts()}://${this.loggerDomain}/metrics`}getStaticResourceManagerUri(){return`${this.Ts()}://${this.staticResourceManagerDomain}`}getVerificationEndpoint(){return`${this.Ts()}://${this.tagVerificationDomain}`}getSettingsFileUri(){return this.settingsFileUri?this.settingsFileUri:`${this.Ts()}://${this.dynamicConfDomain}/${this.projectId}.json`}isQuotaEnabled(){return this.isSMB||this.quotas!==null}getPaProxyDomainUri(){return`${this.Ts()}://${this.paProxyDomainUri}`}Ts(){return this.useHttps?"https":"http"}isProjectActive(){return this.status===wh}processOptionOverrides(t){t&&t.forEach&&t.forEach(([e,...n])=>{if(e==="setOption"){let[r,a]=n;this.WE(r,a)}})}WE(t,e){t==="trackerDomain"&&(this.trackerDomain=e),t==="loggerDomain"&&(this.loggerDomain=e),t==="malkaRecordingDomain"&&(this.malkaRecordingDomain=e),t==="staticResourceManagerDomain"&&(this.staticResourceManagerDomain=e),t==="minLogLevel"&&(this.minLogLevel=e),t==="useHttps"&&(this.useHttps=!!e),t==="isWebView"&&(this.isWebView=e),t==="dynamicConfDomain"&&(this.dynamicConfDomain=e),t==="paProxyDomainUri"&&(this.paProxyDomainUri=e),t==="startMode"&&Be(e)&&csArray.prototype.includes.call(Object.values(di),e)&&(this.startMode=e)}getRequestParameters(){return{pid:`${this.projectId}`}}updateDynamicFields(t,e){t==="emitDebugEvents"&&(this.emitDebugEvents=e),t==="minLogLevel"&&(this.minLogLevel=e)}isCsSideloadingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_sideloads_heap"&&!this.isHeapPresent}isHeapSideloadsCs(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"}isHeapSideloadsCsV5(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"&&this.ef()}isHeapSideloadsStartDataCollection(){if(this.isHeapSideloadsCs()){if(this.ef())return!0;let t=Sh(this.getHeapVersion()||"");if(t&&t.major===4&&_h(t,{major:4,minor:23,patch:5}))return!0}return!1}ef(){var t;return typeof((t=window.heap)===null||t===void 0?void 0:t.getUserId)=="function"}getHeapVersion(){var t,e,n,r,a,c;return typeof((t=window.heap)===null||t===void 0?void 0:t.getConfig)=="function"&&((r=(n=(e=window.heap)===null||e===void 0?void 0:e.getConfig())===null||n===void 0?void 0:n.sdk)===null||r===void 0?void 0:r.version)||((c=(a=window.heap)===null||a===void 0?void 0:a.version)===null||c===void 0?void 0:c.heapJsVersion)||void 0}isCsCrosswritingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_crosswrites_heap"}getHeapStorageLocation(){var t,e;return(e=(t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_storage_location)!==null&&e!==void 0?e:null}getHeapWebAppUri(){return this.getHeapStorageLocation()==="eu-west-1"?"https://eu.heapanalytics.com":"https://heapanalytics.com"}isCollectTargetTextEnabled(){return this.isSMB||this.collectTargetText!==gn.Disabled}isNetworkDetailsEnabled(){return this.performanceTimingOptions?this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation:!1}hasRecordingUrlRules(){var t;return!!(!((t=this.recordingUrlRules)===null||t===void 0)&&t.length)}hasTargetingRules(){var t;return!!(!((t=this.recordTargetingRules)===null||t===void 0)&&t.length)}getHeapEnvId(){return this.heapEnvironment?this.heapEnvironment.env_id:""}}return s})(),bh=(()=>{class s{constructor(t,e){this.aa=t,this.sf=e}init(){this.nf=this.aa!==this.aa.top,this.rf=this.sf.isWebView&&this.aa===this.aa.top,this.sf.iframesTracking&&this.nf||this.rf?this.of=!1:this.of=!0}isInIframeContext(){return this.nf}isTopWindowTracker(){return this.of}isInWebViewContext(){return this.rf}}return s})();function Dr(){}function fi(s,i){return csString.prototype.lastIndexOf.call(s,i,0)===0}function Rh(s,i){return csString.prototype.indexOf.call(s,i,s.length-i.length)!==-1}var Bn=(()=>{let s;return function(i){function t(e){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(e),n=>`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`),"&")}i.toQuery=t}(s||(s={})),s})(),Yo=(()=>{class s{constructor(t,e){this.domainUri=t,this.path=e,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}setRequestParametersProviders(...t){this.requestParametersProviders=t}before(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)}after(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)}retrieveParameters(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,t=>t.getRequestParameters()),(t,e)=>({...t,...e})):{}}}return s})(),os=(()=>{class s extends Yo{constructor(t,e){super(t,e)}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,n=>n());let t=this.retrieveParameters();this.Zc(t);let e=Bn.toQuery(t);this.YE(e),csArray.prototype.forEach.call(this.afterRequestCallbacks,n=>n())}YE(t){let e=new window.Image(1,1);e.onload=Dr,e.onerror=Dr,csHTMLImageElementsrc.call(e,`${this.domainUri}${this.path?`/${this.path}`:""}?${t}`)}Zc(t){t.r=csString.prototype.slice.call(`${Math.random()}`,2,8)}}return s})();var Ch=(()=>{class s{constructor(t,e){this.bs=t,this.XE=e}init(){this.Rs=new os(this.bs.getLoggerUri()),this.Rs.setRequestParametersProviders(this,this.XE)}send(t){this.ca=t,this.Rs.send()}getRequestParameters(){return{a:this.ca.app,l:this.ca.level,m:this.ca.message,s:this.ca.stacktrace}}}return s})(),Ih=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,Ph=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,Oh="CS_ANONYMIZED_EMAIL",Hi="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",Nh=new csRegExp(`(ey${Hi}\\.ey${Hi}\\.${Hi})`,"g"),Mh="CS_ANONYMIZED_JWT",Dh=/[0-9]{4}/,kh=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Lh="CS_ANONYMIZED_PII",xh="\u2022",Vh=/\d/g,Uh=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,jh=/(?:\d{1,3}\.){3}\d{1,3}/,Hh=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,pe=(()=>{let s;return function(i){function t(g){return csString.prototype.replace.call(g,Ih,Oh)}i.replaceEmail=t;function e(g){return csString.prototype.replace.call(g,Nh,Mh)}i.replaceJWT=e;function n(g,m){return csString.prototype.replace.call(g,kh,m)}i.replaceCreditCardNumber=n;function r(g){return csString.prototype.replace.call(g,Vh,xh)}i.replaceDigits=r;function a(g){return jh.test(g)||Hh.test(g)}i.mayHaveIPAddress=a;function c(g){return Uh.test(g)}i.mayHaveNumberSequence=c;function h(g){return Dh.test(g)}i.mayHaveCreditCardNumber=h;function d(g){return Ph.test(g)}i.mayHaveEmail=d}(s||(s={})),s})(),Is=(()=>{class s{hasPII(t,e){let n=this.checkAndAnonymizePII(t,e);return t!==n}checkAndAnonymizePII(t,e=null){let n=this.KE(this.tl(t));return e===!0?n=this.JE(n):e===!1&&(n=this.QE(n)),n}anonymizePII(t){return this.tl(t)}anonymizeJwt(t){return pe.replaceJWT(t)}anonymizeFields(t,e){return csArray.prototype.forEach.call(e,n=>{t[n]=this.tl(t[n])}),t}tl(t){if(pe.mayHaveEmail(t)){let e=pe.replaceEmail(t);return e!==t&&V.counters.redactedPII.count("email"),e}return t}JE(t){return pe.replaceDigits(t)}QE(t){return pe.mayHaveNumberSequence(t)?pe.replaceDigits(t):t}KE(t){return pe.mayHaveCreditCardNumber(t)?pe.replaceCreditCardNumber(t,(e,n,r,a,c)=>{if(csString.prototype.indexOf.call(r,"*")===-1){let d=a.length?csArray.prototype.join.call(csString.prototype.split.call(r,a),""):r;if(!this.ZE(d))return e;V.counters.redactedPII.count("cc")}else V.counters.redactedPII.count("cc-partial");return`${n}${Lh}${c}`}):t}ZE(t){let e=parseInt(t[t.length-1]),n=0;for(let r=t.length-2;r>=0;r--){let a=parseInt(t[r]);r%2===0&&(a*=2),n+=Math.floor(a/10)+a%10}return 10-n%10===e}}return s})(),Xo="15.154.4";function Fn(){return{v:Xo}}var Bh=(()=>{class s{constructor(t,e){this.E=t,this.N=e}getRequestParameters(){return{d:`${j.now()}`,p:this.N.anonymizePII(window.location.href),...this.E.getRequestParameters(),...Fn()}}}return s})(),Fh="uxa",kr=5,Gh="No stacktrace",Ko="snippet-",Jo="implementation-snippet-",Lr=(()=>{let s;return function(i){i.IMPLEMENTATION="implementation",i.DYNAMIC="dynamic"}(s||(s={})),s})(),$h=(()=>{class s{constructor(t,e,n){this.Cs=e,this.N=new Is,this.af=ki[Z.warn],this.af=ki[t.minLogLevel||Z.warn],this.Rs=n||new Ch(t,new Bh(t,this.N)),this.cf={[Z.debug]:[],[Z.warn]:[],[Z.implementation]:[],[Z.error]:[],[Z.critical]:[]},this.ha={implementation:{},dynamic:{}},this.Rs.init()}send(t,e="",n=Z.warn){if(!this.tS(n,e))return;csArray.prototype.push.call(this.cf[n],e||"");let r={message:this.eS(t,e),stacktrace:this.sS(t),app:Fh,level:n};this.Rs.send(r)}eS(t,e){let n=te(t)?this.N.anonymizePII(t.message||t.toString()):t;return e&&(n+=` ErrorCode: ${e}`),n}sS(t){return te(t)?`${t.stack||Gh} ${this._r()}`:this._r()}_r(){let t=this.Cs.getVisitorService(),e=t==null?void 0:t.getVisitor();if(!e)return"No context";let n=this.Cs.getSessionService(),r=n&&n.getSession(),a={userId:e.id,sessionNumber:e.visitsCount,pageNumber:r&&r.pageNumber};return csJSON.stringify(a)}tS(t,e){if(ki[t]<this.af)return!1;if((e==null?void 0:csString.prototype.indexOf.call(e,Jo,0))===0)return this.lf(e,Lr.IMPLEMENTATION);if((e==null?void 0:csString.prototype.indexOf.call(e,Ko,0))===0)return this.lf(e,Lr.DYNAMIC);let n=this.cf[t];return n.length>=kr?!1:!(e&&csArray.prototype.some.call(n,r=>r===e))}lf(t,e){return t in this.ha[e]?this.ha[e][t]>=kr?!1:(this.ha[e][t]+=1,!0):(this.ha[e][t]=1,!0)}}return s})(),ft=!Si&&document.createElement("a"),zh=/(:443|:80)$/;function Qo(s){return ft?(ft.href=s,ft.href):""}function qh(s,i){return csArray.prototype.some.call(i,t=>Mn(s,`.${t}`)||s===t||t==="")}function Wh(s){return s[0]==="/"?s:`/${s}`}function xr(s){return csString.prototype.replace.call(s,zh,"")}function Zo(s){return!ft||!wt(s,"http://")&&!wt(s,"https://")?null:(ft.href=s,{hash:ft.hash,host:xr(ft.host),hostname:ft.hostname,href:ft.href,origin:ft.origin?ft.origin:xr(`${ft.protocol}//${ft.host}`),pathname:Wh(ft.pathname),port:ft.port,protocol:ft.protocol,search:ft.search})}var dt=(()=>{let s;return function(i){i.Discovery="discovery",i.Stop="stop",i.RecordingContext="recordingContext",i.SensitiveStatus="sensitiveStatus",i.RecordingEvent="recordingEvent",i.EndOfBufferedMessages="endOfBufferedMessages",i.ChildLogMessage="childLogMessage",i.AnalysisEvent="analysisEvent",i.JavascriptError="javascriptError",i.ApiError="apiError",i.Assets="assets",i.DetailedApiError="detailedApiError",i.EmerchandisingMessage="emerchandisingMessage",i.Commands="commands",i.IntegrationCallback="integrationCallback",i.StaticResource="staticResource",i.TrackingContextResultMessage="trackingContextResultMessage",i.TrackingContextRequestMessage="trackingContextRequestMessage",i.CustomError="customError"}(s||(s={})),s})();var Yh=(()=>{class s{setContext(t,e){this.O=t,this.C=e}getVisitorService(){return this.O}getSessionService(){return this.C}}return s})(),mn=!1;function Xh(){mn=!0}function Ee(){return(s,i,t)=>{if(t){let e=t.value;t.value=function(n,r){(n==null?void 0:n.isTrusted)===!1&&mn||e.call(this,n,r)}}else{let e=s[i];if(typeof e!="function")return;s[i]=function(n,...r){(n==null?void 0:n.isTrusted)===!1&&mn||e.call(this,n,r)}}}}function Kh(s){if(document!=null&&document.prerendering){document.addEventListener("prerenderingchange",s,{once:!0});return}s()}function $(s,i,t,e){var n=arguments.length,r=n<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,i,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(r=(n<3?a(r):n>3?a(i,t,r):a(i,t))||r);return n>3&&r&&Object.defineProperty(i,t,r),r}function Jh(){let s=new MutationObserver(i=>{i.forEach(t=>{kt(t.removedNodes,e=>{e instanceof HTMLElement&&e.tagName==="CS-NATIVE-FRAME-HOLDER"&&(V.counters.pureWindowState.count("iframe-deletion"),rt.warn("<cs-native-frame-holder> deleted"),s.disconnect())})})});s.observe(document.body,{childList:!0})}function Vr(s){return typeof s!="function"?!1:s.toString().indexOf("[native code]")!==-1}function Qh(){(!Vr(MutationObserver)||!Vr(MutationObserver.prototype.observe))&&V.counters.patchedNativeFunctions.count("MutationObserver")}function Zh(){try{window.CSPureWindow&&Jh(),Qh()}catch{}}var st=(()=>{let s;return function(i){i.CURRENT_DOMAIN="CURRENT_DOMAIN";function t(h){let g=new csRegExp(`(^|;)[ ]*${h}=([^;]*)`).exec(document.cookie);return g?decodeURIComponent(g[2]):null}i.get=t;function e(h,d,g,m,y,E){let C=encodeURIComponent(`${d}`),k=g===i.CURRENT_DOMAIN?void 0:g,x=n(m),_=x?`;expires=${x.toUTCString()}`:"",w=";path=/",O=Et(k)?`;domain=${k}`:"",I=`${h}=${C}${_}${w}${O}`;return X(y)&&y!==_e.NotSet&&(I=`${I};SameSite=${y}`),X(E)&&E===jt.Yes&&(I=`${I};Secure`),document.cookie=I,!0}i.set=e;function n(h){return Ot(h)?new csDate(j.now()+h):h}i.toExpireDate=n;function r(h,d){t(h)&&e(h,"",d,new csDate(0)),t(h)&&e(h,"",d,new csDate(0),_e.None,jt.Yes)}i.remove=r;function a(){return document.cookie.length>0}i.isCookiePresent=a;function c(h,d){let g="_cs_root-domain",m=t(g);if(m!==null&&m!=="1")return m;let y=csString.prototype.split.call(window.location.hostname,"."),E=csArray.prototype.pop.call(y);for(;y.length&&(m===null||m==="1");)E=csArray.prototype.join.call([csArray.prototype.pop.call(y),E],"."),e(g,E,E,void 0,h,d),m=t(g);return r(g,E),E}i.getRootDomain=c}(s||(s={})),s})(),tu=(()=>{let s;return function(i){function t(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}i.browserIsSafariV12=t}(s||(s={})),s})(),_e=(()=>{let s;return function(i){i.None="None",i.Lax="Lax",i.NotSet="X"}(s||(s={})),s})(),jt=(()=>{let s;return function(i){i[i.Yes=1]="Yes",i[i.No=0]="No"}(s||(s={})),s})(),vi=(()=>{class s{constructor(t,e,n){this.E=t,this.R=e,this.Oi=n,this.sl=!1,this.hf=_e.NotSet,this.il=jt.No}getSameSiteFlag(){return this.hf}getSecureFlag(){return this.il}getDomain(){return this.nl}getRootDomain(){return this.uf}init(){if(this.E.cookielessTrackingEnabled)return;let t=this.iS(),e=this.nS();this.sl=this.rS(t,e),this.sl?(this.hf=t,this.il=e):this.E.secureCookiesEnabled&&this.R.getUrlProtocol()==="https:"&&(this.il=jt.Yes),this.uf=this.oS(),this.nl=this.aS(this.uf)}rS(t,e){return tu.browserIsSafariV12()?!1:(st.set(s.COOKIE_TEST_FOR_SAME_SITE,"Test same site",s.CURRENT_DOMAIN,void 0,t,e),st.get(s.COOKIE_TEST_FOR_SAME_SITE)?(st.remove(s.COOKIE_TEST_FOR_SAME_SITE,s.CURRENT_DOMAIN),!0):!1)}iS(){return this.R.getUrlProtocol()==="http:"?_e.Lax:this.Oi.isSameSiteNoneSecureNeeded()||this.E.crossDomainTracking?_e.None:_e.Lax}nS(){return this.R.getUrlProtocol()==="http:"?jt.No:this.E.secureCookiesEnabled||this.E.crossDomainTracking||this.Oi.isSameSiteNoneSecureNeeded()?jt.Yes:jt.No}isSameSiteSupported(){return this.sl}set(t,e,n,r){let a=st.toExpireDate(n),c=r?jt.Yes:this.getSecureFlag();st.set(t,e,this.nl,a,this.getSameSiteFlag(),c)}get(t){let n=new csRegExp(`(^|;)[ ]*${t}=([^;]*)`).exec(document.cookie);return n?decodeURIComponent(n[2]):null}delete(t,e){let n=e||this.nl;st.remove(t,n)}oS(){let t=this.Oi.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),e=t?_e.None:void 0,n=t?jt.Yes:void 0;return st.getRootDomain(e,n)}aS(t){return this.E.allowSubdomains?t:st.CURRENT_DOMAIN}}return s.CURRENT_DOMAIN="CURRENT_DOMAIN",s.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",s})(),es="_cs_t",Ur="1",eu=(()=>{class s{constructor(t,e){this.It=t,this.E=e,this.ua=!1,this.da=!1}init(){if(!this.E.cookielessTrackingEnabled&&this.It.isTopWindowTracker()&&"cookie"in document){if(!this.It.isInIframeContext()&&st.isCookiePresent()){this.ua=!0,this.da=!1;return}if(st.set(es,Ur,st.CURRENT_DOMAIN),st.get(es)!==null){this.ua=!0,this.da=!1,st.remove(es,st.CURRENT_DOMAIN);return}st.set(es,Ur,st.CURRENT_DOMAIN,void 0,_e.None,jt.Yes),st.get(es)!==null&&(this.ua=!0,this.da=!0,st.remove(es,st.CURRENT_DOMAIN))}}areCookiesEnabled(){return this.ua}isSameSiteNoneSecureNeeded(){return this.da}}return s})();function su(){let s="CSSessionStorageTest";try{return sessionStorage.setItem(s,s),sessionStorage.getItem(s)!==s?!1:(sessionStorage.removeItem(s),!0)}catch{return!1}}var iu=(()=>{class s{constructor(t,e){this.E=t,this.Oi=e}canTrack(){return this.E.isProjectActive()&&this.cS()&&this.df()&&this.lS()}canTrackInChild(){return this.E.isProjectActive()&&this.hS()&&(this.df()||this.uS())}lS(){return this.E.cookielessTrackingEnabled?su():this.Oi.areCookiesEnabled()}df(){return qh(window.location.hostname,this.E.hostnames)}cS(){return!this.ff()&&this.dS()}hS(){return!this.ff()&&this.fS()}uS(){return window.location.protocol==="about:"&&window.location.hostname===""}ff(){return"visibilityState"in document&&document.visibilityState==="prerender"}dS(){return this.pf()&&this.pS()}fS(){return this.pf()}pS(){try{return!!window.localStorage}catch{return!1}}pf(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window}}return s})(),ta=":";function jr(s){let i=[],t=nu(s),e=csString.prototype.split.call(t,"/");for(let n of e)wt(n,ta)?csArray.prototype.push.call(i,{key:n,value:`CS_ANONYMIZED_${csString.prototype.toUpperCase.call(csString.prototype.slice.call(n,1))}`}):csArray.prototype.push.call(i,{key:n,value:null});return i}function nu(s){let i=s;return wt(s,"/")&&(i=csString.prototype.substring.call(i,1)),Mn(s,"/")&&(i=csString.prototype.slice.call(i,0,-1)),i}var ru=/\b((?:profile|user|last|first|primary|primary(?:[/_+-]|%20)?last)(?:[/_+-]|%20)?(?:name)[/=])[^#;?&/]+/gi,ou="$1CS_ANONYMIZED_NAME",au=(()=>{class s{constructor(t){this.N=t}anonymizeUrl(t,e={}){let n=e.maskingPatterns||[],r=e.partialMaskingPatterns||[],a=this.N.anonymizePII(t);if(a=this.N.anonymizeJwt(a),e.maskNames){let d=a;a=this.wr(a),a!==d&&(V.counters.redactedPII.count("name"),V.counters.redactedPII.count("name-in-url"))}let c=this.gS(a,n);if(c!==a)return V.counters.redactedPII.count("url"),c;let h=this.mS(a,r);return h!==a&&V.counters.redactedPII.count("url"),h}removeQueryString(t){let{path:e,queryString:n}=this.rl(t);return n!==""?`${e}?`:e}rl(t){let e=csString.prototype.indexOf.call(t,"?"),n,r="";return e!==-1?(n=csString.prototype.slice.call(t,0,e),r=csString.prototype.slice.call(t,e,t.length)):n=t,{path:n,queryString:r}}gS(t,e){if(e.length===0)return t;let{path:n,queryString:r}=this.rl(t),a=csString.prototype.split.call(n,"/");for(let c of e){let h=this.yS(a,c);if(h!==null)return`${h}${r}`}return t}yS(t,e){if(t.length<e.length)return null;let n=[];for(let r=0;r<t.length;r++){let a=t[r];if(r>=e.length){csArray.prototype.push.call(n,a);continue}let c=e[r].key;if(this.gf(c)){let h=e[r].value;csArray.prototype.push.call(n,h);continue}if(a===c){csArray.prototype.push.call(n,a);continue}return null}return csArray.prototype.join.call(n,"/")}mS(t,e){if(e.length===0)return t;let{path:n,queryString:r}=this.rl(t),a=csString.prototype.split.call(n,"/");for(let c of e)a=this.ES(a,c);return`${csArray.prototype.join.call(a,"/")}${r}`}ES(t,e){let n=[],r=0,c=t[0]==="http:"||t[0]==="https:"?2:0;for(let h=0;h<t.length;h++){let d=t[h],g=e[r].key;if(this.gf(g)&&h>=c){let m=e[r].value;csArray.prototype.push.call(n,d.length>0?m:""),r++,r===e.length&&(r=0);continue}if(d===g){csArray.prototype.push.call(n,d),r++,r===e.length&&(r=0);continue}for(let m=0;m<r;m++){let y=h-r+m;n[y]=t[y]}r=0,csArray.prototype.push.call(n,d)}for(let h=0;h<r;h++){let d=t.length-r+h;n[d]=t[d]}return n}gf(t){return wt(t,ta)}wr(t){return csString.prototype.replace.call(t,ru,ou)}}return s})(),cu="spki",Hr="RSA-OAEP",lu="SHA-256",Br="AES-CTR",hu="SHA-1",Fr=190,Ss=(()=>{let s;return function(i){var t;let e=!1,n=null,r,a=typeof TextEncoder!="undefined"?new TextEncoder:null,c;i.crypto=(t=tt.crypto)===null||t===void 0?void 0:t.subtle,i.MAX_DIGEST_INPUT_SIZE=100;function h(){return!e}i.isKeyImported=h;function d(){return n}i.getCryptoKey=d;function g(){var I,T;return((T=(I=tt.self.crypto)===null||I===void 0?void 0:I.subtle)===null||T===void 0?void 0:T.encrypt)!=null&&tt.self.CryptoKey!=null}i.isSupported=g;async function m(I){r=i.crypto.importKey(cu,ul(I),{name:Hr,hash:lu},!1,["encrypt"]).catch(()=>(e=!0,null)),n=await r,r=void 0,n||rt.warn(`Fail to import public key '${I}'`)}i.importKey=m;async function y(I){if(!g()||e)return null;await r;let T=Ro(I);T.byteLength>Fr&&(T=T.slice(0,Fr));try{let M=await i.crypto.encrypt({name:Hr},n,T);return Er(M)}catch{return null}}i.asymmetricEncrypt=y;async function E(I,T){if(!g()||e)return null;let M={counter:T.initializationVector,name:Br,length:64},W=a.encode(I);try{let K=await i.crypto.encrypt(M,T.cryptoKey,W);return Er(K)}catch{return null}}i.symmetricEncrypt=E;async function C(I){let T=await k(I);if(!T)throw new Error("Export secret failed");let M=await y(T);if(!M)throw new Error("Encrypt secret failed");return M}i.encryptSecret=C;async function k(I){var T;if(!g())return null;try{return(T=(await i.crypto.exportKey("jwk",I)).k)!==null&&T!==void 0?T:null}catch{return null}}async function x(){if(!g()||e)return null;try{return{cryptoKey:await i.crypto.generateKey({name:Br,length:128},!0,["encrypt","decrypt"]),initializationVector:tt.crypto.getRandomValues(new Uint8Array(16))}}catch{return null}}i.generateSymmetricKey=x;function _(I){c=I}i.setDigestSalt=_;async function w(I){I=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(I)),c&&(I=`${I}:${c}`);let T=a.encode(I);try{let M=await i.crypto.digest(hu,T);return dl(M)}catch{return null}}i.digest=w;function O(){return tt.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}i.generateKeyPair=O}(s||(s={})),s})(),Xt=(()=>{let s;return function(i){i.REGEX="regex",i.START="start",i.NOT_START="not-start",i.END="end",i.NOT_END="not-end",i.CONTAIN="contain",i.NOT_CONTAIN="not-contain",i.EXACT="exact",i.NOT_EXACT="not-exact"}(s||(s={})),s})(),ge=(()=>{let s;return function(i){i.START="start",i.NOT_START="not-start",i.END="end",i.NOT_END="not-end",i.CONTAIN="contain",i.NOT_CONTAIN="not-contain",i.EXACT="exact",i.NOT_EXACT="not-exact"}(s||(s={})),s})(),Me=(()=>{let s;return function(i){i.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",i.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",i.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",i.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(s||(s={})),s})(),Gn=(()=>{class s{constructor(){this.ol=[]}setRegexRules(t){this.ol=csArray.prototype.filter.call(csArray.prototype.map.call(t,e=>this.SS(e)),e=>e!==null)}evaluateUrl(t){return csArray.prototype.some.call(this.ol,e=>this.mf(t,e))}getMatchingRules(t){return csArray.prototype.map.call(csArray.prototype.filter.call(this.ol,e=>this.mf(t,e)),e=>e.ruleInput)}mf(t,e){var n,r;let a=this.vS(t,e);return!this._S(e)||!this.wS(e)?!1:!!(e!=null&&e.notOperator?!(!((n=e.regex)===null||n===void 0)&&n.test(a)):!((r=e.regex)===null||r===void 0)&&r.test(a))}_S(t){let e=new csDate,n=t.startDate&&t.startDate>e,r=t.endDate&&t.endDate<e;return!n&&!r}wS(t){let e=t.samplingRate!==100,n=e&&$e.boolean(t.samplingRate);return!e||n}fa(t){return!wt(t,"http://")&&!wt(t,"https://")?`https://${t}`:t}vS(t,e){let n=Zo(this.fa(t));return n?e.ignoreQueryParams&&e.ignoreURIFragments?`${n.origin}${n.pathname}`:e.ignoreQueryParams?`${n.origin}${n.pathname}${n.hash}`:e.ignoreURIFragments?`${n.origin}${n.pathname}${n.search}`:t:t}pa(t){return t!=null&&t.ignoreCaseSensitivity?"i":""}SS(t){let e=null,n=!1;switch(t.operator){case ge.NOT_START:case Xt.NOT_START:n=!0;case ge.START:case Xt.START:e=new csRegExp(`^${t.value}`,this.pa(t));break;case ge.NOT_END:case Xt.NOT_END:n=!0;case ge.END:case Xt.END:e=new csRegExp(`${t.value}$`,this.pa(t));break;case ge.NOT_CONTAIN:case Xt.NOT_CONTAIN:n=!0;case ge.CONTAIN:case Xt.CONTAIN:case Xt.REGEX:e=new csRegExp(`${t.value}`,this.pa(t));break;case ge.NOT_EXACT:case Xt.NOT_EXACT:n=!0;case ge.EXACT:case Xt.EXACT:e=new csRegExp(`^${t.value}$`,this.pa(t));break;default:rt.warn(`compileRegexRule, unknown operator: ${t.operator}`)}if(e===null)return null;let r=t.startDate?this.yf(t.startDate):void 0,a=t.endDate?this.yf(t.endDate):void 0;return{regex:e,ignoreQueryParams:t.ignoreQueryParams,ignoreURIFragments:t.ignoreURIFragments,notOperator:n,samplingRate:t.samplingRate!==void 0?t.samplingRate:100,startDate:r,endDate:a,ruleInput:t}}yf(t){let e=new csDate(t);return isNaN(e.getTime())?void 0:e}}return s})(),$n=(()=>{class s{constructor(){this.listeners=[]}addListener(t){csArray.prototype.push.call(this.listeners,t)}}return s})(),vs="|iframe|",uu=(()=>{class s extends $n{constructor(t,e,n,r){super(),this.AS=t,this.TS=e,this.bS=n,this.RS=r}emitIframeEvent(t,e,n){if(this.CS(e)&&t===null){B.error(`iframeEventEmitter received event ${e} with null iframe, content:${csJSON.stringify(n)}`);return}switch(e){case dt.ChildLogMessage:this.IS(n);break;case dt.AnalysisEvent:{let r=n,a=this.AS.transformEvent(t,r);a.isUserEvent?this.PS(a.event):this.OS(a.event);break}case dt.RecordingEvent:{let r=n,a=this.RS.transformEvents(t,r);if(a.events.length===0)return;a.containsUserEvent?this.NS(a.events):this.MS(a.events);break}case dt.JavascriptError:this.DS(n);break;case dt.ApiError:this.kS(n);break;case dt.DetailedApiError:this.LS(n);break;case dt.CustomError:this.xS(n);break;case dt.EmerchandisingMessage:{let r=this.bS.transformEvent(t,n);this.VS(r);break}case dt.Commands:{let r=this.TS.transformEvent(t,n);this.US(r);break}case dt.IntegrationCallback:this.jS(n);break;case dt.StaticResource:this.HS(n);break;case dt.TrackingContextRequestMessage:this.BS(n);break;default:B.error(`Parent received unknown data type from iframe : ${csJSON.stringify(n)}`)}}CS(t){let e=[dt.AnalysisEvent,dt.RecordingEvent,dt.EmerchandisingMessage,dt.Commands];return csArray.prototype.indexOf.call(e,t)!==-1}IS(t){let{message:e,errorCode:n,level:r}=t;switch(r){case Z.debug:B.debug(e,n);break;case Z.warn:B.warn(e,!0,n);break;case Z.implementation:B.implementation(e,n);break;case Z.error:B.error(e,n);break;case Z.critical:B.critical(e,n);break}}PS(t){for(let e of this.listeners)e.onIframeAnalysisUserEvent&&e.onIframeAnalysisUserEvent(t)}OS(t){for(let e of this.listeners)e.onIframeAnalysisBrowserEvent&&e.onIframeAnalysisBrowserEvent(t)}NS(t){for(let e of this.listeners)e.onIframeRecordingUserEvent&&e.onIframeRecordingUserEvent(t)}MS(t){for(let e of this.listeners)e.onIframeRecordingBrowserEvent&&e.onIframeRecordingBrowserEvent(t)}DS(t){for(let e of this.listeners)e.onIframeJavascriptError&&e.onIframeJavascriptError(t)}kS(t){for(let e of this.listeners)e.onIframeApiError&&e.onIframeApiError(t)}LS(t){for(let e of this.listeners)e.onIframeDetailedApiError&&e.onIframeDetailedApiError(t)}VS(t){for(let e of this.listeners)e.onIframeEmerchandisingMessage&&e.onIframeEmerchandisingMessage(t)}US(t){for(let e of this.listeners)e.onIframeCommands&&e.onIframeCommands(t)}jS(t){for(let e of this.listeners)e.onIframeIntegrationCallback&&e.onIframeIntegrationCallback(t)}HS(t){for(let e of this.listeners)e.onIframeStaticResource&&e.onIframeStaticResource(t)}BS(t){for(let e of this.listeners)e.onTrackingContextRequestCallback&&e.onTrackingContextRequestCallback(t)}xS(t){for(let e of this.listeners)e.onIframeCustomError&&e.onIframeCustomError(t)}}return s})(),H=(()=>{let s;return function(i){i[i.RESIZE=0]="RESIZE",i[i.SCROLL=1]="SCROLL",i[i.MOUSEMOVE=2]="MOUSEMOVE",i[i.MOUSEDOWN=3]="MOUSEDOWN",i[i.MOUSEUP=4]="MOUSEUP",i[i.CLICK=5]="CLICK",i[i.MOUSEOVER=6]="MOUSEOVER",i[i.MOUSEOUT=7]="MOUSEOUT",i[i.CHANGE=10]="CHANGE",i[i.FOCUSIN=11]="FOCUSIN",i[i.FOCUSOUT=12]="FOCUSOUT",i[i.TAP=14]="TAP",i[i.KEYDOWN=15]="KEYDOWN",i[i.KEYUP=16]="KEYUP",i[i.COMMAND=17]="COMMAND",i[i.SUBMIT_COMMAND=18]="SUBMIT_COMMAND",i[i.PERFORMANCE=19]="PERFORMANCE",i[i.DRAG=20]="DRAG",i[i.FLICK=21]="FLICK",i[i.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",i[i.ZOOM=23]="ZOOM",i[i.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",i[i.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",i[i.DEAD_CLICK=30]="DEAD_CLICK",i[i.DEAD_ZOOM=31]="DEAD_ZOOM",i[i.PAGE_RELOAD=32]="PAGE_RELOAD",i[i.THRASHED_CURSOR=33]="THRASHED_CURSOR",i[i.BLANK_PAGE=34]="BLANK_PAGE",i[i.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",i[i.SUBMIT=36]="SUBMIT",i[i.CUSTOM_EVENT=37]="CUSTOM_EVENT"}(s||(s={})),s})(),Bi=(()=>{let s;return function(i){i.SUCCESS="success",i.FAILURE="failure",i.ATTEMPT="attempt"}(s||(s={})),s})(),we=(()=>{let s;return function(i){i.APPCUES="appcues",i.CHAMELEON="chameleon",i.CONTENTSQUARE="contentsquare",i.SEGMENT="segment",i.WEB="web"}(s||(s={})),s})();function du(s){return s.tgtHM!==void 0}function ea(s){return s.tgt!==void 0}function fu(s){return s.tgtLk!==void 0}function pu(s){return s.x!==void 0&&s.y!==void 0}function gu(s){return s===Bi.SUCCESS||s===Bi.FAILURE||s===Bi.ATTEMPT}function mu(s){return s===we.APPCUES||s===we.CHAMELEON||s===we.CONTENTSQUARE||s===we.SEGMENT||s===we.WEB}var yu=Math.pow(2,31);function Eu(s,i=0){let h=i>>>0,d=s.length;for(let E=0;E<d-3;E+=4){let C=(csString.prototype.charCodeAt.call(s,E)&255|(csString.prototype.charCodeAt.call(s,E+1)&255)<<8|(csString.prototype.charCodeAt.call(s,E+2)&255)<<16|(csString.prototype.charCodeAt.call(s,E+3)&255)<<24)>>>0;C=Math.imul(C,3432918353),C=C<<15|C>>>17,C=Math.imul(C,461845907),h^=C,h=h<<13|h>>>19,h=Math.imul(h,5)+3864292196}let g=0,m=d&3,y=d-m;switch(m){case 3:g^=(csString.prototype.charCodeAt.call(s,y+2)&255)<<16;case 2:g^=(csString.prototype.charCodeAt.call(s,y+1)&255)<<8;case 1:g^=csString.prototype.charCodeAt.call(s,y)&255,g=Math.imul(g,3432918353),g=g<<15|g>>>17,g=Math.imul(g,461845907),h^=g}return h^=d,h^=h>>>16,h=Math.imul(h,2246822507),h^=h>>>13,h=Math.imul(h,3266489909),h^=h>>>16,h>>>0}function sa(s){return Eu(s)+yu>>>0}var Su=(()=>{class s{constructor(t,e,n){this.Z=t,this.Ef=e,this.Sf=n}transformEvent(t,e){this.FS(t,e.event);let n=this.Z.getElementPath(t);return this.GS(n,e.event),this.$S(e.event),e}FS(t,e){if(pu(e)){let n=t.getBoundingClientRect();e.x=Math.round(n.left+e.x+yt.windowOffsetX()),e.y=Math.round(n.top+e.y+yt.windowOffsetY())}}GS(t,e){ea(e)&&(e.tgt=`${t}${vs}${e.tgt}`),du(e)&&(e.tgtHM=`${t}${vs}${e.tgtHM}`,this.Ef||(e.tgtHMH=sa(e.tgtHM))),fu(e)&&(e.tgtLk=`${t}${vs}${e.tgtLk}`)}$S(t){!this.Ef&&this.Sf&&this.Sf.enhanceAnalysisEvent(null,t)}}return s})(),vu=(()=>{class s{constructor(t){this.Z=t}transformEvent(t,e){let n=this.Z.getElementPath(t);return{iframePath:e.iframePath?`${n}${vs}${e.iframePath}`:n,commands:e.commands}}}return s})(),_u=(()=>{class s{constructor(t){this.Z=t}transformEvent(t,e){if(e.products.length===0)return e;let n=this.Z.getElementPath(t),r=csArray.prototype.map.call(e.products,a=>({...a,targetPath:`${n}${vs}${a.targetPath}`}));return{...e,products:r}}}return s})(),wu=1,Gr=csSymbol("nodeIdentifier");function ia(s){let i=s[Gr];return i!=null?i:s[Gr]=wu++}var De=(()=>{let s;return function(i){i[i.MUTATION_INSERT=1]="MUTATION_INSERT",i[i.MUTATION_REMOVE=2]="MUTATION_REMOVE",i[i.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",i[i.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",i[i.INITIAL_DOM=5]="INITIAL_DOM",i[i.SCROLL=6]="SCROLL",i[i.CLICK=8]="CLICK",i[i.RESIZE=9]="RESIZE",i[i.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",i[i.INPUT_SELECT=11]="INPUT_SELECT",i[i.INPUT_TEXT=12]="INPUT_TEXT",i[i.HASH_CHANGE=13]="HASH_CHANGE",i[i.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",i[i.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",i[i.MOUSE_OVER=16]="MOUSE_OVER",i[i.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",i[i.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",i[i.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",i[i.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",i[i.ATTACH_SHADOW=22]="ATTACH_SHADOW",i[i.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",i[i.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",i[i.PAGE_EVENT=27]="PAGE_EVENT",i[i.API_ERROR=28]="API_ERROR",i[i.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",i[i.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",i[i.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",i[i.KEY_DOWN=32]="KEY_DOWN",i[i.KEY_UP=33]="KEY_UP",i[i.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",i[i.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",i[i.USER_IDENTIFIER=38]="USER_IDENTIFIER",i[i.TOUCH_START=41]="TOUCH_START",i[i.TOUCH_MOVE=42]="TOUCH_MOVE",i[i.TOUCH_END=43]="TOUCH_END",i[i.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",i[i.POINTER_DOWN=47]="POINTER_DOWN",i[i.POINTER_MOVE=48]="POINTER_MOVE",i[i.POINTER_UP=49]="POINTER_UP",i[i.CUSTOM_ERROR=50]="CUSTOM_ERROR",i[i.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",i[i.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",i[i.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",i[i.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",i[i.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",i[i.SCREEN_RESIZE=65]="SCREEN_RESIZE",i[i.RESOURCE_HASHES=66]="RESOURCE_HASHES",i[i.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",i[i.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",i[i.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",i[i.TEXT_REF=73]="TEXT_REF",i[i.TOUCH_CANCEL=74]="TOUCH_CANCEL",i[i.MUTATION_MOVE=75]="MUTATION_MOVE",i[i.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",i[i.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",i[i.VIDEO_PLAY=78]="VIDEO_PLAY",i[i.VIDEO_PAUSE=79]="VIDEO_PAUSE",i[i.VIDEO_SEEK=80]="VIDEO_SEEK",i[i.ADOPTED_STYLESHEET_DISABLED=98]="ADOPTED_STYLESHEET_DISABLED",i[i.STYLESHEET_DISABLED=99]="STYLESHEET_DISABLED",i[i.DOM_INITIAL_STATE=102]="DOM_INITIAL_STATE",i[i.DOM_PATCH_STATE=103]="DOM_PATCH_STATE",i[i.DEBUG=999]="DEBUG"}(s||(s={})),s})();var Au=(()=>{class s{constructor(){this.zS={clientX:2,clientY:3},this.qS={clientX:1,clientY:2},this.WS=[De.POINTER_DOWN,De.POINTER_MOVE,De.POINTER_UP],this.YS=[De.TOUCH_START,De.TOUCH_MOVE,De.TOUCH_END]}transformEvents(t,e){if(!rs.isConnected(t))return e.events=csArray.prototype.filter.call(e.events,c=>c.type!==De.VISIBILITY_CHANGE),e.events.length===0||(B.warn(`IframeRecordingEventsTransformer received event ${dt.RecordingEvent}
        from disconnected iframe, content:${csJSON.stringify(e.events)}`),e.events=[]),e;let n=ia(t),r=null;csArray.prototype.some.call(e.events,c=>this.vf(c)||this._f(c))&&(r=t.getBoundingClientRect());for(let c of e.events)this.vf(c)?this.XS(r,c):this._f(c)&&this.KS(r,c),c.context=c.context&&c.context.length>0?`${n}/${c.context}`:`${n}`;return e}KS(t,e){this.wf(this.qS,t,e)}XS(t,e){this.wf(this.zS,t,e)}wf(t,e,n){n.args&&(n.args[t.clientX]=Math.round(e.left+n.args[t.clientX]),n.args[t.clientY]=Math.round(e.top+n.args[t.clientY]))}vf(t){return csArray.prototype.indexOf.call(this.WS,t.type)!==-1}_f(t){return csArray.prototype.indexOf.call(this.YS,t.type)!==-1}}return s})(),Tu=(()=>{class s{constructor(t,e){this.S=t,this.gt=e}init(){this.gt.addListener(this.S)}onOptout(){this.S.stop()}onBeforeSessionRenewal(){this.S.stop()}}return s})(),ot=(()=>{class s extends Error{constructor(t,e){let n=e?`Command misuse: ${t} - ${e}`:`Command misuse: ${t}`;super(n),this.name="MisusedCommandError"}}return s})();var At=(()=>{class s{constructor(){this._isStarted=!1}get isStarted(){return this._isStarted}start(...t){this._isStarted||(this._isStarted=!0,this.onStart(...t))}stop(){this._isStarted&&(this._isStarted=!1,this.onStop())}restart(){this.stop(),this.start()}}return s})(),bu=(()=>{let s;return function(i){i.UXA="_uxa",i.WVT="cs_wvt"}(s||(s={})),s})(),Ru=(()=>{class s extends At{constructor(t){super(),this.al=t,this.cs={}}register(t,e,n){for(let r of t){let a=(...c)=>{try{let h=e(...c);return V.counters.commandApplied.count(r),h}catch(h){h instanceof ot?(V.counters.commandMisuse.count(r),B.warn(`Misused Command: ${r}; Args: ${csJSON.stringify(c)}; Error: ${te(h)?h.stack:h}`)):(V.counters.commandError.count(r),B.error(`Command Error - ${r}: ${te(h)?h.stack:h}`))}};this.cs[r]={callback:a,configuration:n},this.cs}}onStart(){this.JS(),this.QS()}onStop(){for(let t of this.al)window[t]=[]}applyFromIntegration(t,e,n){this.Af(t,e,`Commands.apply.from.integration: ${n}`),V.counters.commandsFromIntegrations.count(t)}applyFromImplementation(t,e,n){this.Af(t,e,`Commands.apply.from.implementation: ${n}`),V.counters.commandsFromCSTC.count(t)}onIframeCommands(t){for(let e of t.commands)this.ZS(e.name,e.params,t.iframePath),V.counters.commandsFromIframe.count(e.name)}Af(t,e,n){if(!this.isStarted){window._uxa.push([t,...e]);return}B.tryToExecute(n,()=>{if(this.cs[t])return this.cs[t].callback(...e)})()}ZS(t,e,n){B.tryToExecute(`Commands.apply.from.iframe: ${n}`,()=>{if(this.cs[t])return this.cs[t].callback(...e)})()}JS(){for(let t of this.al)window[t].forEach(([e,...n])=>this.Tf(e,n,!1))}QS(){for(let t of this.al)window[t]={push:([e,...n])=>this.Tf(e,n,!0)}}Tf(t,e,n){var r,a;if(this.cs[t]){if(((r=this.cs[t].configuration)===null||r===void 0?void 0:r.disableApplyPending)&&!n||((a=this.cs[t].configuration)===null||a===void 0?void 0:a.disableApplyImmediate)&&n)return;try{return this.cs[t].callback(...e)}catch(h){B.error(`Command ${t} failed - params: ${csJSON.stringify(e)}`,h)}}}}return s})(),Cu=(()=>{class s extends $n{emitPageEvent(t){for(let e of this.listeners)e.onPageEvent&&e.onPageEvent(t)}emitEventTriggerRecording(t,e){for(let n of this.listeners)n.onEventTriggerRecording&&n.onEventTriggerRecording(t,e)}emitCustomJavaScriptErrorEvent(t){for(let e of this.listeners)e.onCustomJavaScriptErrorEvent&&e.onCustomJavaScriptErrorEvent(t)}emitCustomErrorEvent(t){for(let e of this.listeners)e.onCustomErrorEvent&&e.onCustomErrorEvent(t)}emitUserIdentifierEvent(t){for(let e of this.listeners)e.onUserIdentifierEvent&&e.onUserIdentifierEvent(t)}emitExternalEvent(t){for(let e of this.listeners)e.onExternalEvent&&e.onExternalEvent({type:H.EXTERNAL_EVENT,name:t,ts:0})}emitTargetingRulesArtificialPageview(t){for(let e of this.listeners)e.onTargetingRulesArtificialPageview&&e.onTargetingRulesArtificialPageview(t)}}return s})();function Iu(s){return csNodenodeType.apply(s)===1}function Ae(s){let i=csEventtarget.apply(s);return i&&Iu(i)&&csElementshadowRoot.apply(i)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:i}function Pu(s){return s.composedPath&&Object.defineProperty(s,"__csOriginalTarget",{value:s.composedPath()[0],writable:!1,enumerable:!1}),s}var Ou=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"],Nu=1024,Mu=1024,Fi;function ii(s){if(Fi||(Fi=document.createElement("div")),!(!!s&&U(s)))return rt.warn(`isValidSelector: invalid selector provided '${s}'`),!1;try{return Ft.call(Fi,s),!0}catch{return rt.warn(`isValidSelector: invalid selector provided '${s}'`),!1}}function yn(s,i){if(Pr)return Pr.call(s,i);let t=s;do{if(Ft.call(t,i))return t;t=t==null?void 0:t.parentElement}while(t!==null&&csNodenodeType.apply(t)===1);return null}function Du(s){let i=null;return t=>t?i=t:i||(i=s())}var ss=Du(()=>new WeakMap),Gi=(()=>{let s;return function(i){function t(c){return ss().get(c)}i.getAll=t;function e(c,h){var d;return(d=ss().get(c))===null||d===void 0?void 0:d[h]}i.get=e;function n(c,h,d){let g=ss().get(c);g||ss().set(c,g={}),g[h]=d}i.set=n;function r(c,h){let d=ss().get(c);d&&delete d[h]}i.remove=r;function a(){ss(new WeakMap)}i.reset=a}(s||(s={})),s})(),nt=(()=>{let s;return function(i){function t(h,d,g){var m;if(typeof Node!="undefined"&&h instanceof Node)Gi.set(h,d,g);else{let y=h;(m=y.props)!==null&&m!==void 0||(y.props={}),y.props[d]=g}}i.setProperty=t;function e(h,d){var g;return typeof Node!="undefined"&&h instanceof Node?Gi.get(h,d):(g=h.props)===null||g===void 0?void 0:g[d]}i.getProperty=e;function n(h){return typeof Node!="undefined"&&h instanceof Node?Gi.getAll(h):h.props}i.getProperties=n;function r(h,d){let g=null;return a(h,(m,y,E)=>d(m)&&(g=m)&&!!E()),g}i.findDescendant=r;function a(h,d){c(h,void 0,d)}i.traverse=a;function c(h,d,g){let m=!1;if(g(h,d,()=>m=!0),m)return;let E=h.shadowRoot;E&&c(E,h,g);let C=h.children;if(C!=null&&C.length){for(let k of C)if(k&&(c(k,h,g),m))break}}}(s||(s={})),s})(),F=(()=>{let s;return function(i){let t;(function(_){_[_.NotMasked=0]="NotMasked",_[_.Parent=1]="Parent",_[_.Child=2]="Child"})(t=i.MaskedElementState||(i.MaskedElementState={})),i.maskedProp="masked",i.maskedAttributeProp="maskedAttribute";function e(_){return Fe(_)&&"Attributes"in _&&"PIISelectors"in _?_.Attributes instanceof Array&&_.PIISelectors instanceof Array:!1}i.isSelectorUserInput=e;function n(_){if(!Fe(_)||_===null)throw new ot("setPIISelectors");return"Attributes"in _||(_.Attributes=[]),"PIISelectors"in _||(_.PIISelectors=[]),_}i.sanitizeSelectorUserInput=n;function r(_){var w,O,I;return"nodeType"in _?(w=nt.getProperty(_,i.maskedProp))!==null&&w!==void 0?w:{state:t.NotMasked}:(I=(O=_.metadata)===null||O===void 0?void 0:O[i.maskedProp])!==null&&I!==void 0?I:{state:t.NotMasked}}i.getMaskedElementDetails=r;function a(_){var w,O,I;return"nodeType"in _?(w=nt.getProperty(_,i.maskedAttributeProp))!==null&&w!==void 0?w:{attributes:[]}:(I=(O=_.metadata)===null||O===void 0?void 0:O[i.maskedAttributeProp])!==null&&I!==void 0?I:{attributes:[]}}i.getMaskedAttributeDetails=a;function c(_){let w=nt.getProperty(_,i.maskedProp);return(w==null?void 0:w.state)===t.Parent}i.isMaskedElement=c;function h(_){let w=nt.getProperty(_,i.maskedProp);return(w==null?void 0:w.state)===t.Child}i.isMaskedElementChild=h;function d(_,w){let O=nt.getProperty(_,i.maskedAttributeProp);return((O==null?void 0:O.attributes)==null?void 0:csArray.prototype.indexOf.call(O==null?void 0:O.attributes,w))>-1}i.isMaskedAttribute=d;function g(_,w){nt.setProperty(_,i.maskedProp,w)}i.setMaskedElementProperty=g;function m(_){nt.setProperty(_,i.maskedProp,void 0)}i.unsetMaskedElementProperty=m;function y(_,w){nt.setProperty(_,i.maskedAttributeProp,w)}i.setMaskedAttributeProperty=y;function E(_,w){let O=csArray.prototype.filter.call(_.PIISelectors,M=>ii(M));w.elementSelector.length>0&&csArray.prototype.push.call(O,...csString.prototype.split.call(w.elementSelector,","));let I=x([...O]),T={elementSelector:csArray.prototype.join.call(I,","),attrSelector:w.attrSelector,attrSelectors:w.attrSelectors};return csArray.prototype.forEach.call(_.Attributes,M=>{M!=null&&M.attrName&&(M!=null&&M.selector)&&ii(M.selector)&&!C(T.attrSelectors,M)&&csArray.prototype.push.call(T.attrSelectors,M)}),T.attrSelector=k(T.attrSelectors),T}i.getComputedSelectorSettings=E;function C(_,w){return csArray.prototype.some.call(_,O=>O.selector===w.selector&&O.attrName===w.attrName)}function k(_){let w="";return csArray.prototype.forEach.call(_,O=>{let I=csString.prototype.split.call(O.selector,",");csArray.prototype.forEach.call(I,T=>{ii(T)&&(w&&(w+=","),w+=T)})}),w}function x(_){if(_.length<=1)return _;let w=[];for(let O of _){let I=csString.prototype.split.call(O,",");for(let T of I)csArray.prototype.indexOf.call(w,T)===-1&&csArray.prototype.push.call(w,T)}return w}}(s||(s={})),s})(),ku=(()=>{class s{constructor(t,e){this.mt=t,this.E=e}getEventTargetPathAndHierarchy(t,e){let n=Ae(t),r={isNodeSensitive(a){return F.isMaskedElement(a)||F.isMaskedElementChild(a)},isAttributeSensitive(a,c){return F.isMaskedAttribute(a,c)},allWhitelistedAttributes:Wo(this.E.whitelistedAttributes),attributeIgnoreTokens:Ou,useAnonymization:e,attrMaxLength:Mu,hierarchyMaxLength:Nu};return this.mt.getElementPathAndHierarchy(n,r,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}getEventTargetPath(t){let e=Ae(t);return this.mt.getElementPath(e,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}getEventTargetPathAndTargetLink(t){let e=Ae(t),{path:n,firstAnchorParent:r}=this.mt.getElementPathAndFirstAnchorParent(e,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules}),a=this.sv(r)?r.href:"";return{path:n,targetLink:a}}hasValidEventTarget(t){let e=Ae(t);return this.mt.isValidElement(e)}getElementPath(t){return this.mt.getElementPath(t,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}sv(t){var e;return t!==null&&t.hasAttribute("href")&&!fi((e=t.getAttribute("href"))!==null&&e!==void 0?e:"","#")}}return s})();function zn(s,i){typeof i=="number"&&(i={wait:i});let t=i.wait,e=i.mode||"leading",n,r=[],a=null,c=0,h,d=()=>{c=j.now(),a=null,h=s.apply(n,r),r=[],n=null},g=function(...m){if(n=this!==null&&this!==void 0?this:tt,r=[...m],e==="trailing")return a||(a=tt.csSetTimeout(d,t)),h;let y=j.now(),E=t-(y-c);return E<=0||E>t?(c=y,h=s.apply(n,r),a?(tt.csClearTimeout(a),a=null):r=[]):a||(a=tt.csSetTimeout(d,E)),h};return g.cancel=()=>{a&&(tt.csClearTimeout(a),c=0,a=null,r=[])},g.flushPending=()=>{a&&(tt.csClearTimeout(a),d())},g}var na=s=>(i,t,e)=>{e.value=zn(e.value,s)};var pi=".",qn="__DOT__",Lu=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,ra="x";function xu(s){let[i,t,e,n,r,a,c,h,d]=Bu(s);return{id:i,creationTimestamp:Number(t),visitsCount:Number(e),hitTimestamp:Number(n),lastVisitTimestamp:Number(r),appliedTrackingDraw:Number(a),expires:Number(c),allowSubdomains:h===void 0?void 0:!!Number(h),identityPrint:d===void 0||d===ra?null:d}}function Vu(s){var i;return csArray.prototype.join.call(csArray.prototype.map.call(csArray.prototype.map.call([s.id,s.creationTimestamp,s.visitsCount,s.hitTimestamp,s.lastVisitTimestamp,s.appliedTrackingDraw,s.expires,s.allowSubdomains?1:0,(i=s.identityPrint)!==null&&i!==void 0?i:ra],csString),ju),pi)}function Uu(s){return Lu.test(s)}function ju(s){return csString.prototype.replace.call(s,/\./g,qn)}function Hu(s){return csString.prototype.replace.call(s,new csRegExp(qn,"g"),pi)}function Bu(s){return csString.prototype.indexOf.call(s,qn)!==-1?csArray.prototype.map.call(csString.prototype.split.call(s,pi),Hu):csString.prototype.split.call(s,pi)}var R=(()=>{let s;return function(i){i.QUOTA_REACHED="X",i.RECORDING_RULES_TARGETING="8",i.ANALYTICS_ONLY_RULES_TARGETING="9",i.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING="P",i.ANALYTICS_ONLY="0",i.RECORDING_GLOBAL_SAMPLING="5",i.RECORDING_TEMPORARILY="T",i.RECORDING_URL_SAMPLING="6",i.RECORDING_ETR_SAMPLING="7",i.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",i.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(s||(s={})),s})();function Fu(s){return s===R.RECORDING_GLOBAL_SAMPLING||s===R.RECORDING_RULES_TARGETING||s===R.RECORDING_URL_SAMPLING||s===R.RECORDING_ETR_SAMPLING}var Gu={[R.RECORDING_RULES_TARGETING]:R.RECORDING_GLOBAL_SAMPLING},Ht=(()=>{let s;return function(i){i.ETR_OFF="0",i.ETR_ON="1"}(s||(s={})),s})(),$i=(()=>{let s;return function(i){i.ETR_LEGACY="0",i.ETR_SESSION="1",i.ETR_PAGE="2"}(s||(s={})),s})(),oa=(()=>{let s;return function(i){i.ETR_DISABLED="0",i.ETR_PENDING="1",i.ETR_SAVED_PAGE="2",i.ETR_SAVED_SESSION="3",i.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),En=(()=>{let s;return function(i){i.UNNECESSARY="U",i.NOT_EXPRESSED="N",i.WITHDRAWN="W",i.GRANTED="G"}(s||(s={})),s})();var $u=(()=>{let s;return function(i){i.ETR_DISABLED="0",i.ETR_PENDING="1",i.ETR_SAVED_PAGE="2",i.ETR_SAVED_SESSION="3",i.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),aa=/^(\d+\.[01356789TBWXP](\.[01UNWG])?(\.[39])?)(\.\d+)?$/,ca=".";function zu(s){return csArray.prototype.join.call([s.pageNumber,s.collectState,s.replayConsent,s.etrStatus],ca)}function qu(s){if(!Wn(s))return null;let i=Sn(s);return i!==null?la(i):null}function la(s){var i,t;let[e,n,r,a]=csString.prototype.split.call(s,ca);return{collectState:n,replayConsent:(i=r)!==null&&i!==void 0?i:En.UNNECESSARY,etrStatus:(t=a)!==null&&t!==void 0?t:$u.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}}function Wn(s){return aa.test(s)}function Sn(s){if(!s)return null;let i=(()=>{var t;return(t=csString.prototype.match.call(s,aa))===null||t===void 0?void 0:t[1]})();return i!=null?i:null}var Kt="_cs_ex",$r=2592e6,Wu=/^[0-9]+$/,Yu=(()=>{class s{constructor(t,e,n){this.E=t,this.M=e,this.K=n}onCookieToSet(t){this.Ni=t}onCookieToRemove(t){this.Mi=t}get(){return this.E.cookielessTrackingEnabled?Number(this.K.getItem(Kt)):Number(this.M.get(Kt))}set(t){var e;this.E.cookielessTrackingEnabled?this.K.setItem(Kt,t):(this.M.set(Kt,t,$r),(e=this.Ni)===null||e===void 0||e.call(this,Kt,t,$r))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Kt):(this.M.delete(Kt),(t=this.Mi)===null||t===void 0||t.call(this,Kt))}static isValidExclusionString(t){return Wu.test(t)}}return s})(),me="_cs_cvars",Xu=(()=>{class s{constructor(t,e,n){this.E=t,this.M=e,this.K=n}onCookieToSet(t){this.Ni=t}onCookieToRemove(t){this.Mi=t}get(){return this.E.cookielessTrackingEnabled?this.K.getItem(me):this.M.get(me)}set(t){var e;this.E.cookielessTrackingEnabled?this.K.setItem(me,t):(this.M.set(me,t),(e=this.Ni)===null||e===void 0||e.call(this,me,t))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(me):(this.M.delete(me),(t=this.Mi)===null||t===void 0||t.call(this,me))}static isValidCustomVarString(t){return typeof t=="string"}}return s})();var Ku=(()=>{class s{constructor(t,e,n,r,a,c,h){this.w=t,this.S=e,this.gl=n,this.ml=r,this.ls=a,this.cv=c,this.Tr=h}start(){this.w.addListener(this.cv),this.w.addListener(this.Tr),this.w.addListener(this.gl),this.Tr.init(),this.ml.init(),this.ls.init(),!this.ls.isActive()&&this.S.start()}}return s})(),Ju=(()=>{class s{constructor(t){this.Is=t}onOptout(){this.Is.removeExclusion()}}return s})(),Qu=(()=>{class s{constructor(t,e){this.Lt=t,this.pt=e}exclude(t){this.pt.set(csString(t.lastTrackingDraw))}removeExclusion(){this.pt.remove()}isExcluded(){return this.lv()||this.hv()}lv(){return this.getAppliedTrackingDraw()!==0}getAppliedTrackingDraw(){return this.pt.get()}hv(){return csString.prototype.indexOf.call(this.Lt.href,Kt)>0}}return s})(),Zu=["excludeURLforReplay"],td=(()=>{class s{constructor(t,e){this.Is=t,this.S=e}init(){this.S.register(Zu,t=>{if(U(t))this.Is.setExcludeUrlForSessionReplay(t);else throw new ot("excludeURLforReplay")})}}return s})(),zi=(()=>{let s;return function(i){i.SessionReplay="SR",i.None=""}(s||(s={})),s})(),ed=".^",sd=".*",id=(()=>{class s{constructor(t){this.R=t,this.yl=new csRegExp(`${ed}`)}setExcludeUrlForSessionReplay(t){try{this.yl=new csRegExp(t)}catch{B.warn(`excludeURLforReplay - invalid regex '${t}'`),this.yl=new csRegExp(`${sd}`)}}kf(){return this.yl.test(this.R.getAnonymizedUrl())?zi.SessionReplay:zi.None}isUrlExcludedForSessionReplay(){return this.kf()===zi.SessionReplay}getRequestParameters(){return{ex:this.kf()}}}return s})();var{toString:Mm}=Object.prototype;function ha(s,i){if(typeof s!="function"||i!=null&&typeof i!="function")throw new TypeError("Expected a function");let t=function(...e){let n=i?i.apply(this,e):e[0],{cache:r}=t;if(r.has(n))return r.get(n);let a=s.apply(this,e);return t.cache=r.set(n,a)||r,a};return t.cache=new(ha.Cache||Map),t}ha.Cache=Map;var{hasOwnProperty:Dm}=Object.prototype;var gi=(()=>{class s{constructor(...t){this.Uf=t}addProvider(t){csArray.prototype.push.call(this.Uf,t)}getRequestParameters(){return csArray.prototype.reduce.call(this.Uf,(t,e)=>({...e.getRequestParameters(),...t}),{})}}return s})(),nd=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function rd(){return{la:nd}}var Ve=(()=>{let s;return function(i){i.Artificial="a",i.Renewal="r",i.Natural="n"}(s||(s={})),s})(),je=(()=>{let s;return function(i){i.Natural="Natural",i.Artificial="Artificial",i.Renewal="Renewal"}(s||(s={})),s})(),od=(()=>{class s extends At{constructor(t,e,n,r,a,c){super(),this.E=t,this.w=e,this.J=n,this.Rl=r,this.R=a,this.hs=c,this.ya=null}init(){this._v()}onStart(t=je.Natural){switch(t){case je.Natural:this.wv();break;case je.Artificial:this.Av();break;case je.Renewal:this.Tv();break}}onStop(){}triggerArtificialPageView(t,e){this.isStarted?(this.w.emitArtificialPageViewEnd(),this.Cl(t,e)):(Et(t)&&this.R.overridePath(t,e),this.J.emitTargetingRulesArtificialPageview(this.R.getUrl()),this.E.hasTargetingRules()&&this.R.cleanupOverrideLifespan())}wv(){this.hs.setPageViewType(Ve.Natural);let t=this.R.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.Rl.send(),this.R.cleanupOverrideLifespan(),this.w.emitAfterNaturalPageView(Ve.Natural),this.ya=t}Tv(){this.hs.setPageViewType(Ve.Renewal);let t=this.R.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.Rl.send(),this.w.emitAfterNaturalPageView(Ve.Renewal),this.ya=t}Cl(t,e,n=!1){Et(t)&&this.R.overridePath(t,e);let r=this.R.getAnonymizedUrl();this.w.emitBeforeArtificialPageView(this.ya,r),this.hs.setPageViewType(Ve.Artificial),this.Rl.send(),this.R.cleanupOverrideLifespan(),this.w.emitAfterArtificialPageView(n),this.ya=r}Av(){this.Cl(null,void 0,!0)}_v(){window.addEventListener("pageshow",t=>{this.isStarted&&t.persisted&&(this.w.emitArtificialPageViewEnd(),this.Cl())})}}return s})(),ad=(()=>{class s{constructor(){this.Il=Ve.Natural}setPageViewType(t){this.Il=t}getPageViewType(){return this.Il}getRequestParameters(){return{pvt:this.Il}}}return s})();var cd=99999,ld=(()=>{class s{constructor(t){this.C=t,this.bv=this.Rv()&&window.CSCurrentScript}Cv(){let t=window.CSCurrentScript;if(!t)return null;let e=window.performance.getEntriesByName(t.src,"resource")[0];return!e||this.Iv(e)?null:Math.round(e.responseEnd-e.fetchStart)}Iv(t){let e=t.transferSize;return e!==void 0?e===0||e===300||e<t.encodedBodySize:t.connectStart===t.domainLookupEnd}getRequestParameters(){if(!this.bv||this.Pv()!==1)return{};let t=this.Cv();return t===null?{}:{dt:`${Math.min(t,cd)}`}}Pv(){var t;return((t=this.C.getSession())===null||t===void 0?void 0:t.pageNumber)||null}Rv(){return typeof window.performance=="object"&&typeof window.performance.getEntriesByName=="function"}}return s})(),hd=["trackPageview"],zr=["setPath"],qr=["setQuery"],Wr=["referrer:maskUrl"],ud=["referrer:removeQueryString"],dd=["referrer:keepQueryString"],qi=s=>Fe(s)&&s!==null,fd=(s,i,t,e)=>{s.register(hd,(n,r)=>{if(!U(n)){i.triggerArtificialPageView();return}qi(r)?i.triggerArtificialPageView(n,r):i.triggerArtificialPageView(n)}),s.register(zr,(n,r)=>{if(!U(n))throw new ot(zr[0]);qi(r)?t.overridePath(n,r):t.overridePath(n)}),s.register(qr,(n,r)=>{if(!U(n))throw new ot(qr[0]);qi(r)?t.overrideQuery(n,r):t.overrideQuery(n)}),e&&(s.register(Wr,n=>{if(!U(n))throw new ot(Wr[0]);e.addUrlMaskingPattern(n)}),s.register(ud,()=>e.enableRemoveQueryString()),s.register(dd,()=>e.disableRemoveQueryString()))};var pd=(()=>{class s{constructor(t,e,n,r,a,c,h,d,g,m,y,E,C,k,x){this.E=t,this.S=e,this.w=n,this.Ve=r,this.O=a,this.C=c,this.Ns=h,this.Rt=d,this._t=g,this.R=m,this.se=y,this.hs=E,this.J=C,this.$e=k,this.wn=x}init(){let t=new os(this.E.getTrackerUri(),"pageview");this.Os=new od(this.E,this.w,this.J,t,this.R,this.hs),this.Os.init();let e=new gi(this.Ve,this.O,yt,this.Ns,this.R,this.Rt,Pn,this._t,this.hs,new ld(this.C),this.se);this.$e&&e.addProvider(this.$e),this.wn&&e.addProvider(this.wn);let n=this.E.isCsCrosswritingHeap();if(n||this.E.isCsSideloadingHeap()||this.E.isHeapSideloadsCs()){let r=this.E.getHeapEnvId()||void 0;e.addProvider({getRequestParameters(){let a={cw:n?"1":"2"};return r&&(a.happid=r),a}})}t.setRequestParametersProviders(e),fd(this.S,this.Os,this.R,this.Ns)}start(t){this.Os.start(t)}stop(){this.Os.stop()}onBeforeSessionRenewal(){this.Os.stop()}}return s})();var Yn=["trackError"];var ua=["setCustomVariable"],gd=(()=>{class s{constructor(t,e){this.S=t,this._t=e}init(){this.S.register(ua,(t,e,n,r)=>{this._t.set(t,e,n,r)})}onAfterArtificialPageView(){this._t.deleteNextPageOnlyCustomVariables()}onAfterNaturalPageView(){this._t.deleteNextPageOnlyCustomVariables()}onOptout(){this._t.removeCustomVariablesSession()}onBeforeVisitorRenewal(){this._t.removeCustomVariablesSession(),this._t.removeCustomVariablesPage()}}return s})();var md=["setEncryptionSelectors"],da=["setPIISelectors"],yd=["setCapturedElementsSelector"],Ed=(()=>{class s{constructor(t,e,n,r,a,c,h){this.w=t,this.S=e,this.lt=n,this.ie=r,this.qt=a,this.ht=c,this.An=h}init(){var t,e;this.An&&this.ht&&((t=this.An)===null||t===void 0||t.addSelector((e=this.ht)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ut()}onStartTracking(t){this.ie.start(),this.w.emitSensitiveStatusChange()}onBeforeArtificialPageView(){this.ie.stop(),this.w.emitSensitiveStatusChange()}onAfterArtificialPageView(){this.ie.start(),this.w.emitSensitiveStatusChange()}onBeforeSessionRenewal(){this.ie.stop(),this.w.emitSensitiveStatusChange()}onOptout(){this.ie.stop(),this.w.emitSensitiveStatusChange()}onReplayUnanonymizationConsentGranted(){this.w.emitSensitiveStatusChange()}onReplayUnanonymizationConsentWithdrawn(){this.w.emitSensitiveStatusChange()}ut(){this.S.register(da,t=>{this.lt.setMaskedElementSettingsFromCommand(t),this.w.emitSensitiveStatusChange()}),this.S.register(yd,t=>{this.qt.setWhitelistedElementsSelector(t),this.w.emitSensitiveStatusChange()}),this.S.register(md,t=>{var e,n;(e=this.ht)===null||e===void 0||e.setEncryptionSelectors(t),(n=this.An)===null||n===void 0||n.addSelector(t)})}}return s})();var Sd=512,vd=255,Wi=(()=>{class s{constructor(t,e){this.key=csString.prototype.slice.call(t,0,Sd),this.value=U(e)?csString.prototype.slice.call(e,0,vd):e}static isKeyValid(t){return U(t)}static isValueValid(t){return U(t)||Be(t)}}return s})(),_d=(()=>{class s extends At{constructor(t,e){super(),this.Wt=t,this.N=e,this.Pl=[]}onStart(){csArray.prototype.forEach.call(this.Pl,t=>this.jf(t.key,t.value)),this.Pl=[]}onStop(){}jf(t,e){let n=this.N.anonymizePII(t),r=Be(e)?e:this.N.anonymizePII(e);this.Wt.add(new Wi(n,r))}trackDynamicVariable(t,e){if(Wi.isKeyValid(t)&&Wi.isValueValid(e)){if(!this.isStarted){csArray.prototype.push.call(this.Pl,{key:t,value:e});return}this.jf(t,e)}else throw new ot(fa[0])}}return s})(),wd=(()=>{class s{constructor(t){this.fe=t,this.Wt=[]}add(t){csArray.prototype.push.call(this.Wt,t),this.setBatchReadyCall()}clear(){this.Wt=[]}onBatchReady(t){this.Ov=t}getRequestParameters(){let t={};for(let e of this.Wt)t[e.key]=e.value;return{dv:this.fe.compressSync(csJSON.stringify(t),"base64"),ct:this.fe.algorithm}}setBatchReadyCall(){this.Ov()}}return $([na({wait:0,mode:"trailing"}),G("dynamicVariablesBatchReady")],s.prototype,"setBatchReadyCall",null),s})(),Ad="dvar",fa=["trackDynamicVariable"],Td=(()=>{class s{constructor(t,e,n,r,a,c){this.S=t,this.C=e,this.E=n,this.Ve=r,this.fe=a,this.N=c,this.Rs=new os(this.E.getTrackerUri(),Ad),this.Wt=new wd(this.fe),this.Is=new _d(this.Wt,this.N)}init(){this.Rs.setRequestParametersProviders(this.Ve,this.Wt),this.C.setDynamicVariablesService(this.Is),this.Wt.onBatchReady(()=>this.Rs.send()),this.Rs.after(()=>this.Wt.clear()),this.S.register(fa,({key:t,value:e}={})=>{this.Is.trackDynamicVariable(t,e)})}onStartTracking(){this.Is.start()}onArtificialPageViewEnd(t){t&&this.Is.stop()}onAfterArtificialPageView(t){t&&this.Is.start()}}return s})();var pa=100,bd=100,Rd=(()=>{class s extends At{constructor(t,e){super(),this.Mv=t,this.G=e,this.be=null,this.Ol=[]}onStart(){csArray.prototype.forEach.call(this.Ol,t=>{this.be=t,this.Hf()}),this.Ol=[]}onStop(){}addToCart(t){let e={};U(t.sku)&&(e.sku=csString.prototype.slice.call(t.sku,0,bd)),U(t.merchant)&&(e.merchant=csString.prototype.slice.call(t.merchant,0,pa)),(e.sku||e.merchant)&&(this.be=e,this.Hf())}getCartItem(){return this.be}Hf(){if(!this.isStarted&&this.be!==null){csArray.prototype.push.call(this.Ol,this.be),this.clear();return}this.G.refreshSession(),this.G.isSessionValid()&&this.Mv.send()}clear(){this.be=null}getRequestParameters(){if(!this.be)return{};let t={};return U(this.be.sku)&&this.be.sku.length>0&&(t.sku=this.be.sku),U(this.be.merchant)&&this.be.merchant.length>0&&(t.me=this.be.merchant),t}}return s})(),Yr=(()=>{class s{constructor(t,e){this.id=t,this.revenue=e}static from(t){let e=new s(t.id,parseFloat(t.revenue));return isNaN(parseFloat(t.tax))||(e.tax=parseFloat(t.tax)),isNaN(parseFloat(t.shipping))||(e.shipping=parseFloat(t.shipping)),U(t.currency)&&t.currency.length<=10&&(e.currency=t.currency),e}hasValidRevenue(){return!isNaN(this.revenue)&&this.revenue>=0}static isValid(t){return Et(t)&&Ot(t.revenue)&&U(t.currency)&&t.currency.length<=10&&(!Et(t.id)||U(t.id))}}return s})(),Cd=(()=>{class s{constructor(t,e,n,r){this.id=t,this.name=e,this.price=n,this.quantity=r}static from(t){if(!s.Nl(t))return null;let e=new s(t.id,t.name,parseFloat(t.price),parseInt(t.quantity,10));return X(t.sku)&&(e.sku=t.sku),X(t.category)&&(e.category=t.category),X(t.merchant)&&t.merchant.length>0&&(e.merchant=t.merchant.slice(0,pa)),e}static Nl(t){return Et(t)&&U(t.id)&&U(t.name)&&Ot(parseFloat(t.price))&&Be(parseInt(t.quantity,10))&&(!X(t.sku)||U(t.sku))&&(!X(t.category)||U(t.category))&&(!X(t.merchant)||U(t.merchant))}}return s})(),Id=(()=>{class s extends At{constructor(t,e,n){super(),this.N=t,this.Bf=e,this.G=n,this.Ml=[],this.clear()}onStart(){csArray.prototype.forEach.call(this.Ml,t=>{this.pe=t.transaction,this.Rr=t.transactionItems,this.sendTransaction()}),this.Ml=[]}onStop(){}addTransaction(t){let e=this.N.anonymizeFields(t,["id"]);this.pe=Yr.from(e)}getTransaction(){return this.pe}sendTransaction(){if(!this.isStarted){csArray.prototype.push.call(this.Ml,{transaction:this.pe,transactionItems:[...this.Rr]}),this.clear();return}if(!(this.Bf===null||this.G===null)&&(this.G.refreshSession(),!!this.G.isSessionValid())){if(!this.pe.hasValidRevenue()){B.warn("Transaction Service: unable to send transaction with invalid parameters");return}this.Bf.send()}}addItem(t){if(Ge(t))throw new ot(ga[1]);let e=this.N.anonymizeFields(t,["id","name","sku","category"]),n=Cd.from(e);n!==null&&csArray.prototype.push.call(this.Rr,n)}getItems(){return this.Rr}clear(){this.pe=Yr.from({revenue:NaN}),this.Rr=[]}getRequestParameters(){let t={id:this.pe.id?`${this.pe.id}`:"",revenue:`${this.pe.revenue}`};return X(this.pe.tax)&&(t.tax=`${this.pe.tax}`),X(this.pe.shipping)&&(t.shipping=`${this.pe.shipping}`),X(this.pe.currency)&&(t.cu=`${this.pe.currency}`),t.items=window.csJSON.stringify(this.Rr),t}}return s})(),Pd=["ecommerce:addToCart","ec:cart:add"],Od=["ecommerce:addTransaction","ec:transaction:create"],ga=["ecommerce:addItem","ec:transaction:items:add"],Nd=["ecommerce:send","ec:transaction:send"],Md=(()=>{class s{constructor(t,e,n,r,a,c,h){this.E=t,this.wt=e,this.O=n,this.S=r,this.N=a,this.G=c,this.R=h}init(){let t=new os(this.E.getTrackerUri(),"transaction"),e=new os(this.E.getTrackerUri(),"addtocart");this.Ue=new Id(this.N,t,this.G),this.Tn=new Rd(e,this.G);let n=new gi(this.wt,this.O,this.R,this.Ue);t.setRequestParametersProviders(n),t.after(()=>{this.Ue.clear()});let r=new gi(this.wt,this.O,this.R,this.Tn);e.setRequestParametersProviders(r),e.after(()=>{this.Tn.clear()}),this.S.register(Od,a=>{this.Ue.addTransaction(a)}),this.S.register(ga,a=>this.Ue.addItem(a)),this.S.register(Nd,()=>this.Ue.sendTransaction()),this.S.register(Pd,a=>{this.Tn.addToCart(a)})}onStartTracking(){this.Ue.start(),this.Tn.start()}onArtificialPageViewEnd(t){t&&(this.Ue.stop(),this.Tn.stop())}onAfterArtificialPageView(t){t&&(this.Ue.start(),this.Tn.start())}}return s})();var qe;(function(s){s.ContentSquare="CONTENTSQUARE",s.LoadedByClicktale="LOADED_BY_CLICKTALE",s.LoadClicktalePtc="LOAD_CLICKTALE_PTC",s.DualCollectionReview="DUAL_COLLECTION_REVIEW",s.DualCollection="DUAL_COLLECTION",s.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"})(qe||(qe={}));var Xr=(()=>{let s;return function(i){function t(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()}i.isRecording=t;function e(){window.ClickTaleStop&&window.ClickTaleStop()}i.stopRecording=e;function n(c){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(c)}i.triggerLogicalPageView=n;function r(c){window.ClickTaleEvent&&window.ClickTaleEvent(c)}i.sendPageEvent=r;function a(c){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(c)}i.sendEventTriggerRecording=a}(s||(s={})),s})();function vn(s){return s.tagDeploymentMode===qe.DualCollectionReview||s.tagDeploymentMode===qe.DualCollection}function Dd(s){return vn(s)||s.tagDeploymentMode===qe.LoadClicktalePtc}var kd="@ETP@",Kr="@user-identifier@",Ld=(()=>{class s extends At{constructor(t,e,n,r){super(),this.E=t,this.Lv=e,this.fe=n,this.J=r,this.Dl=[],this.Di=[]}onStart(){csArray.prototype.forEach.call(this.Dl,t=>this.Ff(t)),this.Dl=[],csArray.prototype.forEach.call(this.Di,t=>this.Gf(t)),this.Di=[]}onStop(){}Ff(t){this.xv(t)?Ss.isSupported()&&this.Uv(t):this.jv(t)}trackPageEvent(t){if(!s.$f(t))throw new ot(ma[0]);this.isStarted?this.Ff(t):csArray.prototype.push.call(this.Dl,t)}xv(t){return fi(t,Kr)}async Uv(t){if(!this.E.customHashIdEnabled)return;let e=csString.prototype.slice.call(t,Kr.length);if(e.length>Ss.MAX_DIGEST_INPUT_SIZE){B.warn("UserIdentifier event: invalid user identifier");return}let n=await Ss.digest(e);n?(this.bn={eventName:n,isETR:!1,isCustomHashId:!0},this.Sa()):B.warn("Page event: unable to compute customHashId"),this.E.encryptionEnabled&&this.J.emitUserIdentifierEvent(e)}jv(t){this.J.emitPageEvent(t),this.bn={eventName:t,isETR:!1,isCustomHashId:!1},this.Sa(),this.E.tagDeploymentMode===qe.LoadClicktalePtc&&Xr.sendPageEvent(t)}Gf(t){this.E.malkaEtrEnabled?this.Hv(t):this.Bv(t)}trackEventTriggerRecording(t){if(!s.$f(t))throw new ot(ya[0]);this.isStarted?this.Gf(t):csArray.prototype.push.call(this.Di,t)}Hv(t){fi(t,kd)?this.J.emitEventTriggerRecording(t,$i.ETR_PAGE):this.J.emitEventTriggerRecording(t,$i.ETR_SESSION),this.bn={eventName:t,isETR:!0,isCustomHashId:!1},this.Sa()}Bv(t){Dd(this.E)&&(this.J.emitEventTriggerRecording(t,$i.ETR_LEGACY),this.bn={eventName:t,isETR:!0,isCustomHashId:!1},this.Sa(),this.E.tagDeploymentMode===qe.LoadClicktalePtc&&Xr.sendEventTriggerRecording(t))}getRequestParameters(){return{value:this.fe.compressSync(this.bn.eventName,"base64"),ct:this.fe.algorithm,isETR:`${this.bn.isETR}`,isCustomHashId:`${this.bn.isCustomHashId}`}}Sa(){this.Lv.send()}static $f(t){return U(t)&&!!csString.prototype.trim.call(t)}}return s})(),ma=["trackPageEvent"],ya=["trackEventTriggerRecording"],xd=(()=>{class s{constructor(t,e,n,r,a){this.E=t,this.S=e,this.fe=n,this.Ve=r,this.J=a}init(){let t=new os(this.E.getTrackerUri(),"pageEvent");this.Rn=new Ld(this.E,t,this.fe,this.J),t.setRequestParametersProviders(this.Rn,this.Ve),this.S.register(ma,e=>{this.Rn.trackPageEvent(e)}),this.S.register(ya,e=>{this.Rn.trackEventTriggerRecording(e)})}onStartTracking(){this.Rn.start()}onArtificialPageViewEnd(t){t&&this.Rn.stop()}onAfterArtificialPageView(t){t&&this.Rn.start()}}return s})();function Vd(s,i,t,e){var n=arguments.length,r=n<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,i,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(r=(n<3?a(r):n>3?a(i,t,r):a(i,t))||r);return n>3&&r&&Object.defineProperty(i,t,r),r}function Ud(){let s=new Error,i=s.stack?csArray.prototype.filter.call(csString.prototype.split.call(s.stack,`
`),e=>e!=="Error"&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(e),"promise ")===-1&&csString.prototype.indexOf.call(e,"[native code]")===-1&&csString.prototype.indexOf.call(e,"(<anonymous>)")===-1):[];if(i.length===0)return"";let t=Hd(i);return t===""||(i=Bd(i,t),i.length===0)?"":Ea(i[0])}function jd(s){return csString.prototype.indexOf.call(s,"@")!==-1}function Hd(s){return s.length>0?Ea(s[0]):""}function Bd(s,i){return csArray.prototype.filter.call(s,t=>csString.prototype.indexOf.call(t,i)===-1)}function Ea(s){let i="",t;jd(s)?t=new csRegExp("@(.+):(\\d+):(\\d+)$"):t=new csRegExp("\\((.+):(\\d+):(\\d+)\\)");let e=t.exec(s);return e&&(i=e[1]),i}var Fd=s=>s;function Gd(s,i){let t=csSymbol.for(i);if(s[t])return s[t];let e=Object.getOwnPropertyDescriptor(s,i);if(!(e!=null&&e.writable)&&!(e!=null&&e.set))return rt.warn(`Cannot intercept read only function '${csString(i)}' of object '${s}'`),null;let n=new Set;s[t]=n;let r=s[i];if(typeof r=="function"){let a=function(){let c=arguments,h=[];try{h=csArray.prototype.map.call(kn(n),g=>g(c))}catch(g){rt.critical(g)}let d=r.apply(this,c);return ls(()=>{let g={result:d,context:this,args:c};csArray.prototype.forEach.call(h,m=>m(g))},[ee.MonkeyPatch,`${csString(i)}`]),d};$d(a,r),s[i]=a}return n}function _s({target:s,methodName:i,hook:t,hookPrepareArgs:e=Fd,options:n}){let r=Gd(s,i);if(!r)return null;let a=c=>{let h=e(c),d=n!=null&&n.withCallerName?{callerName:Ud()}:{};return g=>t({...g,...d,args:h})};return{activate:()=>{r.add(a)},deactivate:()=>{r.delete(a)}}}function $d(s,i){s.prototype=i.prototype,Object.defineProperty(s,"toString",{value:()=>i.toString()})}var Sa=(()=>{class s{constructor(){this.set=new Set}add(t){this.set.add(t),this.set.size===1&&csSetTimeout(()=>{this.set.clear()})}has(t){return this.set.has(t)}del(t){this.set.delete(t)}clear(){this.set.clear()}values(){return kn(this.set)}get count(){return this.set.size}}return s})();function zd(s,i=!1){let t=new Sa;return{push(e){t.count===0&&(i?Po:csSetTimeout)(()=>{s(t.values()),t.clear()}),t.add(e)}}}var va=(()=>{var s;class i{static zv(e){this.si.forEach(n=>{e(n,"initial")})}static Cr(e){if(this.L||(this.L=new csMutationObserver(n=>{for(let r of n)r.target.isConnected&&kt(r.addedNodes,this.qv),kt(r.removedNodes,this.Wv)})),csArray.prototype.push.call(this.Re,e),!this.Y){this.Y=!0,this.L.observe(document,this.Ir);for(let n of He.getAllShadowHosts(document)){let r=csElementshadowRoot.apply(n);this.si.add(r),this.L.observe(r,this.Ir)}this.Fl||(this.Fl=_s({target:Element.prototype,methodName:"attachShadow",hook:n=>this.Cn(n.result)&&this.zf(n.result)})),this.Fl.activate()}this.zv(e)}static Cn(e){return e.isConnected&&e.ownerDocument===document}static Pr(e){var n,r;this.Re=csArray.prototype.filter.call(this.Re,a=>a!==e),this.Re.length===0&&(this.Re=[],this.Y=!1,(n=this.L)===null||n===void 0||n.disconnect(),(r=this.Fl)===null||r===void 0||r.deactivate(),this.si.clear())}constructor(e){this.A=e,this.A=On("DocumentShadowRootObserver:callback",(n,r)=>e(n,r))}get shadowRoots(){return kn(s.si)}takeRecords(){var e,n;return(n=(e=s.L)===null||e===void 0?void 0:e.takeRecords())!==null&&n!==void 0?n:[]}observe(){He.isSupported()&&s.Cr(this.A)}disconnect(){He.isSupported()&&s.Pr(this.A)}}return s=i,i.Re=[],i.si=new Set,i.Y=!1,i.Ir={childList:!0,subtree:!0},i.zf=t=>{s.si.has(t)||(s.L.observe(t,s.Ir),s.si.add(t),kt(s.Re,e=>e(t,"added")))},i.qv=t=>{Qt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(s.zf)},i.Wv=t=>{t.isConnected||Qt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(e=>{s.si.has(e)&&(s.si.delete(e),kt(s.Re,n=>n(e,"removed")))})},be([G()],i.prototype,"observe",null),be([G()],i.prototype,"disconnect",null),i})();var Jr={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},_i=(()=>{var s;class i{static setShadowRootFilter(e){csArray.prototype.push.call(s.shadowRootFilters,e)}static ql(e){if(s.shadowRootFilters.length>0&&As(e))for(let n=0;n<s.shadowRootFilters.length;n++){let r=s.shadowRootFilters[n];if(r(e))return}this.observedTargets.add(e),this.mutationObserver.observe(e,Jr)}static disconnectShadowRoot(e){this.observedTargets.has(e)&&(this.observedTargets.delete(e),this.isRefreshing||(this.isRefreshing=!0,Po(()=>{this.isRefreshing=!1;let n=this.mutationObserver.takeRecords();n.length&&s.mutationCallback(n),this.mutationObserver.disconnect(),this.observedTargets.forEach(r=>{this.mutationObserver.observe(r,Jr)})})))}static observe(e,n){csArray.prototype.push.call(this.callbacks,e),n&&csArray.prototype.push.call(this.shadowRootCallbacks,n),this.started?n&&csArray.prototype.forEach.call(He.getAllShadowHosts(document),r=>n(csElementshadowRoot.apply(r),"initial")):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.ql(document),this.shadowRootObserver=new va(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,kt(this.shadowRootObserver.shadowRoots,r=>{this.ql(r)}))}static disconnect(e,n){var r,a;this.callbacks=csArray.prototype.filter.call(this.callbacks,c=>c!==e),n&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,c=>c!==n)),this.callbacks.length===0&&(this.callbacks=[],this.shadowRootCallbacks=[],s.shadowRootFilters=[],(r=this.shadowRootObserver)===null||r===void 0||r.disconnect(),(a=this.mutationObserver)===null||a===void 0||a.disconnect(),this.observedTargets.clear(),this.started=!1)}constructor(e,n){this.A=e,this.Wf=n;let r=zd(a=>e(a,this),!0);this.A=On("DocumentMutationObserver:callback",a=>{kt(a,c=>r.push(c))})}get shadowRoots(){var e,n;return(n=(e=s.shadowRootObserver)===null||e===void 0?void 0:e.shadowRoots)!==null&&n!==void 0?n:[]}takeRecords(){var e;let n=(e=s.mutationObserver)===null||e===void 0?void 0:e.takeRecords(),r=s.shadowRootObserver.takeRecords();return n!=null&&n.length&&r.length?bl(n,r):n!=null?n:r}observe(){s.observe(this.A,this.Wf)}disconnect(){s.disconnect(this.A,this.Wf)}}return s=i,i.callbacks=[],i.shadowRootCallbacks=[],i.started=!1,i.observedTargets=new Set,i.shadowRootFilters=[],i.mutationCallback=t=>{Lt.mutations.count.increase(t.length),csArray.prototype.forEach.call(s.callbacks,e=>e(t,s.mutationObserver))},i.onShadowRoot=(t,e)=>{kt(s.shadowRootCallbacks,n=>n(t,e)),e!=="removed"?s.ql(t):s.disconnectShadowRoot(t)},i.isRefreshing=!1,be([G()],i.prototype,"observe",null),be([G()],i.prototype,"disconnect",null),i})();var qd=(()=>{class s{constructor(){this.Ct=[],this.isStarted=!1}async produceEvent(t){var e;this.isStarted&&(t.timestamp=(e=t.timestamp)!==null&&e!==void 0?e:j.now(),t.timestamp==null&&(t.timestamp=j.now()),csArray.prototype.forEach.call(this.Ct,n=>n(t)))}onStop(){}start(){this.isStarted||(this.isStarted=!0,this.onStart())}stop(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.Ct=[])}stopForInactivity(){this.isStarted&&(this.isStarted=!1,this.onStop())}subscribe(t){return csArray.prototype.push.call(this.Ct,t),()=>{let e=csArray.prototype.indexOf.call(this.Ct,t);csArray.prototype.splice.call(this.Ct,e,1)}}}return s})();var Se=(()=>{let s;return function(i){i.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",i.WHITELISTED_STATUS="whitelisted";function t(r){return nt.getProperty(r,i.ANONYMIZED_TEXT_STATUS_PROP)===i.WHITELISTED_STATUS}i.isWhitelistedElement=t;function e(r){nt.setProperty(r,i.ANONYMIZED_TEXT_STATUS_PROP,i.WHITELISTED_STATUS)}i.whitelistElement=e;function n(r){nt.setProperty(r,i.ANONYMIZED_TEXT_STATUS_PROP,void 0)}i.removeWhitelistElement=n}(s||(s={})),s})();var Wd=()=>(s,i,t)=>{t.value=Yd(t.value)};function Yd(s){let i=csSymbol("oncePerTickSymbol"),t=null,e={},n=function(){var r;let a=(r=this)!==null&&r!==void 0?r:e;if(t=arguments,a[i])return;a[i]=!0,Io(()=>{a[i]=!1,s.apply(a,t)})};return n.oncePerTickSymbol=i,n}Wd.isScheduled=(s,i)=>{let t=i.oncePerTickSymbol;return s[t]};var Xd=(()=>{let s;return function(i){i.ENCRYPTED_NODE_PROP="encrypted";function t(r){return nt.getProperty(r,i.ENCRYPTED_NODE_PROP)===!0}i.shouldEncrypt=t;function e(r){nt.setProperty(r,i.ENCRYPTED_NODE_PROP,!0)}i.markEncryptedNode=e;function n(r){nt.setProperty(r,i.ENCRYPTED_NODE_PROP,void 0)}i.unmarkEncryptedNode=n}(s||(s={})),s})(),xe=(()=>{let s;return function(i){i.EDITABLE_NODE_PROP="editableNode";function t(r){var a;return"nodeType"in r?nt.getProperty(r,i.EDITABLE_NODE_PROP)===!0:((a=r.metadata)===null||a===void 0?void 0:a[i.EDITABLE_NODE_PROP])===!0}i.isEditableNode=t;function e(r){nt.setProperty(r,i.EDITABLE_NODE_PROP,!0)}i.markEditableNode=e;function n(r){nt.setProperty(r,i.EDITABLE_NODE_PROP,void 0)}i.unmarkEditableNode=n}(s||(s={})),s})();var _a=!0,ni=csSymbol("safe"),Qr=csSymbol("task");function as(s,i=_a){var t;(t=s[ni])!==null&&t!==void 0||(s[ni]=function(e){let n=arguments;ls(()=>(e[Qr]=_t,s.listener.apply(s.boundElement,n)),[ee.EventListener,s.type],e[Qr])}),s.boundElement.addEventListener(s.type,s[ni],i)}function cs(s,i=_a){s.boundElement.removeEventListener(s.type,s[ni],i)}var mi=(()=>{class s{get selectors(){return this.Ye===""?null:this.Ye}constructor(t,e={closest:!1}){this.A=t,this.Pt=e,this.Ye="",this.jr=new Sa,this.Mn=Hn(n=>{if(this.Ye==="")return;let r=[];for(let a of Mo(n,c=>c.addedNodes)){if(!(zl(a)||this.Pt.closest&&dn(a)))continue;let c=this.Pt.closest?this.ew(a,this.Ye):this.findMatchingElements(a,this.Ye);br(c,r)}r.length&&this.A(r,"added")},"SelectorObserver.processMutations"),this.iw=(n,r)=>{if(this.Ye===""||r!=="added")return;let a=this.findMatchingElements(n,this.Ye);a.length&&this.A(a,"added")},this.z=new _i(this.Mn,this.iw)}observe(t){this.Ye===""?this.z.observe():this.Ye+=",",this.Ye+=t;let e=this.findMatchingElements(document,t);for(let n of this.z.shadowRoots){let r=this.findMatchingElements(n,t);br(r,e)}e.length&&(kt(e,n=>{this.jr.add(n)}),this.A(e,"initial"))}processPendingMutations(){this.Mn(this.z.takeRecords())}disconnect(){this.z.disconnect(),this.jr.clear(),this.Ye=""}ew(t,e){let n=[];if(dn(t)){if(t.parentElement){let r=yn(t.parentElement,e);r&&csArray.prototype.push.call(n,r)}return csArray.prototype.filter.call(n,r=>this.jr.has(r)===!1)}else{if(bs(t)){let r=yn(t,e);if(r)return csArray.prototype.push.call(n,r),csArray.prototype.filter.call(n,a=>this.jr.has(a)===!1)}return this.findMatchingElements(t,e)}}findMatchingElements(t,e){let n=li(window.csquerySelectorAll[t.nodeType].call(t,e));return pt(t)&&Ft.call(t,e)&&csArray.prototype.push.call(n,t),csArray.prototype.filter.call(n,r=>this.jr.has(r)===!1)}}return be([G()],s.prototype,"observe",null),be([G()],s.prototype,"disconnect",null),be([Ts("SelectorObserver.findMatchingElements")],s.prototype,"findMatchingElements",null),s})();var Pt=(()=>{let s;return function(i){i[i.TAP=0]="TAP",i[i.LONG_PRESS=1]="LONG_PRESS",i[i.DRAG=2]="DRAG",i[i.FLICK=3]="FLICK",i[i.PINCH_IN=4]="PINCH_IN",i[i.PINCH_OUT=5]="PINCH_OUT"}(s||(s={})),s})(),Ks=(()=>{let s;return function(i){i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i[i.LEFT=3]="LEFT",i[i.RIGHT=4]="RIGHT"}(s||(s={})),s})(),Kd=(()=>{class s{compute(t,e){let n=this.li(e.x)-this.li(t.x),r=this.li(e.y)-this.li(t.y),a=e.time-t.time;return{duration:a,distance:this.Mp(n,r),direction:this.vw(n,r),velocity:this._w(n,r,a)}}computePinchMetrics(t,e){let n=this.li(e.x)-this.li(t.x),r=this.li(e.y)-this.li(t.y);return{duration:e.time-t.time,distance:this.Mp(n,r)}}getScale(t,e){return Math.abs(e/t-1)}li(t){return t/window.devicePixelRatio}Mp(t,e){return Math.round(Math.sqrt(t*t+e*e))}_w(t,e,n){let r=n/1e3,a=t/r,c=e/r;return Math.round(Math.abs(a)+Math.abs(c))}vw(t,e){return Math.abs(t)>Math.abs(e)?t>0?Ks.RIGHT:Ks.LEFT:e>0?Ks.DOWN:Ks.UP}}return s})(),wa=typeof performance!="undefined"&&!!performance.now,Zr=wa?()=>performance.now():()=>csDate.now(),Jd=(()=>{var s;return wa?(s=performance.timing)===null||s===void 0?void 0:s.navigationStart:0})(),Js={now(){return Math.round(Zr()+Jd)},elapsed(){return Zr()}};function to(s,i=0){let t=Math.pow(10,i);return Math.round(s*t)/t}var Qd=1e3,Zd=100,tf=.1,ef=(()=>{class s{constructor(){this.Kt={},this.Ah=()=>{},this.Ma=new Kd,this.Ce()}static isGestureDetectionSupported(){return typeof devicePixelRatio!="undefined"}onGesture(t){this.Ah=t}isValidTouchEvent(t){return"touches"in t&&"changedTouches"in t}processActionDown(t){if(!this.Aw(t))return;this.Tw(t)&&this.Ce();let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:Js.now()};if(t.touches.length===1)this.Kt.startPinchTime=e.time,this.Kt.firstTouch=e;else if(t.touches.length===2&&(this.Kt.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:Js.now()},this.Kt.firstTouch&&this.Kt.secondTouch)){let n=this.Ma.computePinchMetrics(this.Kt.firstTouch,this.Kt.secondTouch);this.Vn=n.distance}csArray.prototype.push.call(this.$r,e),this.Da=Ae(t)}processActionMove(){this.Th=!0}processActionUp(t){if(this.bw(t)){if(csArray.prototype.push.call(this.$r,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Js.now()}),this.Rw(t)&&this.Kt.startPinchTime){let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Kt.startPinchTime},n={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Js.now()};this.Kt.firstTouch&&(this.Kt.firstTouch=e,this.Kt.secondTouch=n),this.Cw(t)}this.Vn||this.Iw()&&this.Pw(t)}}Ce(){this.$r=[],this.Da=null,this.Th=!1,this.Vn=null,this.zr=!0}Pw(t){let e=this.Ma.compute(this.$r[0],this.$r[1]);this.zr=t.isTrusted;let n=this.Th?this.Ow(e):this.Nw(e);if(this.Mw(n.type,t.changedTouches)){let r=t.changedTouches[0];n.pageX=to(r.pageX,1),n.pageY=to(r.pageY,1)}this.Ah(n,t)}Cw(t){if(!(this.Kt.firstTouch&&this.Kt.secondTouch))return;let e=this.Ma.computePinchMetrics(this.Kt.firstTouch,this.Kt.secondTouch);this.zr=t.isTrusted;let n=this.Dw(e);n&&this.Ah(n,t)}Dw(t){return!this.Vn||this.Ma.getScale(this.Vn,t.distance)<tf?void 0:{type:this.Vn>t.distance?Pt.PINCH_IN:Pt.PINCH_OUT,target:this.Da,distance:t.distance,isTrusted:this.zr}}Ow(t){return{type:t.velocity<Zd?Pt.DRAG:Pt.FLICK,target:this.Da,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.zr}}Nw(t){return{type:t.duration<Qd?Pt.TAP:Pt.LONG_PRESS,target:this.Da,isTrusted:this.zr}}Mw(t,e){return t===Pt.TAP&&e&&e.length===1}Tw(t){return t.touches.length===1}Iw(){return this.$r.length===2}Aw(t){return t.touches.length>0}bw(t){return t.changedTouches.length>0}Rw(t){return this.Th&&!!this.Vn&&t.changedTouches.length===1&&t.touches.length===1}}return s})();var sf=(()=>{class s{constructor(t){this.A=t,this.fi=!1,this.Xt={boundElement:tt,type:"error",listener:e=>this.Vw(e)}}observe(){as(this.Xt,this.fi)}disconnect(){cs(this.Xt,this.fi)}Vw(t){this.A(t)}}return s})();var wi=(()=>{let s;return function(i){i.UNCOMPRESSED="0",i.GZIP="2"}(s||(s={})),s})(),Aa=(()=>{class s{}return s})(),nf=(()=>{class s{constructor(t){this.Fp=[],this.Gp=[],this.Xe={},this.ja=t}setQueryParams(t){csArray.prototype.forEach.call(Object.keys(t),e=>{this.Xe[e]=t[e]})}removeQueryParams(t){t?csArray.prototype.forEach.call(t,e=>{delete this.Xe[e]}):this.Xe={}}onBeaconSuccess(t){csArray.prototype.push.call(this.Fp,t)}onBeaconFailure(t){csArray.prototype.push.call(this.Gp,t)}send(t){let e=Bn.toQuery({...this.Xe,ct:wi.UNCOMPRESSED}),n=this.Jw(e,t);return n?csArray.prototype.forEach.call(this.Fp,r=>r()):csArray.prototype.forEach.call(this.Gp,r=>r(this.Xe)),n}Jw(t,e){try{if(typeof csNavigatorsendBeacon!="function")return!1;let n=csNavigatorsendBeacon(`${this.ja}?${t}`,e||"");if(n)return n}catch{}return typeof navigator.sendBeacon!="function"?!1:navigator.sendBeacon(`${this.ja}?${t}`,e||"")}}return s})();var rf=(()=>{class s{emit(t,e,n,r=document){let c=`${n!==void 0?`${n}`:`${s.sA}`}${t}`,h=s.createEvent(c,{detail:e});h!==null&&r.dispatchEvent(h)}static createEvent(t,e={}){if(typeof CustomEvent=="function")return new CustomEvent(t,e);let n=this.iA();if(n===null)return null;let{bubbles:r=!1,cancelable:a=!1,detail:c}=e;return n.initCustomEvent(t,r,a,c),n}static iA(){try{return document.createEvent("CustomEvent")}catch{return null}}}return s.sA="cs.tracking.",s})(),Jt=(()=>{let s;return function(i){i.Visible="visible",i.Hidden="hidden",i.Blur="blur",i.PagehideVisible="pagehideVisible",i.PagehideHidden="pagehideHidden",i.ExitPageByNavigate="exitPageByNavigate"}(s||(s={})),s})(),of=(()=>{class s{constructor(){this.U=!1,this.pi=t=>{try{switch(t.type){case"visibilitychange":return document.visibilityState==="hidden"?this.re(Jt.Hidden):this.re(Jt.Visible);case"pagehide":return document.visibilityState==="hidden"?this.re(Jt.PagehideHidden):this.re(Jt.PagehideVisible);case"blur":return this.re(Jt.Blur);case"navigate":return this.nA(t)?this.re(Jt.ExitPageByNavigate):void 0;default:return}}catch{}}}start(){this.U||(this.U=!0,this.Vh(),this.rA(),this.oA(),_r()&&this.aA())}stop(){this.U&&(this.U=!1,this.Uh(),this.cA(),this.lA(),_r()&&this.hA())}onEvent(t){this.re=t}aA(){window.navigation.addEventListener("navigate",this.pi)}hA(){window.navigation.removeEventListener("navigate",this.pi)}Vh(){document.addEventListener("visibilitychange",this.pi)}Uh(){document.removeEventListener("visibilitychange",this.pi)}rA(){window.addEventListener("pagehide",this.pi)}cA(){window.removeEventListener("pagehide",this.pi)}oA(){window.addEventListener("blur",this.pi)}lA(){window.removeEventListener("blur",this.pi)}nA(t){return t instanceof NavigateEvent?!t.hashChange&&!t.downloadRequest&&!t.formData:!1}}return s})();var Yi=(()=>{let s;return function(i){i[i.COPY=0]="COPY",i[i.CUT=1]="CUT",i[i.PASTE=2]="PASTE"}(s||(s={})),s})(),ut=(()=>{let s;return function(i){i[i.SPACE=0]="SPACE",i[i.ENTER=1]="ENTER",i[i.BACKSPACE=2]="BACKSPACE",i[i.DELETE=3]="DELETE",i[i.ARROWUP=4]="ARROWUP",i[i.ARROWDOWN=5]="ARROWDOWN",i[i.ARROWLEFT=6]="ARROWLEFT",i[i.ARROWRIGHT=7]="ARROWRIGHT",i[i.CAPSLOCK=8]="CAPSLOCK",i[i.SHIFT=9]="SHIFT",i[i.TAB=10]="TAB",i[i.ALPHANUMERICAL=11]="ALPHANUMERICAL",i[i.ESCAPE=12]="ESCAPE",i[i.END=13]="END",i[i.ALT=14]="ALT",i[i.CTRL=15]="CTRL",i[i.META=16]="META"}(s||(s={})),s})();var eo="data-cs-scroll-container";function af(s){try{if(Et(csEventtarget.apply(s)))return!0}catch{}return!1}var ws=(()=>{let s;return function(i){function t(n){return!!(Et(n)&&af(n)&&bs(csEventtarget.apply(n))&&csEventtarget.apply(n).getAttribute(eo)!==null)}i.isEventOnScrollContainer=t;function e(){return window.csquerySelector[document.nodeType].call(document,`[${eo}]`)}i.getScrollContainer=e}(s||(s={})),s})();var cf=30,lf=0,hf=(()=>{class s{constructor(t,e=cf,n=lf){this.sT=t,this.iT=e,this.nT=n,this.Qe=new Dn,this.Ge=!1,this.Zh=0,this.vg=()=>{for(this.Zh=0;this.Qe.length;){if(this.Zh>=this.iT){csSetTimeout(this.vg,this.nT);return}let r=j.elapsed(),a=this.Qe.pop();if(!a)break;this.runTask(a);let c=j.elapsed()-r;this.Zh+=c}this.Ge=!1}}schedule(t,e=!1){if(!this.sT||e){t();return}Lt.general.pendingTasks.increase(),this.Qe.push(t),this.rT()}rT(){this.Ge||(this.Ge=!0,csSetTimeout(()=>{this.vg()}))}runTask(t){Lt.general.pendingTasks.decrease(),t()}runPendingTasks(){this.Qe.forEach(t=>{this.runTask(t)}),this.Qe.clear()}clearQueue(){Lt.general.pendingTasks.clear(),Lt.mutations.pendingMutations.clear(),this.Qe.clear()}isEmpty(){return this.Qe.length===0}}return $([G("TaskScheduler"),Ts("runTask")],s.prototype,"runTask",null),$([Ts("runPendingTasks")],s.prototype,"runPendingTasks",null),s})();var uf=1024,df=512,Xi=1024,Ki="||",ff=(()=>{let s;return function(i){function t(c,h){return U(c)&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(c),we.CHAMELEON)!==-1?we.CHAMELEON:h}i.handleCustomEventCommandMisuse=t;function e(c,h,d){let g=n(d);return{type:H.CUSTOM_EVENT,ts:0,customEventName:J.truncate(c,uf,J.ELLIPSIS),sourceLibrary:mu(h)?h:we.WEB,...an(g)?{}:{properties:g}}}i.buildCustomEvent=e;function n(c){let h={};for(let d in c){if(d.length>df)continue;let g=c[d];if(Ot(g)||ri(g))h[d]=csString(g);else if(a(g))h[d]=J.truncate(g,Xi,J.ELLIPSIS);else if(Rl(g)){let m=r(g);m!==""&&(h[d]=m)}}return h}i.sanitizeCustomEventProperties=n;function r(c){let h="";for(let d=0;d<c.length;d++){let g=c[d];if(!Ot(g)&&!ri(g)&&!a(g))continue;let m=csString(g);if(h==="")h=J.truncate(m,Xi,J.ELLIPSIS);else if(h.length+Ki.length+m.length<=Xi)h+=Ki+m;else break}return h}function a(c){return U(c)&&!bo(c)&&!csString.prototype.includes.call(c,Ki)}}(s||(s={})),s})(),mt=(()=>{class s{static buildFromCustomEvent(t,e){return this.Tg(null,t,e)}static buildFromAnalysisEvent(t,e,n){return this.Tg(t,e,n)}static Tg(t,e,n){return csArray.prototype.reduce.call(n,(r,a)=>a.enhanceAnalysisEvent(t,r),e)}}return s})();var pf=(()=>{class s extends At{constructor(t,e,n,r,a,c,h,d,g,m,y,E,C,k,x,_,w,O,I,T,M,W){super(),this.E=t,this.Si=e,this.Bt=n,this.Fn=r,this.eu=a,this.Ze=c,this.De=h,this.su=d,this.G=g,this.oe=m,this.Z=y,this.iu=E,this.Ke=C,this.X=k,this.Ft=x,this.sc=_,this.Ls=w,this.xs=O,this.nu=I,this.Wi=T,this.Yi=M,this.Xi=W,this.mi=new rf,this.ic=!1,this.Ki=[]}init(){var t,e,n,r,a,c,h;this.Si.onEvent(d=>this.Ut(d)),this.Bt.onEvent(d=>this.Ut(d)),this.Fn.onEvent(()=>{let d=this.Fn.getRequestParameters();this.X.setQueryParams(d),this.De.setQueryParams(d)}),this.iu.onEvent(d=>this.ce(d)),this.ru(),(t=this.sc)===null||t===void 0||t.onEvent(d=>this.Ut(d)),(e=this.Wi)===null||e===void 0||e.onEvent(d=>this.Ut(d)),(n=this.Ls)===null||n===void 0||n.onEvent(d=>this.Ut(d)),(r=this.xs)===null||r===void 0||r.onEvent(d=>this.Ut(d)),this.mT(),(a=this.nu)===null||a===void 0||a.onEvent(d=>this.ce(d)),(c=this.Yi)===null||c===void 0||c.onEvent(d=>this.ce(d)),(h=this.Xi)===null||h===void 0||h.onEvent(d=>this.ce(d))}mT(){this.De.onBeaconSuccess(()=>{this.Ze.clearEvents()}),this.De.onBeaconFailure(t=>{this.yT(t)})}initStates(){let t=this.su.getRequestParameters(),e=this.eu.getRequestParameters(),n=this.Fn.getRequestParameters();this.X.setQueryParams(t),this.X.setQueryParams(e),this.X.setQueryParams(n),this.De.setQueryParams(t),this.De.setQueryParams(e),this.De.setQueryParams(n),this.ou()}clearStates(t){var e,n;this.Si.flushPendingDebouncedListeners(),(e=this.Ls)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(n=this.xs)===null||n===void 0||n.flushPendingTextHighlightEvent(),t?(this.au(),this.sendLastMessageBeacon()):this.sendEvents(),this.Fn.reset(),this.X.removeQueryParams()}onStart(t){var e,n,r,a,c,h,d;t||(e=this.nu)===null||e===void 0||e.start(),this.Ke.start(),this.Si.start(),this.Fn.start(),this.Bt.start(),(n=this.sc)===null||n===void 0||n.start(),(r=this.xs)===null||r===void 0||r.start(),t||this.iu.start(),(a=this.Ls)===null||a===void 0||a.start(),(c=this.Wi)===null||c===void 0||c.start(),(h=this.Yi)===null||h===void 0||h.start(),(d=this.Xi)===null||d===void 0||d.start(),csArray.prototype.forEach.call(this.Ki,g=>{this.ce(g)}),this.Ki=[]}collectInitialEvents(){var t;(t=this.sc)===null||t===void 0||t.collectInitialEvents()}onIframeAnalysisBrowserEvent(t){this.ce(t)}onIframeAnalysisUserEvent(t){this.Ut(t)}onExternalEvent(t){this.tt(t)}ce(t){this.isStarted&&this.G.isCurrentPageviewValid()&&this.tt(t)}Ut(t){this.isStarted&&(this.G.refreshSession(),this.G.isSessionValid()&&this.tt(t))}tt(t){this.Ze.addEvent(this.ET(t)),this.Ze.isFull()&&this.sendEvents(),this.E.emitDebugEvents&&this.mi.emit("analysisEvent",{...t,typeName:H[t.type]})}ET(t){return t.ts=this.Ji(),t}au(){this.De.setQueryParams({hlm:"true"}),this.ic=!0}sendLastMessageBeacon(){this.De.removeQueryParams(["i"]),this.De.setQueryParams(this.su.getRequestParameters()),this.De.setQueryParams(this.eu.getRequestParameters()),this.De.send(this.Ze.stringifyEvents()),this.De.removeQueryParams(["hlm"]),this.ic=!1}sendEvents(){this.Ze.isEmpty()||(this.De.removeQueryParams(["i"]),this.X.setQueryParams(this.su.getRequestParameters()),this.X.setQueryParams(this.eu.getRequestParameters()),this.X.send(this.Ze.getEvents()),this.Ze.clearEvents())}onStop(){var t,e,n,r,a,c,h;this.Ke.stop(),this.Si.stop(),this.Fn.stop(),this.Bt.stop(),this.iu.stop(),(t=this.sc)===null||t===void 0||t.stop(),(e=this.Ls)===null||e===void 0||e.stop(),(n=this.xs)===null||n===void 0||n.stop(),(r=this.Wi)===null||r===void 0||r.stop(),this.Ze.empty(),(a=this.nu)===null||a===void 0||a.stop(),(c=this.Yi)===null||c===void 0||c.stop(),(h=this.Xi)===null||h===void 0||h.stop()}ou(){this.ys=j.now()}Ji(){return j.now()-this.ys}ru(){this.Ke.onEvent(t=>{var e,n;t!==Jt.Visible&&((e=this.Ls)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(n=this.xs)===null||n===void 0||n.flushPendingTextHighlightEvent(),t===Jt.PagehideVisible?this.au():t===Jt.PagehideHidden?(this.au(),this.sendLastMessageBeacon()):(!this.Ze.isEmpty()||this.ic)&&this.sendLastMessageBeacon())})}yT(t){try{(!this.Ze.isEmpty()||this.ic)&&this.oe.save({requestParameters:t,events:this.Ze.getEvents()})}catch{}}pushSubmitCommandEvent(t,e){if(!gu(t)||!bs(e))throw new ot(Ma[0]);let n={status:t,type:H.SUBMIT_COMMAND,ts:0,tgt:this.Z.getElementPath(e)};n.tgt!==Zt.INVALID_ELEMENT&&this.ce(n)}pushCustomEvent(t,e,n){if(!(U(t)&&!bo(t))||n!==void 0&&!To(n))throw new ot(Rn[0]);let r=ff.buildCustomEvent(t,e,n),a=mt.buildFromCustomEvent(r,this.Ft);this.isStarted?this.ce(a):csArray.prototype.push.call(this.Ki,a)}}return s})(),Ps=(()=>{class s{isEventTypeSupported(t){return csArray.prototype.indexOf.call(this.supportedEventTypes,t)!==-1}enhanceAnalysisEvent(t,e){return this.isEventTypeSupported(e.type)?this.baseEnhanceAnalysisEvent(t,e):e}}return s})(),gf=(()=>{class s extends Ps{constructor(){super(...arguments),this.supportedEventTypes=[H.CHANGE],this.ST=["text","email","number","search","tel","url","password"]}baseEnhanceAnalysisEvent(t,e){let n=Ae(t);return xn(n)&&csArray.prototype.indexOf.call(this.ST,n.type)>=0&&(e.isBlank=n.value===""),e}}return s})(),bt=(()=>{let s;return function(i){i[i.ANONYMIZED=0]="ANONYMIZED",i[i.CAPTURED=1]="CAPTURED",i[i.MASKED=2]="MASKED",i[i.ENCRYPTED=3]="ENCRYPTED"}(s||(s={})),s})();var Ta=(()=>{class s extends Ps{constructor(t){super(),this.mt=t,this.supportedEventTypes=[H.MOUSEDOWN,H.MOUSEUP,H.CLICK,H.MOUSEOVER,H.TAP,H.DRAG,H.FLICK,H.SUBMIT,H.CHANGE]}baseEnhanceAnalysisEvent(t,e){return e.tgt||(e.tgt=this.mt.getEventTargetPath(t)),e}}return s})(),so=65535,mf=(()=>{let s;return function(i){function t(e){let n=Ae(e);if(!n||!pt(n)||!Ge(n.getBoundingClientRect)||!Et(e.pageX)||!Et(e.pageY))return{xRel:-1,yRel:-1,valid:!1};let r=n.getBoundingClientRect(),a=e.pageX-r.left-yt.windowOffsetX(),c=e.pageY-r.top-yt.windowOffsetY();n!==document.documentElement&&(a+=n.scrollLeft,c+=n.scrollTop);let h=Math.max(n.scrollWidth,r.width),d=Math.max(n.scrollHeight,r.height),g=Math.round(a/h*so),m=Math.round(c/d*so);return{xRel:g,yRel:m,valid:!0}}i.getRelativePosition=t}(s||(s={})),s})(),yf=(()=>{class s extends Ps{constructor(t,e){super(),this.bs=t,this.mt=e,this.supportedEventTypes=[H.MOUSEMOVE,H.CLICK],this.du=""}baseEnhanceAnalysisEvent(t,e){let{valid:n,xRel:r,yRel:a}=mf.getRelativePosition(t);if(n){let c=this.mt.getEventTargetPath(t);c!==Zt.INVALID_ELEMENT&&(e.xRel=r,e.yRel=a,e.type===H.MOUSEMOVE&&(c!==this.du||this.bs.iframesTracking?(this.du=c,e.tgtHM=c,this.bs.isChild||(e.tgtHMH=sa(e.tgtHM))):e.tgtHM=""))}else e.type===H.MOUSEMOVE&&(this.du="");return e}}return s})(),ba=(()=>{class s extends Ps{constructor(t,e){super(),this.mt=t,this.Gt=e,this.supportedEventTypes=[H.CLICK,H.SUBMIT,H.CHANGE,H.TAP]}baseEnhanceAnalysisEvent(t,e){let n=this.Gt.getSensitiveStatus().useAnonymization,{path:r,hierarchy:a}=this.mt.getEventTargetPathAndHierarchy(t,n);return e.tgt=r,e.hrchy=a,e}}return s})(),io=100,Ra=(()=>{class s extends Ps{constructor(t,e,n){super(),this.E=t,this.Gt=e,this.N=n,this.supportedEventTypes=[H.TAP,H.CLICK,H.SUBMIT]}DT(t){let e="",n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),r=n.nextNode();for(;r;){if(e+=r.textContent,jo(r.parentElement)||Vo(r.parentElement)||this.Gt.getElementSensitiveStatus(r.parentElement)!==bt.CAPTURED)return!0;if(csString.prototype.trim.call(e).length>=io)break;r=n.nextNode()}return!1}kT(t){let e=yn(t,"button,a");return e||(this.E.collectTargetText===gn.ButtonAndLinkOnly?null:t)}baseEnhanceAnalysisEvent(t,e){if(bs(csEventtarget.apply(t))){let n=this.kT(csEventtarget.apply(t));if(n&&U(n.textContent)&&!this.DT(n)&&!this.N.hasPII(n.textContent,this.E.anonymizeDigits)){let r=J.truncate(csString.prototype.trim.call(n.textContent),io);r.length>0&&(e.text=r)}}return e}}return s})();function Ef(s,i,t,e,n){let r=[];return csArray.prototype.push.call(r,new yf(s,i)),s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(r,new Ra(s,t,new Is)),s.collectHierarchy&&csArray.prototype.push.call(r,new ba(i,t)),csArray.prototype.push.call(r,new gf,new Ta(i)),r}function Sf(s,i,t,e,n){let r=[];return s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(r,new Ra(s,t,new Is)),s.collectHierarchy&&csArray.prototype.push.call(r,new ba(i,t)),csArray.prototype.push.call(r,new Ta(i)),r}var vf=(()=>{class s extends At{constructor(t,e){super(),this.oe=t,this.X=e,this.Pg=()=>{document.visibilityState==="visible"&&this.Og()}}onStart(){this.Og(),this.Vh()}onStop(){this.Uh()}getRecoveryStorage(){return this.oe}Og(){let t=this.oe.recover();if(t!==null){let{requestParameters:e,events:n}=t;this.X.send(n,e)}}Vh(){document.addEventListener("visibilitychange",this.Pg)}Uh(){document.removeEventListener("visibilitychange",this.Pg)}}return s})(),_f=(()=>{class s{constructor(t){this.Un=t}save(t){localStorage.setItem(this.Un,csJSON.stringify(t))}clear(){localStorage.removeItem(this.Un)}recover(){let t=localStorage.getItem(this.Un);if(t===null)return null;let e=null;try{e=csJSON.parse(t)}catch{B.error(`Invalid item in localStorage.
         (key:${this.Un}; value:${t})`)}finally{this.clear()}return e}}return s})(),wf=50,Af=(()=>{class s{constructor(t=[]){this.Ht=t}stringifyEvents(){return csJSON.stringify(this.Ht)}addEvent(t){csArray.prototype.push.call(this.Ht,t)}eventsCount(){return this.Ht.length}clearEvents(){this.Ht=[]}empty(){this.clearEvents()}isFull(){return this.eventsCount()>=wf}isEmpty(){return this.Ht.length===0}getEvents(){return this.Ht}}return s})(),Tf=(()=>{class s{constructor(t,e,n,r=["submit"]){this.Ft=t,this.mt=e,this.$t=n,this.LT=r,this.Ng="select, select *, input, textarea",this.xT="select, select *, input, textarea",this.Mg="a, a *, button, button *, select, select *, input, textarea",this.lo="input, select, textarea",this.VT="form",this.oc=150,this.UT=400,this.Dg=!1,this.ho=oi((a,c)=>this.scrollListener(a,c),this.oc),this.kg=oi(a=>this.resizeListener(a),this.oc),this.jT=zn(a=>this.mouseMoveListener(a),this.UT),this.HT=[{boundElement:window,type:"resize",listener:()=>this.kg()},{boundElement:document,type:"scroll",listener:a=>this.ho(a)},{boundElement:window,type:"mousemove",listener:a=>{this.jT(Pu(a))}},{boundElement:document,type:"mousedown",listener:a=>this.mouseDownListener(a)},{boundElement:document,type:"mouseup",listener:a=>this.mouseUpListener(a)},{boundElement:document,type:"click",listener:a=>this.clickListener(a)}],this.Lg=[{type:"change",listener:this.$t.on(this.xT,a=>this.changeListener(a))},{type:"submit",listener:this.$t.on(this.VT,a=>this.submitListener(a))}],this.BT=[{boundElement:document,type:"mouseover",listener:this.$t.on(this.Mg,a=>this.mouseOverListener(a))},{boundElement:document,type:"mouseout",listener:this.$t.on(this.Mg,a=>this.mouseOutListener(a))},{boundElement:document,type:"focusin",listener:this.$t.on(this.Ng,a=>this.focusInListener(a))},{boundElement:document,type:"focusout",listener:this.$t.on(this.Ng,a=>this.focusOutListener(a))},{boundElement:document,type:"keyup",listener:this.$t.on(this.lo,a=>this.keyUpListener(a))},{boundElement:document,type:"keydown",listener:this.$t.on(this.lo,a=>this.keyDownListener(a))},{boundElement:document,type:"copy",listener:this.$t.on(this.lo,a=>this.copyListener(a))},{boundElement:document,type:"cut",listener:this.$t.on(this.lo,a=>this.cutListener(a))},{boundElement:document,type:"paste",listener:this.$t.on(this.lo,a=>this.pasteListener(a))},...csArray.prototype.map.call(this.Lg,a=>({...a,boundElement:document}))],this.B={},this.zl=(a,c)=>{switch(c){case"initial":case"added":this.Gi(a);break;case"removed":this.$i(a);break}},this.ge=new va(this.zl),this.Kh()}Gi(t){if(Ir(t)){let e=this.xg();csArray.prototype.forEach.call(e,n=>as(n))}else{let e=this.Vg();csArray.prototype.forEach.call(e,n=>{as({...n,boundElement:t})})}}$i(t){if(Ir(t)){let e=this.xg();csArray.prototype.forEach.call(e,n=>cs(n))}else{let e=this.Vg();csArray.prototype.forEach.call(e,n=>{cs({...n,boundElement:t})})}}onEvent(t){this.V=t}start(){this.ge.observe(),this.Gi(document),this.resizeListener()}stop(){this.$i(document),this.ge.disconnect()}flushPendingDebouncedListeners(){this.ho.flushPending(),this.kg.flushPending()}Ug(t){return csArray.prototype.some.call(this.LT,e=>e===t)}Vg(){return this.$t.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.Lg,t=>!this.Ug(t.type)):(B.warn("Element.matches is not implemented yet"),[])}xg(){let t=[];return csArray.prototype.push.call(t,...this.HT),this.$t.isMatchesSelectorSupported()?csArray.prototype.push.call(t,...this.BT):B.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(t,e=>!this.Ug(e.type))}resizeListener(t){let e=ws.getScrollContainer(),n=bs(e);n&&(this.Dg=!0);let r={type:H.RESIZE,ts:0,x:n?e.clientWidth:yt.windowWidth(),y:n?e.clientHeight:yt.windowHeight()};t!==void 0&&(r.d=t),this.V(r)}scrollListener(t,e){let n=ws.isEventOnScrollContainer(e);!this.Dg&&n&&this.resizeListener();let r={type:H.SCROLL,ts:0,x:n?csEventtarget.apply(e).scrollLeft:yt.windowOffsetX(),y:n?csEventtarget.apply(e).scrollTop:yt.windowOffsetY(),d:t},a=mt.buildFromAnalysisEvent(e,r,this.Ft);this.V(a)}mouseMoveListener(t){let e={type:H.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},n=mt.buildFromAnalysisEvent(t,e,this.Ft);this.V(n)}mouseDownListener(t){let e={type:H.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},n=mt.buildFromAnalysisEvent(t,e,this.Ft);this.Se(n)}mouseUpListener(t){let e={type:H.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},n=mt.buildFromAnalysisEvent(t,e,this.Ft);this.Se(n)}clickListener(t){let e={type:H.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},n=mt.buildFromAnalysisEvent(t,e,this.Ft);this.Se(n)}mouseOverListener(t){let e={type:H.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},n=mt.buildFromAnalysisEvent(t,e,this.Ft);this.Se(n)}mouseOutListener(t){let e={type:H.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.mt.getEventTargetPath(t)},n=mt.buildFromAnalysisEvent(t,e,this.Ft);this.Se(n)}focusInListener(t){let e={type:H.FOCUSIN,ts:0,tgt:this.mt.getEventTargetPath(t)},n=mt.buildFromAnalysisEvent(t,e,this.Ft);this.Se(n)}focusOutListener(t){let e={type:H.FOCUSOUT,ts:0,tgt:this.mt.getEventTargetPath(t)},n=mt.buildFromAnalysisEvent(t,e,this.Ft);this.Se(n)}changeListener(t){let e={type:H.CHANGE,ts:0,tgt:""},n=mt.buildFromAnalysisEvent(t,e,this.Ft);this.Se(n)}submitListener(t){let e={type:H.SUBMIT,ts:0,tgt:""},n=mt.buildFromAnalysisEvent(t,e,this.Ft);this.Se(n)}copyListener(t){let e={type:H.COMMAND,ts:0,tgt:this.mt.getEventTargetPath(t),key:Yi.COPY};this.Se(e)}cutListener(t){let e={type:H.COMMAND,ts:0,tgt:this.mt.getEventTargetPath(t),key:Yi.CUT};this.Se(e)}pasteListener(t){let e={type:H.COMMAND,ts:0,tgt:this.mt.getEventTargetPath(t),key:Yi.PASTE};this.Se(e)}keyUpListener(t){let e={type:H.KEYUP,ts:0,tgt:this.mt.getEventTargetPath(t),key:this.jg(t)};this.Se(e)}keyDownListener(t){let e={type:H.KEYDOWN,ts:0,tgt:this.mt.getEventTargetPath(t),key:this.jg(t)};this.Se(e)}jg(t){let e=this.B[t.key];return e===void 0?ut.ALPHANUMERICAL:e}Se(t){ea(t)&&t.tgt!==Zt.INVALID_ELEMENT&&this.V(t)}Kh(){this.B[" "]=ut.SPACE,this.B.Spacebar=ut.SPACE,this.B.Enter=ut.ENTER,this.B.Backspace=ut.BACKSPACE,this.B.Delete=ut.DELETE,this.B.ArrowUp=ut.ARROWUP,this.B.ArrowDown=ut.ARROWDOWN,this.B.ArrowLeft=ut.ARROWLEFT,this.B.ArrowRight=ut.ARROWRIGHT,this.B.Up=ut.ARROWUP,this.B.Down=ut.ARROWDOWN,this.B.Left=ut.ARROWLEFT,this.B.Right=ut.ARROWRIGHT,this.B.CapsLock=ut.CAPSLOCK,this.B.Shift=ut.SHIFT,this.B.Tab=ut.TAB}}return $([G("Event handler type: resize")],s.prototype,"resizeListener",null),$([G("Event handler type: scroll")],s.prototype,"scrollListener",null),$([G("Event handler type: mouseMove"),Ee()],s.prototype,"mouseMoveListener",null),$([G("Event handler type: mouseDown"),Ee()],s.prototype,"mouseDownListener",null),$([G("Event handler type: mouseUp"),Ee()],s.prototype,"mouseUpListener",null),$([G("Event handler type: click"),Ee()],s.prototype,"clickListener",null),$([G("Event handler type: mouseOver"),Ee()],s.prototype,"mouseOverListener",null),$([G("Event handler type: mouseOut"),Ee()],s.prototype,"mouseOutListener",null),$([G("Event handler type: focusIn")],s.prototype,"focusInListener",null),$([G("Event handler type: focusOut")],s.prototype,"focusOutListener",null),$([G("Event handler type: change")],s.prototype,"changeListener",null),$([G("Event handler type: submit"),Ee()],s.prototype,"submitListener",null),$([G("Event handler type: copy")],s.prototype,"copyListener",null),$([G("Event handler type: cut")],s.prototype,"cutListener",null),$([G("Event handler type: paste")],s.prototype,"pasteListener",null),$([G("Event handler type: keyup")],s.prototype,"keyUpListener",null),$([G("Event handler type: keydown")],s.prototype,"keyDownListener",null),s})(),bf=(()=>{class s{constructor(t,e,n){this.Ft=t,this.Bt=e,this.Pt=n}processGesture(t,e){switch(t.type){case Pt.TAP:this.FT(e);break;case Pt.FLICK:this.GT(t,e);break;case Pt.DRAG:this.$T(t,e);break;default:break}}FT(t){let e={type:H.TAP,ts:0,x:0,y:0,tgt:""},n=mt.buildFromAnalysisEvent(t,e,this.Ft);n.tgt!==Zt.INVALID_ELEMENT&&this.V(n)}$T(t,e){var n,r;let a={type:H.DRAG,ts:0,fd:t.direction,tgt:""};!((n=this.Pt)===null||n===void 0)&&n.collectGestureDistance&&(a.distance=t.distance),!((r=this.Pt)===null||r===void 0)&&r.collectGestureVelocity&&(a.velocity=t.velocity);let c=mt.buildFromAnalysisEvent(e,a,this.Ft);c.tgt!==Zt.INVALID_ELEMENT&&this.V(c)}GT(t,e){var n,r;let a={type:H.FLICK,ts:0,fd:t.direction,tgt:""};!((n=this.Pt)===null||n===void 0)&&n.collectGestureDistance&&(a.distance=t.distance),!((r=this.Pt)===null||r===void 0)&&r.collectGestureVelocity&&(a.velocity=t.velocity);let c=mt.buildFromAnalysisEvent(e,a,this.Ft);c.tgt!==Zt.INVALID_ELEMENT&&this.V(c)}onEvent(t){this.V=t}start(){this.Bt.subscribe(s.Hg,(t,e)=>this.processGesture(t,e))}stop(){this.Bt.unsubscribe(s.Hg)}}return s.Hg="AnalysisGestureTracker",$([Ee()],s.prototype,"processGesture",null),s})();var Rf=(()=>{class s{constructor(){this.Kg=100,this.po=0,this.go=yt.documentHeight(),this.Jg={boundElement:document,type:"scroll",listener:t=>this.maxScrollRateListener(t)},this.po=this.Su(ws.getScrollContainer()).maxScrollRate}onEvent(t){this.V=t}start(){as(this.Jg)}stop(){cs(this.Jg)}reset(){let t=ws.getScrollContainer(),{maxScrollRate:e,maxDocumentHeight:n}=this.Su(t);this.go=n,this.po=e,this.V()}Su(t){let e=0,n=0;if(t===null)n=yt.documentHeight(),e=this.sb(n);else{let r=this.ib(t);n=this.Qg(t,r),e=this.nb(t,r)}return{maxScrollRate:e,maxDocumentHeight:n}}maxScrollRateListener(t){let e=null;ws.isEventOnScrollContainer(t)&&(e=csEventtarget.apply(t));let{maxScrollRate:n,maxDocumentHeight:r}=this.Su(e);(n>this.po||r>this.go)&&(this.po=n,r>this.go&&(this.go=r),this.V())}sb(t){let e=Math.round(this.rb()/t*100);return Math.min(e,this.Kg)}rb(){let t=yt.windowHeight();return yt.windowOffsetY()+t}nb(t,e){let n=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+e,r=this.Qg(t,e),a=Math.round(n/r*100);return Math.min(a,this.Kg)}ib(t){let e=window.getComputedStyle(t).paddingTop||"0px";return parseInt(e,10)}Qg(t,e){return t.scrollHeight+t.getBoundingClientRect().top+e}getRequestParameters(){return{sr:`${this.po}`,mdh:`${this.go}`}}}return $([G("MaxScrollRate handler")],s.prototype,"maxScrollRateListener",null),s})(),Cf=(()=>{class s{constructor(t){this.mo=t,this.yo=e=>this.processMetric(e),this.U=!1}onEvent(t){this.V=t}start(){this.U||(this.U=!0,this.mo.onFCP(this.yo),this.mo.onCLS(this.yo),this.mo.onLCP(this.yo),this.mo.onTTFB(this.yo),this.mo.onINP(this.yo))}stop(){this.U=!1}processMetric(t){if(!this.U)return;let e={type:H.PERFORMANCE,name:t.name,val:t.value,ts:0};this.V(e)}}return $([G("Performance metric handler")],s.prototype,"processMetric",null),s})(),If=(()=>{class s{constructor(t){this.hc=t.performance}getRequestParameters(){if(this.ob())return{};let t=this.ab();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}}ab(){let t=this.hc.timing;return{startRender:`${t.domLoading-t.requestStart}`,domInteractive:`${t.domInteractive-t.requestStart}`,domComplete:`${t.domComplete-t.requestStart}`,fullyLoaded:`${t.loadEventEnd-t.requestStart}`}}ob(){return!(this.hc&&this.hc.timing&&this.hc.timing.loadEventEnd>0)}}return s})();var Ca=-1,hs=s=>{addEventListener("pageshow",i=>{i.persisted&&(Ca=i.timeStamp,s(i))},!0)},Gt=(s,i,t,e)=>{let n,r;return a=>{i.value>=0&&(a||e)&&(r=i.value-(n!=null?n:0),(r||n===void 0)&&(n=i.value,i.delta=r,i.rating=((c,h)=>c>h[1]?"poor":c>h[0]?"needs-improvement":"good")(i.value,t),s(i)))}},Xn=s=>{requestAnimationFrame(()=>requestAnimationFrame(()=>s()))},Kn=()=>{let s=performance.getEntriesByType("navigation")[0];if(s&&s.responseStart>0&&s.responseStart<performance.now())return s},Os=()=>{var i;let s=Kn();return(i=s==null?void 0:s.activationStart)!=null?i:0},$t=(s,i=-1)=>{let t=Kn(),e="navigate";return Ca>=0?e="back-forward-cache":t&&(document.prerendering||Os()>0?e="prerender":document.wasDiscarded?e="restore":t.type&&(e=t.type.replace(/_/g,"-"))),{name:s,value:i,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:e}},Ji=new WeakMap;function Jn(s,i){return Ji.get(s)||Ji.set(s,new i),Ji.get(s)}var _n=class{constructor(){qt(this,"t");qt(this,"i",0);qt(this,"o",[])}h(i){var n;if(i.hadRecentInput)return;let t=this.o[0],e=this.o.at(-1);this.i&&t&&e&&i.startTime-e.startTime<1e3&&i.startTime-t.startTime<5e3?(this.i+=i.value,this.o.push(i)):(this.i=i.value,this.o=[i]),(n=this.t)==null||n.call(this,i)}},Ns=(s,i,t={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(s)){let e=new PerformanceObserver(n=>{Promise.resolve().then(()=>{i(n.getEntries())})});return e.observe({type:s,buffered:!0,...t}),e}}catch{}},Qn=s=>{let i=!1;return()=>{i||(s(),i=!0)}},ns=-1,no=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,yi=s=>{document.visibilityState==="hidden"&&ns>-1&&(ns=s.type==="visibilitychange"?s.timeStamp:0,Pf())},ro=()=>{addEventListener("visibilitychange",yi,!0),addEventListener("prerenderingchange",yi,!0)},Pf=()=>{removeEventListener("visibilitychange",yi,!0),removeEventListener("prerenderingchange",yi,!0)},Ia=()=>{var s;if(ns<0){let i=Os(),t=document.prerendering||(s=globalThis.performance.getEntriesByType("visibility-state").filter(e=>e.name==="hidden"&&e.startTime>i)[0])==null?void 0:s.startTime;ns=t!=null?t:no(),ro(),hs(()=>{setTimeout(()=>{ns=no(),ro()})})}return{get firstHiddenTime(){return ns}}},Ai=s=>{document.prerendering?addEventListener("prerenderingchange",()=>s(),!0):s()},oo=[1800,3e3],Pa=(s,i={})=>{Ai(()=>{let t=Ia(),e,n=$t("FCP"),r=Ns("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(r.disconnect(),c.startTime<t.firstHiddenTime&&(n.value=Math.max(c.startTime-Os(),0),n.entries.push(c),e(!0)))});r&&(e=Gt(s,n,oo,i.reportAllChanges),hs(a=>{n=$t("FCP"),e=Gt(s,n,oo,i.reportAllChanges),Xn(()=>{n.value=performance.now()-a.timeStamp,e(!0)})}))})},ao=[.1,.25],Of=(s,i={})=>{Pa(Qn(()=>{let t,e=$t("CLS",0),n=Jn(i,_n),r=c=>{for(let h of c)n.h(h);n.i>e.value&&(e.value=n.i,e.entries=n.o,t())},a=Ns("layout-shift",r);a&&(t=Gt(s,e,ao,i.reportAllChanges),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(r(a.takeRecords()),t(!0))}),hs(()=>{n.i=0,e=$t("CLS",0),t=Gt(s,e,ao,i.reportAllChanges),Xn(()=>t())}),setTimeout(t))}))},Oa=0,Qi=1/0,Qs=0,Nf=s=>{for(let i of s)i.interactionId&&(Qi=Math.min(Qi,i.interactionId),Qs=Math.max(Qs,i.interactionId),Oa=Qs?(Qs-Qi)/7+1:0)},wn,co=()=>{var s;return wn?Oa:(s=performance.interactionCount)!=null?s:0},Mf=()=>{"interactionCount"in performance||wn||(wn=Ns("event",Nf,{type:"event",buffered:!0,durationThreshold:0}))},lo=0,An=class{constructor(){qt(this,"u",[]);qt(this,"l",new Map);qt(this,"m");qt(this,"p")}v(){lo=co(),this.u.length=0,this.l.clear()}P(){let i=Math.min(this.u.length-1,Math.floor((co()-lo)/50));return this.u[i]}h(i){var n,r;if((n=this.m)==null||n.call(this,i),!i.interactionId&&i.entryType!=="first-input")return;let t=this.u.at(-1),e=this.l.get(i.interactionId);if(e||this.u.length<10||i.duration>t.T){if(e?i.duration>e.T?(e.entries=[i],e.T=i.duration):i.duration===e.T&&i.startTime===e.entries[0].startTime&&e.entries.push(i):(e={id:i.interactionId,entries:[i],T:i.duration},this.l.set(e.id,e),this.u.push(e)),this.u.sort((a,c)=>c.T-a.T),this.u.length>10){let a=this.u.splice(10);for(let c of a)this.l.delete(c.id)}(r=this.p)==null||r.call(this,e)}}},Na=s=>{let i=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?s():(i(s=Qn(s)),document.addEventListener("visibilitychange",s,{once:!0}))},ho=[200,500],Df=(s,i={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Ai(()=>{var c;Mf();let t,e=$t("INP"),n=Jn(i,An),r=h=>{Na(()=>{for(let g of h)n.h(g);let d=n.P();d&&d.T!==e.value&&(e.value=d.T,e.entries=d.entries,t())})},a=Ns("event",r,{durationThreshold:(c=i.durationThreshold)!=null?c:40});t=Gt(s,e,ho,i.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(r(a.takeRecords()),t(!0))}),hs(()=>{n.v(),e=$t("INP"),t=Gt(s,e,ho,i.reportAllChanges)}))})},Tn=class{constructor(){qt(this,"m")}h(i){var t;(t=this.m)==null||t.call(this,i)}},uo=[2500,4e3],kf=(s,i={})=>{Ai(()=>{let t=Ia(),e,n=$t("LCP"),r=Jn(i,Tn),a=h=>{i.reportAllChanges||(h=h.slice(-1));for(let d of h)r.h(d),d.startTime<t.firstHiddenTime&&(n.value=Math.max(d.startTime-Os(),0),n.entries=[d],e())},c=Ns("largest-contentful-paint",a);if(c){e=Gt(s,n,uo,i.reportAllChanges);let h=Qn(()=>{a(c.takeRecords()),c.disconnect(),e(!0)});for(let d of["keydown","click","visibilitychange"])addEventListener(d,()=>Na(h),{capture:!0,once:!0});hs(d=>{n=$t("LCP"),e=Gt(s,n,uo,i.reportAllChanges),Xn(()=>{n.value=performance.now()-d.timeStamp,e(!0)})})}})},fo=[800,1800],bn=s=>{document.prerendering?Ai(()=>bn(s)):document.readyState!=="complete"?addEventListener("load",()=>bn(s),!0):setTimeout(s)},Lf=(s,i={})=>{let t=$t("TTFB"),e=Gt(s,t,fo,i.reportAllChanges);bn(()=>{let n=Kn();n&&(t.value=Math.max(n.responseStart-Os(),0),t.entries=[n],e(!0),hs(()=>{t=$t("TTFB",0),e=Gt(s,t,fo,i.reportAllChanges),e(!0)}))})},xf=(()=>{class s{onFCP(t){try{Pa(t,{reportAllChanges:!0})}catch{V.counters.webVitalsErrors.count("FCP")}}onCLS(t){try{Of(t,{reportAllChanges:!0})}catch{V.counters.webVitalsErrors.count("CLS")}}onLCP(t){try{kf(t,{reportAllChanges:!0})}catch{V.counters.webVitalsErrors.count("LCP")}}onTTFB(t){try{Lf(t,{reportAllChanges:!0})}catch{V.counters.webVitalsErrors.count("TTFB")}}onINP(t){try{Df(t,{reportAllChanges:!0})}catch{V.counters.webVitalsErrors.count("INP")}}}return s})();var Vf="csAnalysisEventsPersisted",po="v2/events",Ma=["submit"],Rn=["trackEvent"];var Uf=(()=>{class s{constructor(t,e,n,r,a,c,h,d,g,m,y,E,C,k,x){this.E=t,this.wt=e,this.O=n,this.Z=r,this.$t=a,this.S=c,this.G=h,this.Bt=d,this.gt=g,this.Zt=m,this.J=y,this.Gt=E,this.St=C,this.es=k,this.ss=x}init(){let t=new Af,e=this.Zt.create(`${this.E.getTrackerUri()}/${po}`,"base64");this.qn=this._b(e),this.he=this.wb(t,this.qn.getRecoveryStorage(),e),this.he.init(),this.J.addListener(this.he),this.gt.addListener(this.he),this.S.register(Ma,(n,r)=>{this.he.pushSubmitCommandEvent(n,r)}),this.S.register(Rn,n=>{if(!To(n))throw new ot(Rn[0]);this.he.pushCustomEvent(n.name,n.source,n.properties)})}onStartTracking(t){this.qn.start(),this.he.start(t)}onAfterNaturalPageView(){this.he.initStates()}onArtificialPageViewEnd(t){this.he.clearStates(!0),t&&(this.he.stop(),this.qn.stop())}onAfterArtificialPageView(t){this.he.initStates(),t&&(this.he.start(),this.qn.start()),this.he.collectInitialEvents()}onBeforeSessionRenewal(){this.he.clearStates(),this.he.stop(),this.qn.stop()}onOptout(){this.he.stop(),this.qn.stop()}wb(t,e,n){var r,a;let c=new If(window),h=new Rf,d=Ef(this.E,this.Z,this.Gt,this.es,this.ss),g=[];this.E.collectSubmit||csArray.prototype.push.call(g,"submit");let m=new Tf(d,this.Z,this.$t,g),y=Sf(this.E,this.Z,this.Gt,this.es,this.ss),E=new bf(y,this.Bt),C=new Cf(new xf),k=new of,x,_,w,O=new nf(`${this.E.getTrackerUri()}/${po}`),I=new gi(this.wt,this.O),T,M,W,K;return new pf(this.E,m,E,h,c,t,O,I,this.G,e,this.Z,C,k,n,d,x,_,w,T,M,W,K)}_b(t){return new vf(new _f(Vf),t)}}return s})();var Zs=(()=>{let s;return function(i){i[i.NOT_NEEDED=1]="NOT_NEEDED",i[i.NOT_EXPRESSED=2]="NOT_EXPRESSED",i[i.WITHDRAWN=3]="WITHDRAWN",i[i.GRANTED=4]="GRANTED"}(s||(s={})),s})(),Te=(()=>{let s;return function(i){function t(r){return r.replayConsentRequiredForSession}i.isReplayConsentNeeded=t;function e(r){return r.collectState===R.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||r.collectState===R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}i.isRecordingBlockedByConsent=e;function n(r){return r.collectState===R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}i.isRecordingWithDrawn=n}(s||(s={})),s})(),jf=(()=>{class s{constructor(t,e,n,r){this.O=t,this.C=e,this.E=n,this.hs=r,this.gm=!1}isNaturalPageViewSent(){return this.gm}setNaturalPageViewSent(t){this.gm=t}getTrackingContext(){let t=this.C.getSession();if(!t)return null;let e=this.getSessionKey();if(!e)return null;let n=this.E.projectId,r=this.E.uxaDomain,a=t.pageNumber,c=this.hs.getPageViewType(),h=this.C.isReplayRecorded(),d=this.Cb(t);return{projectId:n,sessionKey:e,pageNumber:a,pageViewType:c,isRecording:h,uxaDomain:r,recordingConsentState:d,...this.E.smbConfig}}getSessionKey(){let t=this.O.getVisitor();return t?`${t.id}.${t.visitsCount}`:null}Cb(t){return Te.isReplayConsentNeeded(this.E)?t.collectState===R.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Zs.NOT_EXPRESSED:t.collectState===R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Zs.WITHDRAWN:Zs.GRANTED:Zs.NOT_NEEDED}}return s})(),Hf=(()=>{class s{constructor(t){this.kt=t,this.ue=[]}handleCommand(t){if(Ge(t)&&(this.So(t),this.kt.isNaturalPageViewSent())){let e=this.kt.getTrackingContext();e!==null&&this.zt(t,e)}}So(t){csArray.prototype.push.call(this.ue,t)}executeRegisteredCallbacks(){let t=this.kt.getTrackingContext();t!==null&&csArray.prototype.map.call(this.ue,e=>this.zt(e,t))}zt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),Bf=(()=>{class s{constructor(t){this.kt=t,this.Zi=[]}handleCommand(t){if(this.kt.isNaturalPageViewSent())return this.Ib(t);this.vo(t)}Ib(t){let e=this.kt.getSessionKey();return this.mm(t)&&e!==null&&this.zt(t.callback,e),e}vo(t){this.mm(t)&&csArray.prototype.push.call(this.Zi,t.callback)}flushPendingCallbacks(){let t=this.kt.getSessionKey();t!==null&&csArray.prototype.forEach.call(this.Zi,e=>{this.zt(e,t)}),this.Zi=[]}mm(t){return t&&typeof t.callback=="function"}zt(t,e){csSetTimeout(()=>{t(e)})}}return s})();function Ff(s,i){let{isRecording:t,pageNumber:e,projectId:n,siteId:r,uxaDomain:a,csLiteDomain:c}=s,h=/^(.+)\.(\d+)$/.exec(s.sessionKey),d;if(t&&h){let[,g,m]=h;r?d=`${c}/sites/${r}/player?uu=${g}&sn=${m}&pn=${e}`:d=`${a}/quick-playback/index.html?pid=${n}&uu=${g}&sn=${m}&pvid=${e}&recordingType=cs`,i.withTimestamp&&(d+=`&t=${j.now()-i.recordingStartTimestamp}`)}return{replayLink:d,isRecording:t}}var Gf=(()=>{class s{constructor(t){this.kt=t}handleCommand(t,e){Fe(t)&&Ge(e)&&this.zt(t,e)}zt(t,e){csSetTimeout(()=>{let n=this.kt.getTrackingContext();if(n){let r=Ff(n,t);e(r)}})}}return s})(),$f=(()=>{class s{constructor(){this.ue=new Set}handleCommand(t,e){return!Ge(t)||this.ue.has(t)?null:(this.ue.add(t),e&&(this.Pe=e,this.ym(t,e)),()=>this.ue.delete(t))}executeCallbacks(t){this.Pb(t)&&(this.Pe=t,this.ue.forEach(e=>this.ym(e,t)))}ym(t,e){csSetTimeout(()=>{try{t(e)}catch{}})}Pb(t){let{isRecording:e,recordingStartTimestamp:n,etrState:r,etrStatus:a,collectState:c}=t;return this.Pe&&(this.Pe.isRecording!==e||this.Pe.recordingStartTimestamp!==n||this.Pe.etrState!==r||this.Pe.etrStatus!==a||this.Pe.collectState!==c)}}return s})(),zf=["afterPageView"],qf=["getSessionKey"],Wf=["onRecordingContextChange","onRecordingStateChange"],Yf=["replay:link:generate"],Xf=(()=>{class s{constructor(t,e,n,r,a,c,h,d){this.O=t,this.C=e,this.S=n,this.gt=r,this.et=a,this.E=c,this.hs=h,this.yi=d,this.Em=null}init(){this.kt=new jf(this.O,this.C,this.E,this.hs),this.Au=new Hf(this.kt),this.Sm=new Bf(this.kt),this._o=new $f,this.Ob=new Gf(this.kt),this.S.register(qf,t=>this.Sm.handleCommand(t)),this.S.register(zf,t=>this.Au.handleCommand(t)),this.S.register(Wf,t=>this._o.handleCommand(t,this.yi.getRecordingContext())),this.S.register(Yf,(t,e)=>{this.Wn&&this.Ob.handleCommand({...t,recordingStartTimestamp:this.yi.getRecordingContext().recordingStartTimestamp},e)})}onAfterNaturalPageView(){var t;this.kt.setNaturalPageViewSent(!0),this.Sm.flushPendingCallbacks(),this.Au.executeRegisteredCallbacks(),(t=this.Em)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onAfterArtificialPageView(){var t;this.Au.executeRegisteredCallbacks(),(t=this.Em)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onCollectStateChange(){this.executeRecordingContextChangeCallbacks()}onRecordingContextChange(){this.executeRecordingContextChangeCallbacks()}executeRecordingContextChangeCallbacks(){this._o.executeCallbacks(this.yi.getRecordingContext())}setRecordingService(t){this.Wn=t}}return $([na({wait:0,mode:"trailing"})],s.prototype,"executeRecordingContextChangeCallbacks",null),s})();var Kf=(()=>{class s extends At{constructor(t,e,n,r){super(),this.yt=t,this.Iu=e,this.wt=n,this.Me=r,this.mc=[],this.gi=0}init(){this.yt.init()}initStates(){this.Pu(),this.mc=[],this.gi=0,this.ou()}ou(){this.ys=j.now()}Ji(){return j.now()-this.ys}onStart(){this.yt.subscribe(s.jt,t=>this.tt(t))}onStop(){this.yt.unsubscribe(s.jt)}onIframeApiError(t){this.tt(t)}tt(t){this.isStarted&&this.gi<s.Kr&&(t.relativeTime=this.Ji(),csArray.prototype.push.call(this.mc,this.Me.anonymize(t)),this.To(),V.counters.networkRequests.count("collected"))}Pu(){this.Iu.removeQueryParams(),this.Iu.setQueryParams(this.wt.getRequestParameters())}To(){this.Iu.send({errors:this.mc}),this.mc=[],this.gi+=1}}return s.jt="ApiErrorsService",s.Kr=20,s})(),Jf="api-errors",go=["api-errors:maskUrl"],Qf=(()=>{class s{constructor(t,e,n,r,a,c,h){this.yt=t,this.Me=e,this.E=n,this.wt=r,this.gt=a,this.S=c,this.Zt=h}init(){let t=this.Zt.create(`${this.E.getTrackerUri()}/${Jf}`);this.Hs=new Kf(this.yt,t,this.wt,this.Me),this.Hs.init(),this.gt.addListener(this.Hs),this.ut()}ut(){this.S.register(go,t=>{if(!U(t))throw new ot(go[0]);this.Me.addUrlMaskingPattern(t)})}onStartTracking(){this.Hs.start()}onAfterNaturalPageView(){this.Hs.initStates()}onArtificialPageViewEnd(t){t&&this.Hs.stop()}onAfterArtificialPageView(t){this.Hs.initStates(),t&&this.Hs.start()}onBeforeSessionRenewal(){this.Hs.stop()}onOptout(){this.Hs.stop()}}return s})();var Zf=["networkRequest:maskUrls"],tp=["networkRequest:maskUrls:reset"],ep=(()=>{class s{constructor(t,e){this.Cm=t,this.ft=e}init(){this.Cm.register(Zf,t=>{if(U(t)){this.ft.addPartialUrlMaskingPattern(t);return}if(csArray.isArray(t))for(let e of t)U(e)&&this.ft.addPartialUrlMaskingPattern(e)}),this.Cm.register(tp,()=>this.ft.resetPartialUrlMaskingPatterns())}}return s})();var sp=["optout"];var ip=(()=>{class s{constructor(t,e){this.S=t,this.ls=e}init(){this.S.register(sp,()=>{this.ls.activate()})}}return s})(),Es="_cs_optout",np=(()=>{class s{constructor(t,e,n){this.E=t,this.M=e,this.Nt=n}get(){return this.E.cookielessTrackingEnabled?this.Nt.getItem(Es):this.M.get(Es)}set(t){this.E.cookielessTrackingEnabled?this.Nt.setItem(Es,t):this.M.set(Es,t,Nn)}}return s})(),mo="1",rp=(()=>{class s{constructor(t,e,n){this.w=t,this.Lt=e,this.pt=n}init(){!this.isActive()&&this.$b()&&this.activate()}isActive(){return this.pt.get()===mo}activate(){this.w.emitOptout(),this.pt.set(mo)}$b(){return csString.prototype.indexOf.call(this.Lt.href,Es)>0}}return s})(),op=(()=>{class s{constructor(){this.yc=null,this.zb=1}startInterval(){this.yc=window.csSetInterval(()=>{let t=this.zb++;if(this.flush(`interval.${t}`),t>=5){this.stopInterval();return}},5e3)}flush(t){V.counters.tasks.flush(t),V.counters.longTasks.flush(t)}clear(){V.counters.tasks.reset(),V.counters.longTasks.reset(),this.stopInterval()}stopInterval(){this.yc&&(csClearInterval(this.yc),this.yc=null)}}return s})(),ap=(()=>{class s{constructor(){this.qb=["clicktale.net","contentsquare.net","hotjar.com","heap-api.com"],this.bo=!1,this.Ro=null,this.Fs=new op}onStartTracking(){this.Wb()}Wb(){let t=csArray.prototype.filter.call(performance.getEntriesByType("resource"),e=>{if(e.initiatorType!=="script")return!1;let n=csString.prototype.split.call(e.name,"/")[2]||"";return csArray.prototype.some.call(this.qb,r=>csString.prototype.endsWith.call(n,r))});csArray.prototype.forEach.call(t,e=>{if(e.transferSize===0)return;let n=e.responseEnd-e.responseStart,r=e.transferSize,c=e.duration-n,h=csString.prototype.split.call(e.name,"/")[2];n>=0&&V.counters.downloadTime.add(h,n),r>=0&&V.counters.transferSize.add(h,r),c>=0&&V.counters.evalTime.add(h,c)}),t.length>0&&(V.counters.downloadTime.flush(),V.counters.transferSize.flush(),V.counters.evalTime.flush())}Im(){V.counters.blockingTime.flush(),V.counters.inpContribution.flush()}onBeforeArtificialPageView(){this.Im(),this.Ro&&csClearTimeout(this.Ro),this.Fs.stopInterval(),this.bo=!0}onBeforeNaturalPageView(){this.Im()}onAfterNaturalPageView(t){t===Ve.Natural?(this.Fs.flush("boot"),this.Fs.startInterval()):(this.Ro&&csClearTimeout(this.Ro),this.Fs.stopInterval(),this.bo=!0)}onInitialDomStart(){this.bo||this.Fs.stopInterval()}onInitialDomDone(){this.bo||(this.bo=!0,this.Fs.flush("initial-dom"),this.Ro=window.csSetTimeout(()=>{this.Fs.flush("post-initial-dom"),this.Fs.startInterval()},5e3))}onOptout(){this.Fs.clear()}}return s})(),cp=(()=>{let s;return function(i){i.COMPRESSION_DISABLED="compressionDisabled"}(s||(s={})),s})(),lp=(()=>{class s{constructor(){}static init(t){(!this.Du||t!==void 0)&&this.initFlags(t)}static initFlags(t=document.cookie){var e;let n=(e=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))===null||e===void 0?void 0:e[1];if(this.Du=new Map,n){let r=csString.prototype.split.call(n,".");for(let a=0;a<r.length;a++){let[c,h]=csString.prototype.split.call(r[a],"=");this.Du.set(c,h||"true")}}}static getBoolean(t){let e=this.getString(t);return e!=null&&e!=="false"&&parseInt(e)!==0}static getString(t){var e;return this.init(),(e=this.Du)===null||e===void 0?void 0:e.get(t)}static isCompressionEnabled(){return!this.getBoolean(cp.COMPRESSION_DISABLED)}static Log(t){return(e,n,r)=>{var a;let c=n.toString(),h=`${(a=e.constructor)===null||a===void 0?void 0:a.name}.${c}`,d=r.value;hp(s.getString("debugLog"),t)&&(r.value=function(...g){return console.log(h,...g),d.bind(this)(...g)})}}}return s})();function hp(s,i){var t;return s==null?!1:s===i||!!(!((t=csString.prototype.match.call(s,new csRegExp("(^|,)("+i+")(,|$)")))===null||t===void 0)&&t.length)}var up=(()=>{class s{constructor(t){this.Yb=t,this.Pm=[],this.ku={},this.Xb=0}static async create(t,e={}){let n=new s(t),r;return csArray.prototype.forEach.call(Object.entries(e),([a,c])=>{e[a]=c,n.register(c)}),await n.Xn().catch(a=>{rt.warn("Failed to start worker: "+a.toString()),r=new t}),new Proxy(n,{get(a,c){return c==="__worker"?n.ve:t.prototype[c]instanceof Function?(...h)=>r?Promise.resolve(r[c](...h)):n.Om(c,h):r?Promise.resolve(r[c]):n.Om(c,[])}})}Om(t,e){let n=++this.Xb;return new Promise((r,a)=>{this.ku[n]=(c,h)=>{delete this.ku[n],c?a(c):r(h)},this.ve.postMessage({id:n,command:t,params:e})})}register(t){csArray.prototype.push.call(this.Pm,t.toString())}Xn(){try{let t=yo.toString()+`
`+csArray.prototype.join.call(this.Pm,`
`)+`

const klass = (${this.Yb.toString()});

${yo.name}()`,e=new Blob([t],{type:"application/javascript"}),n=csURL.createObjectURL(e);this.ve=new Worker(n),this.ve.addEventListener("message",r=>{var a,c,h,d,g;if(r.data!=="ping"){if(!((a=r.data)===null||a===void 0)&&a.critical||!r.data.id){rt.error("Worker error:",(h=(c=r.data)===null||c===void 0?void 0:c.critical)!==null&&h!==void 0?h:"No ID");return}(g=(d=this.ku)[r.data.id])===null||g===void 0||g.call(d,r.data.error,r.data.result)}})}catch(t){return Promise.reject(t)}return new Promise((t,e)=>{this.ve.onerror=n=>e(new Error(n.message)),this.ve.onmessage=()=>{this.ve.onmessage=this.ve.onerror=null,t()}})}}return s})();function yo(){let s=new klass;self.postMessage("ping"),self.onmessage=i=>{var t,e,n;if(!(!((t=i.data)===null||t===void 0)&&t.command))return self.postMessage({critical:"Invalid command",id:(e=i.data)===null||e===void 0?void 0:e.id,command:(n=i.data)===null||n===void 0?void 0:n.command});Promise.resolve().then(()=>{let r=s[i.data.command];return typeof r=="function"?r.apply(s,i.data.params):r}).then(r=>{var a;self.postMessage({result:r,id:i.data.id,command:(a=i.data)===null||a===void 0?void 0:a.command})},r=>{var a,c;self.postMessage({error:r,id:(a=i.data)===null||a===void 0?void 0:a.id,command:(c=i.data)===null||c===void 0?void 0:c.command})})}}function Cn(){function n(o){let u=o.length;for(;--u>=0;)o[u]=0}let r=0,a=1,c=2,h=3,d=258,g=29,m=256,y=m+1+g,E=30,C=19,k=2*y+1,x=15,_=16,w=7,O=256,I=16,T=17,M=18,W=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),K=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),St=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),vt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rt=512,S=new Array((y+2)*2);n(S);let P=new Array(E*2);n(P);let N=new Array(Rt);n(N);let L=new Array(d-h+1);n(L);let et=new Array(g);n(et);let at=new Array(E);n(at);function zt(o,u,f,p,l){this.static_tree=o,this.extra_bits=u,this.extra_base=f,this.elems=p,this.max_length=l,this.has_stree=o&&o.length}let Re,Ye,Xe;function se(o,u){this.dyn_tree=o,this.max_code=0,this.stat_desc=u}let ie=o=>o<256?N[o]:N[256+(o>>>7)],Nt=(o,u)=>{o.pending_buf[o.pending++]=u&255,o.pending_buf[o.pending++]=u>>>8&255},ct=(o,u,f)=>{o.bi_valid>_-f?(o.bi_buf|=u<<o.bi_valid&65535,Nt(o,o.bi_buf),o.bi_buf=u>>_-o.bi_valid,o.bi_valid+=f-_):(o.bi_buf|=u<<o.bi_valid&65535,o.bi_valid+=f)},Ct=(o,u,f)=>{ct(o,f[u*2],f[u*2+1])},Ms=(o,u)=>{let f=0;do f|=o&1,o>>>=1,f<<=1;while(--u>0);return f>>>1},Ti=o=>{o.bi_valid===16?(Nt(o,o.bi_buf),o.bi_buf=0,o.bi_valid=0):o.bi_valid>=8&&(o.pending_buf[o.pending++]=o.bi_buf&255,o.bi_buf>>=8,o.bi_valid-=8)},bi=(o,u)=>{let f=u.dyn_tree,p=u.max_code,l=u.stat_desc.static_tree,A=u.stat_desc.has_stree,v=u.stat_desc.extra_bits,b=u.stat_desc.extra_base,q=u.stat_desc.max_length,D,Tt,de,Q,Ne,Qe,Ys=0;for(Q=0;Q<=x;Q++)o.bl_count[Q]=0;for(f[o.heap[o.heap_max]*2+1]=0,D=o.heap_max+1;D<k;D++)Tt=o.heap[D],Q=f[f[Tt*2+1]*2+1]+1,Q>q&&(Q=q,Ys++),f[Tt*2+1]=Q,!(Tt>p)&&(o.bl_count[Q]++,Ne=0,Tt>=b&&(Ne=v[Tt-b]),Qe=f[Tt*2],o.opt_len+=Qe*(Q+Ne),A&&(o.static_len+=Qe*(l[Tt*2+1]+Ne)));if(Ys!==0){do{for(Q=q-1;o.bl_count[Q]===0;)Q--;o.bl_count[Q]--,o.bl_count[Q+1]+=2,o.bl_count[q]--,Ys-=2}while(Ys>0);for(Q=q;Q!==0;Q--)for(Tt=o.bl_count[Q];Tt!==0;)de=o.heap[--D],!(de>p)&&(f[de*2+1]!==Q&&(o.opt_len+=(Q-f[de*2+1])*f[de*2],f[de*2+1]=Q),Tt--)}},Ds=(o,u,f)=>{let p=new Array(x+1),l=0,A,v;for(A=1;A<=x;A++)p[A]=l=l+f[A-1]<<1;for(v=0;v<=u;v++){let b=o[v*2+1];b!==0&&(o[v*2]=Ms(p[b]++,b))}},Ri=()=>{let o,u,f,p,l,A=new Array(x+1);for(f=0,p=0;p<g-1;p++)for(et[p]=f,o=0;o<1<<W[p];o++)L[f++]=p;for(L[f-1]=p,l=0,p=0;p<16;p++)for(at[p]=l,o=0;o<1<<K[p];o++)N[l++]=p;for(l>>=7;p<E;p++)for(at[p]=l<<7,o=0;o<1<<K[p]-7;o++)N[256+l++]=p;for(u=0;u<=x;u++)A[u]=0;for(o=0;o<=143;)S[o*2+1]=8,o++,A[8]++;for(;o<=255;)S[o*2+1]=9,o++,A[9]++;for(;o<=279;)S[o*2+1]=7,o++,A[7]++;for(;o<=287;)S[o*2+1]=8,o++,A[8]++;for(Ds(S,y+1,A),o=0;o<E;o++)P[o*2+1]=5,P[o*2]=Ms(o,5);Re=new zt(S,W,m+1,y,x),Ye=new zt(P,K,0,E,x),Xe=new zt(new Array(0),St,0,C,w)},ks=o=>{let u;for(u=0;u<y;u++)o.dyn_ltree[u*2]=0;for(u=0;u<E;u++)o.dyn_dtree[u*2]=0;for(u=0;u<C;u++)o.bl_tree[u*2]=0;o.dyn_ltree[O*2]=1,o.opt_len=o.static_len=0,o.last_lit=o.matches=0},Ls=o=>{o.bi_valid>8?Nt(o,o.bi_buf):o.bi_valid>0&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0},xs=(o,u,f,p)=>{Ls(o),p&&(Nt(o,f),Nt(o,~f)),o.pending_buf.set(o.window.subarray(u,u+f),o.pending),o.pending+=f},Ci=(o,u,f,p)=>{let l=u*2,A=f*2;return o[l]<o[A]||o[l]===o[A]&&p[u]<=p[f]},Vs=(o,u,f)=>{let p=o.heap[f],l=f<<1;for(;l<=o.heap_len&&(l<o.heap_len&&Ci(u,o.heap[l+1],o.heap[l],o.depth)&&l++,!Ci(u,p,o.heap[l],o.depth));)o.heap[f]=o.heap[l],f=l,l<<=1;o.heap[f]=p},Ii=(o,u,f)=>{let p,l,A=0,v,b;if(o.last_lit!==0)do p=o.pending_buf[o.d_buf+A*2]<<8|o.pending_buf[o.d_buf+A*2+1],l=o.pending_buf[o.l_buf+A],A++,p===0?Ct(o,l,u):(v=L[l],Ct(o,v+m+1,u),b=W[v],b!==0&&(l-=et[v],ct(o,l,b)),p--,v=ie(p),Ct(o,v,f),b=K[v],b!==0&&(p-=at[v],ct(o,p,b)));while(A<o.last_lit);Ct(o,O,u)},Us=(o,u)=>{let f=u.dyn_tree,p=u.stat_desc.static_tree,l=u.stat_desc.has_stree,A=u.stat_desc.elems,v,b,q=-1,D;for(o.heap_len=0,o.heap_max=k,v=0;v<A;v++)f[v*2]!==0?(o.heap[++o.heap_len]=q=v,o.depth[v]=0):f[v*2+1]=0;for(;o.heap_len<2;)D=o.heap[++o.heap_len]=q<2?++q:0,f[D*2]=1,o.depth[D]=0,o.opt_len--,l&&(o.static_len-=p[D*2+1]);for(u.max_code=q,v=o.heap_len>>1;v>=1;v--)Vs(o,f,v);D=A;do v=o.heap[1],o.heap[1]=o.heap[o.heap_len--],Vs(o,f,1),b=o.heap[1],o.heap[--o.heap_max]=v,o.heap[--o.heap_max]=b,f[D*2]=f[v*2]+f[b*2],o.depth[D]=(o.depth[v]>=o.depth[b]?o.depth[v]:o.depth[b])+1,f[v*2+1]=f[b*2+1]=D,o.heap[1]=D++,Vs(o,f,1);while(o.heap_len>=2);o.heap[--o.heap_max]=o.heap[1],bi(o,u),Ds(f,q,o.bl_count)},Pi=(o,u,f)=>{let p,l=-1,A,v=u[0*2+1],b=0,q=7,D=4;for(v===0&&(q=138,D=3),u[(f+1)*2+1]=65535,p=0;p<=f;p++)A=v,v=u[(p+1)*2+1],!(++b<q&&A===v)&&(b<D?o.bl_tree[A*2]+=b:A!==0?(A!==l&&o.bl_tree[A*2]++,o.bl_tree[I*2]++):b<=10?o.bl_tree[T*2]++:o.bl_tree[M*2]++,b=0,l=A,v===0?(q=138,D=3):A===v?(q=6,D=3):(q=7,D=4))},er=(o,u,f)=>{let p,l=-1,A,v=u[0*2+1],b=0,q=7,D=4;for(v===0&&(q=138,D=3),p=0;p<=f;p++)if(A=v,v=u[(p+1)*2+1],!(++b<q&&A===v)){if(b<D)do Ct(o,A,o.bl_tree);while(--b!==0);else A!==0?(A!==l&&(Ct(o,A,o.bl_tree),b--),Ct(o,I,o.bl_tree),ct(o,b-3,2)):b<=10?(Ct(o,T,o.bl_tree),ct(o,b-3,3)):(Ct(o,M,o.bl_tree),ct(o,b-11,7));b=0,l=A,v===0?(q=138,D=3):A===v?(q=6,D=3):(q=7,D=4)}},Ha=o=>{let u;for(Pi(o,o.dyn_ltree,o.l_desc.max_code),Pi(o,o.dyn_dtree,o.d_desc.max_code),Us(o,o.bl_desc),u=C-1;u>=3&&o.bl_tree[vt[u]*2+1]===0;u--);return o.opt_len+=3*(u+1)+5+5+4,u},Ba=(o,u,f,p)=>{let l;for(ct(o,u-257,5),ct(o,f-1,5),ct(o,p-4,4),l=0;l<p;l++)ct(o,o.bl_tree[vt[l]*2+1],3);er(o,o.dyn_ltree,u-1),er(o,o.dyn_dtree,f-1)},Fa=o=>{let u=4093624447,f;for(f=0;f<=31;f++,u>>>=1)if(u&1&&o.dyn_ltree[f*2]!==0)return 0;if(o.dyn_ltree[9*2]!==0||o.dyn_ltree[10*2]!==0||o.dyn_ltree[13*2]!==0)return 1;for(f=32;f<m;f++)if(o.dyn_ltree[f*2]!==0)return 1;return 0},sr=!1,Ga=o=>{sr||(Ri(),sr=!0),o.l_desc=new se(o.dyn_ltree,Re),o.d_desc=new se(o.dyn_dtree,Ye),o.bl_desc=new se(o.bl_tree,Xe),o.bi_buf=0,o.bi_valid=0,ks(o)},ir=(o,u,f,p)=>{ct(o,(r<<1)+(p?1:0),3),xs(o,u,f,!0)},$a=o=>{ct(o,a<<1,3),Ct(o,O,S),Ti(o)},za=(o,u,f,p)=>{let l,A,v=0;o.level>0?(o.strm.data_type===2&&(o.strm.data_type=Fa(o)),Us(o,o.l_desc),Us(o,o.d_desc),v=Ha(o),l=o.opt_len+3+7>>>3,A=o.static_len+3+7>>>3,A<=l&&(l=A)):l=A=f+5,f+4<=l&&u!==-1?ir(o,u,f,p):o.strategy===4||A===l?(ct(o,(a<<1)+(p?1:0),3),Ii(o,S,P)):(ct(o,(c<<1)+(p?1:0),3),Ba(o,o.l_desc.max_code+1,o.d_desc.max_code+1,v+1),Ii(o,o.dyn_ltree,o.dyn_dtree)),ks(o),p&&Ls(o)},qa=(o,u,f)=>(o.pending_buf[o.d_buf+o.last_lit*2]=u>>>8&255,o.pending_buf[o.d_buf+o.last_lit*2+1]=u&255,o.pending_buf[o.l_buf+o.last_lit]=f&255,o.last_lit++,u===0?o.dyn_ltree[f*2]++:(o.matches++,u--,o.dyn_ltree[(L[f]+m+1)*2]++,o.dyn_dtree[ie(u)*2]++),o.last_lit===o.lit_bufsize-1);var Wa=Ga,Ya=ir,Xa=za,Ka=qa,Ja=$a,Qa={_tr_init:Wa,_tr_stored_block:Ya,_tr_flush_block:Xa,_tr_tally:Ka,_tr_align:Ja},nr=(o,u,f,p)=>{let l=o&65535|0,A=o>>>16&65535|0,v=0;for(;f!==0;){v=f>2e3?2e3:f,f-=v;do l=l+u[p++]|0,A=A+l|0;while(--v);l%=65521,A%=65521}return l|A<<16|0};let Za=()=>{let o,u=[];for(var f=0;f<256;f++){o=f;for(var p=0;p<8;p++)o=o&1?3988292384^o>>>1:o>>>1;u[f]=o}return u},tc=new Uint32Array(Za());var ne=(o,u,f,p)=>{let l=tc,A=p+f;o^=-1;for(let v=p;v<A;v++)o=o>>>8^l[(o^u[v])&255];return o^-1},js={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:ec,_tr_stored_block:sc,_tr_flush_block:ic,_tr_tally:re,_tr_align:nc}=Qa,{Z_NO_FLUSH:Ce,Z_PARTIAL_FLUSH:rc,Z_FULL_FLUSH:oc,Z_FINISH:oe,Z_BLOCK:or,Z_OK:xt,Z_STREAM_END:ar,Z_STREAM_ERROR:It,Z_DATA_ERROR:ac,Z_BUF_ERROR:Oi,Z_DEFAULT_COMPRESSION:cc,Z_FILTERED:lc,Z_HUFFMAN_ONLY:Hs,Z_RLE:hc,Z_FIXED:uc,Z_DEFAULT_STRATEGY:dc,Z_UNKNOWN:fc,Z_DEFLATED:Bs}=rr,pc=9,gc=15,mc=8,Ni=256+1+29,yc=30,Ec=19,Sc=2*Ni+1,vc=15,z=3,ae=258,Mt=ae+z+1,_c=32,Fs=42,Mi=69,Gs=73,$s=91,zs=103,Ie=113,us=666,it=1,ds=2,Pe=3,Ke=4,wc=3,ce=(o,u)=>(o.msg=js[u],u),cr=o=>(o<<1)-(o>4?9:0),le=o=>{let u=o.length;for(;--u>=0;)o[u]=0},he=(o,u,f)=>(u<<o.hash_shift^f)&o.hash_mask,ue=o=>{let u=o.state,f=u.pending;f>o.avail_out&&(f=o.avail_out),f!==0&&(o.output.set(u.pending_buf.subarray(u.pending_out,u.pending_out+f),o.next_out),o.next_out+=f,u.pending_out+=f,o.total_out+=f,o.avail_out-=f,u.pending-=f,u.pending===0&&(u.pending_out=0))},lt=(o,u)=>{ic(o,o.block_start>=0?o.block_start:-1,o.strstart-o.block_start,u),o.block_start=o.strstart,ue(o.strm)},Y=(o,u)=>{o.pending_buf[o.pending++]=u},fs=(o,u)=>{o.pending_buf[o.pending++]=u>>>8&255,o.pending_buf[o.pending++]=u&255},Ac=(o,u,f,p)=>{let l=o.avail_in;return l>p&&(l=p),l===0?0:(o.avail_in-=l,u.set(o.input.subarray(o.next_in,o.next_in+l),f),o.state.wrap===1?o.adler=nr(o.adler,u,l,f):o.state.wrap===2&&(o.adler=ne(o.adler,u,l,f)),o.next_in+=l,o.total_in+=l,l)},lr=(o,u)=>{let f=o.max_chain_length,p=o.strstart,l,A,v=o.prev_length,b=o.nice_match,q=o.strstart>o.w_size-Mt?o.strstart-(o.w_size-Mt):0,D=o.window,Tt=o.w_mask,de=o.prev,Q=o.strstart+ae,Ne=D[p+v-1],Qe=D[p+v];o.prev_length>=o.good_match&&(f>>=2),b>o.lookahead&&(b=o.lookahead);do if(l=u,!(D[l+v]!==Qe||D[l+v-1]!==Ne||D[l]!==D[p]||D[++l]!==D[p+1])){p+=2,l++;do;while(D[++p]===D[++l]&&D[++p]===D[++l]&&D[++p]===D[++l]&&D[++p]===D[++l]&&D[++p]===D[++l]&&D[++p]===D[++l]&&D[++p]===D[++l]&&D[++p]===D[++l]&&p<Q);if(A=ae-(Q-p),p=Q-ae,A>v){if(o.match_start=u,v=A,A>=b)break;Ne=D[p+v-1],Qe=D[p+v]}}while((u=de[u&Tt])>q&&--f!==0);return v<=o.lookahead?v:o.lookahead},Oe=o=>{let u=o.w_size,f,p,l,A,v;do{if(A=o.window_size-o.lookahead-o.strstart,o.strstart>=u+(u-Mt)){o.window.set(o.window.subarray(u,u+u),0),o.match_start-=u,o.strstart-=u,o.block_start-=u,p=o.hash_size,f=p;do l=o.head[--f],o.head[f]=l>=u?l-u:0;while(--p);p=u,f=p;do l=o.prev[--f],o.prev[f]=l>=u?l-u:0;while(--p);A+=u}if(o.strm.avail_in===0)break;if(p=Ac(o.strm,o.window,o.strstart+o.lookahead,A),o.lookahead+=p,o.lookahead+o.insert>=z)for(v=o.strstart-o.insert,o.ins_h=o.window[v],o.ins_h=he(o,o.ins_h,o.window[v+1]);o.insert&&(o.ins_h=he(o,o.ins_h,o.window[v+z-1]),o.prev[v&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=v,v++,o.insert--,!(o.lookahead+o.insert<z)););}while(o.lookahead<Mt&&o.strm.avail_in!==0)},Tc=(o,u)=>{let f=65535;for(f>o.pending_buf_size-5&&(f=o.pending_buf_size-5);;){if(o.lookahead<=1){if(Oe(o),o.lookahead===0&&u===Ce)return it;if(o.lookahead===0)break}o.strstart+=o.lookahead,o.lookahead=0;let p=o.block_start+f;if((o.strstart===0||o.strstart>=p)&&(o.lookahead=o.strstart-p,o.strstart=p,lt(o,!1),o.strm.avail_out===0)||o.strstart-o.block_start>=o.w_size-Mt&&(lt(o,!1),o.strm.avail_out===0))return it}return o.insert=0,u===oe?(lt(o,!0),o.strm.avail_out===0?Pe:Ke):(o.strstart>o.block_start&&(lt(o,!1),o.strm.avail_out===0),it)},Di=(o,u)=>{let f,p;for(;;){if(o.lookahead<Mt){if(Oe(o),o.lookahead<Mt&&u===Ce)return it;if(o.lookahead===0)break}if(f=0,o.lookahead>=z&&(o.ins_h=he(o,o.ins_h,o.window[o.strstart+z-1]),f=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),f!==0&&o.strstart-f<=o.w_size-Mt&&(o.match_length=lr(o,f)),o.match_length>=z)if(p=re(o,o.strstart-o.match_start,o.match_length-z),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=z){o.match_length--;do o.strstart++,o.ins_h=he(o,o.ins_h,o.window[o.strstart+z-1]),f=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart;while(--o.match_length!==0);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=he(o,o.ins_h,o.window[o.strstart+1]);else p=re(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(p&&(lt(o,!1),o.strm.avail_out===0))return it}return o.insert=o.strstart<z-1?o.strstart:z-1,u===oe?(lt(o,!0),o.strm.avail_out===0?Pe:Ke):o.last_lit&&(lt(o,!1),o.strm.avail_out===0)?it:ds},Je=(o,u)=>{let f,p,l;for(;;){if(o.lookahead<Mt){if(Oe(o),o.lookahead<Mt&&u===Ce)return it;if(o.lookahead===0)break}if(f=0,o.lookahead>=z&&(o.ins_h=he(o,o.ins_h,o.window[o.strstart+z-1]),f=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=z-1,f!==0&&o.prev_length<o.max_lazy_match&&o.strstart-f<=o.w_size-Mt&&(o.match_length=lr(o,f),o.match_length<=5&&(o.strategy===lc||o.match_length===z&&o.strstart-o.match_start>4096)&&(o.match_length=z-1)),o.prev_length>=z&&o.match_length<=o.prev_length){l=o.strstart+o.lookahead-z,p=re(o,o.strstart-1-o.prev_match,o.prev_length-z),o.lookahead-=o.prev_length-1,o.prev_length-=2;do++o.strstart<=l&&(o.ins_h=he(o,o.ins_h,o.window[o.strstart+z-1]),f=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart);while(--o.prev_length!==0);if(o.match_available=0,o.match_length=z-1,o.strstart++,p&&(lt(o,!1),o.strm.avail_out===0))return it}else if(o.match_available){if(p=re(o,0,o.window[o.strstart-1]),p&&lt(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return it}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(p=re(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<z-1?o.strstart:z-1,u===oe?(lt(o,!0),o.strm.avail_out===0?Pe:Ke):o.last_lit&&(lt(o,!1),o.strm.avail_out===0)?it:ds},bc=(o,u)=>{let f,p,l,A,v=o.window;for(;;){if(o.lookahead<=ae){if(Oe(o),o.lookahead<=ae&&u===Ce)return it;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=z&&o.strstart>0&&(l=o.strstart-1,p=v[l],p===v[++l]&&p===v[++l]&&p===v[++l])){A=o.strstart+ae;do;while(p===v[++l]&&p===v[++l]&&p===v[++l]&&p===v[++l]&&p===v[++l]&&p===v[++l]&&p===v[++l]&&p===v[++l]&&l<A);o.match_length=ae-(A-l),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=z?(f=re(o,1,o.match_length-z),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(f=re(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),f&&(lt(o,!1),o.strm.avail_out===0))return it}return o.insert=0,u===oe?(lt(o,!0),o.strm.avail_out===0?Pe:Ke):o.last_lit&&(lt(o,!1),o.strm.avail_out===0)?it:ds},Rc=(o,u)=>{let f;for(;;){if(o.lookahead===0&&(Oe(o),o.lookahead===0)){if(u===Ce)return it;break}if(o.match_length=0,f=re(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,f&&(lt(o,!1),o.strm.avail_out===0))return it}return o.insert=0,u===oe?(lt(o,!0),o.strm.avail_out===0?Pe:Ke):o.last_lit&&(lt(o,!1),o.strm.avail_out===0)?it:ds};function Vt(o,u,f,p,l){this.good_length=o,this.max_lazy=u,this.nice_length=f,this.max_chain=p,this.func=l}let ps=[new Vt(0,0,0,0,Tc),new Vt(4,4,8,4,Di),new Vt(4,5,16,8,Di),new Vt(4,6,32,32,Di),new Vt(4,4,16,16,Je),new Vt(8,16,32,32,Je),new Vt(8,16,128,128,Je),new Vt(8,32,128,256,Je),new Vt(32,128,258,1024,Je),new Vt(32,258,258,4096,Je)],Cc=o=>{o.window_size=2*o.w_size,le(o.head),o.max_lazy_match=ps[o.level].max_lazy,o.good_match=ps[o.level].good_length,o.nice_match=ps[o.level].nice_length,o.max_chain_length=ps[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=z-1,o.match_available=0,o.ins_h=0};function Ic(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Bs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Sc*2),this.dyn_dtree=new Uint16Array((2*yc+1)*2),this.bl_tree=new Uint16Array((2*Ec+1)*2),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(vc+1),this.heap=new Uint16Array(2*Ni+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ni+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let hr=o=>{if(!o||!o.state)return ce(o,It);o.total_in=o.total_out=0,o.data_type=fc;let u=o.state;return u.pending=0,u.pending_out=0,u.wrap<0&&(u.wrap=-u.wrap),u.status=u.wrap?Fs:Ie,o.adler=u.wrap===2?0:1,u.last_flush=Ce,ec(u),xt},ur=o=>{let u=hr(o);return u===xt&&Cc(o.state),u},Pc=(o,u)=>!o||!o.state||o.state.wrap!==2?It:(o.state.gzhead=u,xt),dr=(o,u,f,p,l,A)=>{if(!o)return It;let v=1;if(u===cc&&(u=6),p<0?(v=0,p=-p):p>15&&(v=2,p-=16),l<1||l>pc||f!==Bs||p<8||p>15||u<0||u>9||A<0||A>uc)return ce(o,It);p===8&&(p=9);let b=new Ic;return o.state=b,b.strm=o,b.wrap=v,b.gzhead=null,b.w_bits=p,b.w_size=1<<b.w_bits,b.w_mask=b.w_size-1,b.hash_bits=l+7,b.hash_size=1<<b.hash_bits,b.hash_mask=b.hash_size-1,b.hash_shift=~~((b.hash_bits+z-1)/z),b.window=new Uint8Array(b.w_size*2),b.head=new Uint16Array(b.hash_size),b.prev=new Uint16Array(b.w_size),b.lit_bufsize=1<<l+6,b.pending_buf_size=b.lit_bufsize*4,b.pending_buf=new Uint8Array(b.pending_buf_size),b.d_buf=1*b.lit_bufsize,b.l_buf=3*b.lit_bufsize,b.level=u,b.strategy=A,b.method=f,ur(o)},Oc=(o,u)=>dr(o,u,Bs,gc,mc,dc),Nc=(o,u)=>{let f,p;if(!o||!o.state||u>or||u<0)return o?ce(o,It):It;let l=o.state;if(!o.output||!o.input&&o.avail_in!==0||l.status===us&&u!==oe)return ce(o,o.avail_out===0?Oi:It);l.strm=o;let A=l.last_flush;if(l.last_flush=u,l.status===Fs)if(l.wrap===2)o.adler=0,Y(l,31),Y(l,139),Y(l,8),l.gzhead?(Y(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),Y(l,l.gzhead.time&255),Y(l,l.gzhead.time>>8&255),Y(l,l.gzhead.time>>16&255),Y(l,l.gzhead.time>>24&255),Y(l,l.level===9?2:l.strategy>=Hs||l.level<2?4:0),Y(l,l.gzhead.os&255),l.gzhead.extra&&l.gzhead.extra.length&&(Y(l,l.gzhead.extra.length&255),Y(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(o.adler=ne(o.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=Mi):(Y(l,0),Y(l,0),Y(l,0),Y(l,0),Y(l,0),Y(l,l.level===9?2:l.strategy>=Hs||l.level<2?4:0),Y(l,wc),l.status=Ie);else{let v=Bs+(l.w_bits-8<<4)<<8,b=-1;l.strategy>=Hs||l.level<2?b=0:l.level<6?b=1:l.level===6?b=2:b=3,v|=b<<6,l.strstart!==0&&(v|=_c),v+=31-v%31,l.status=Ie,fs(l,v),l.strstart!==0&&(fs(l,o.adler>>>16),fs(l,o.adler&65535)),o.adler=1}if(l.status===Mi)if(l.gzhead.extra){for(f=l.pending;l.gzindex<(l.gzhead.extra.length&65535)&&!(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>f&&(o.adler=ne(o.adler,l.pending_buf,l.pending-f,f)),ue(o),f=l.pending,l.pending===l.pending_buf_size));)Y(l,l.gzhead.extra[l.gzindex]&255),l.gzindex++;l.gzhead.hcrc&&l.pending>f&&(o.adler=ne(o.adler,l.pending_buf,l.pending-f,f)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=Gs)}else l.status=Gs;if(l.status===Gs)if(l.gzhead.name){f=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>f&&(o.adler=ne(o.adler,l.pending_buf,l.pending-f,f)),ue(o),f=l.pending,l.pending===l.pending_buf_size)){p=1;break}l.gzindex<l.gzhead.name.length?p=l.gzhead.name.charCodeAt(l.gzindex++)&255:p=0,Y(l,p)}while(p!==0);l.gzhead.hcrc&&l.pending>f&&(o.adler=ne(o.adler,l.pending_buf,l.pending-f,f)),p===0&&(l.gzindex=0,l.status=$s)}else l.status=$s;if(l.status===$s)if(l.gzhead.comment){f=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>f&&(o.adler=ne(o.adler,l.pending_buf,l.pending-f,f)),ue(o),f=l.pending,l.pending===l.pending_buf_size)){p=1;break}l.gzindex<l.gzhead.comment.length?p=l.gzhead.comment.charCodeAt(l.gzindex++)&255:p=0,Y(l,p)}while(p!==0);l.gzhead.hcrc&&l.pending>f&&(o.adler=ne(o.adler,l.pending_buf,l.pending-f,f)),p===0&&(l.status=zs)}else l.status=zs;if(l.status===zs&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&ue(o),l.pending+2<=l.pending_buf_size&&(Y(l,o.adler&255),Y(l,o.adler>>8&255),o.adler=0,l.status=Ie)):l.status=Ie),l.pending!==0){if(ue(o),o.avail_out===0)return l.last_flush=-1,xt}else if(o.avail_in===0&&cr(u)<=cr(A)&&u!==oe)return ce(o,Oi);if(l.status===us&&o.avail_in!==0)return ce(o,Oi);if(o.avail_in!==0||l.lookahead!==0||u!==Ce&&l.status!==us){let v=l.strategy===Hs?Rc(l,u):l.strategy===hc?bc(l,u):ps[l.level].func(l,u);if((v===Pe||v===Ke)&&(l.status=us),v===it||v===Pe)return o.avail_out===0&&(l.last_flush=-1),xt;if(v===ds&&(u===rc?nc(l):u!==or&&(sc(l,0,0,!1),u===oc&&(le(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),ue(o),o.avail_out===0))return l.last_flush=-1,xt}return u!==oe?xt:l.wrap<=0?ar:(l.wrap===2?(Y(l,o.adler&255),Y(l,o.adler>>8&255),Y(l,o.adler>>16&255),Y(l,o.adler>>24&255),Y(l,o.total_in&255),Y(l,o.total_in>>8&255),Y(l,o.total_in>>16&255),Y(l,o.total_in>>24&255)):(fs(l,o.adler>>>16),fs(l,o.adler&65535)),ue(o),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?xt:ar)},Mc=o=>{if(!o||!o.state)return It;let u=o.state.status;return u!==Fs&&u!==Mi&&u!==Gs&&u!==$s&&u!==zs&&u!==Ie&&u!==us?ce(o,It):(o.state=null,u===Ie?ce(o,ac):xt)},Dc=(o,u)=>{let f=u.length;if(!o||!o.state)return It;let p=o.state,l=p.wrap;if(l===2||l===1&&p.status!==Fs||p.lookahead)return It;if(l===1&&(o.adler=nr(o.adler,u,f,0)),p.wrap=0,f>=p.w_size){l===0&&(le(p.head),p.strstart=0,p.block_start=0,p.insert=0);let q=new Uint8Array(p.w_size);q.set(u.subarray(f-p.w_size,f),0),u=q,f=p.w_size}let A=o.avail_in,v=o.next_in,b=o.input;for(o.avail_in=f,o.next_in=0,o.input=u,Oe(p);p.lookahead>=z;){let q=p.strstart,D=p.lookahead-(z-1);do p.ins_h=he(p,p.ins_h,p.window[q+z-1]),p.prev[q&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=q,q++;while(--D);p.strstart=q,p.lookahead=z-1,Oe(p)}return p.strstart+=p.lookahead,p.block_start=p.strstart,p.insert=p.lookahead,p.lookahead=0,p.match_length=p.prev_length=z-1,p.match_available=0,o.next_in=v,o.input=b,o.avail_in=A,p.wrap=l,xt};var kc=Oc,Lc=dr,xc=ur,Vc=hr,Uc=Pc,jc=Nc,Hc=Mc,Bc=Dc,Fc="pako deflate (from Nodeca project)",gs={deflateInit:kc,deflateInit2:Lc,deflateReset:xc,deflateResetKeep:Vc,deflateSetHeader:Uc,deflate:jc,deflateEnd:Hc,deflateSetDictionary:Bc,deflateInfo:Fc};let Gc=(o,u)=>Object.prototype.hasOwnProperty.call(o,u);var $c=function(o){let u=Array.prototype.slice.call(arguments,1);for(;u.length;){let f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(let p in f)Gc(f,p)&&(o[p]=f[p])}}return o},zc=o=>{let u=0;for(let p=0,l=o.length;p<l;p++)u+=o[p].length;let f=new Uint8Array(u);for(let p=0,l=0,A=o.length;p<A;p++){let v=o[p];f.set(v,l),l+=v.length}return f},fr={assign:$c,flattenChunks:zc};let pr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pr=!1}let ms=new Uint8Array(256);for(let o=0;o<256;o++)ms[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;ms[254]=ms[254]=1;var qc=o=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(o);let u,f,p,l,A,v=o.length,b=0;for(l=0;l<v;l++)f=o.charCodeAt(l),(f&64512)===55296&&l+1<v&&(p=o.charCodeAt(l+1),(p&64512)===56320&&(f=65536+(f-55296<<10)+(p-56320),l++)),b+=f<128?1:f<2048?2:f<65536?3:4;for(u=new Uint8Array(b),A=0,l=0;A<b;l++)f=o.charCodeAt(l),(f&64512)===55296&&l+1<v&&(p=o.charCodeAt(l+1),(p&64512)===56320&&(f=65536+(f-55296<<10)+(p-56320),l++)),f<128?u[A++]=f:f<2048?(u[A++]=192|f>>>6,u[A++]=128|f&63):f<65536?(u[A++]=224|f>>>12,u[A++]=128|f>>>6&63,u[A++]=128|f&63):(u[A++]=240|f>>>18,u[A++]=128|f>>>12&63,u[A++]=128|f>>>6&63,u[A++]=128|f&63);return u};let gr=(o,u=o.length)=>{if(u<65534&&o.subarray&&pr)return String.fromCharCode.apply(null,o.length===u?o:o.subarray(0,u));let f="";for(let p=0;p<u;p++)f+=String.fromCharCode(o[p]);return f};var Wc=(o,u)=>{let f=u||o.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(o.subarray(0,u));let p,l,A=new Array(f*2);for(l=0,p=0;p<f;){let v=o[p++];if(v<128){A[l++]=v;continue}let b=ms[v];if(b>4){A[l++]=65533,p+=b-1;continue}for(v&=b===2?31:b===3?15:7;b>1&&p<f;)v=v<<6|o[p++]&63,b--;if(b>1){A[l++]=65533;continue}v<65536?A[l++]=v:(v-=65536,A[l++]=55296|v>>10&1023,A[l++]=56320|v&1023)}return gr(A,l)},Yc=(o,u)=>{u=u||o.length,u>o.length&&(u=o.length);let f=u-1;for(;f>=0&&(o[f]&192)===128;)f--;return f<0||f===0?u:f+ms[o[f]]>u?f:u},mr={string2buf:qc,buf2string:Wc,utf8border:Yc};function Xc(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Kc=Xc;let yr=Object.prototype.toString,{Z_NO_FLUSH:Jc,Z_SYNC_FLUSH:Qc,Z_FULL_FLUSH:Zc,Z_FINISH:tl,Z_OK:qs,Z_STREAM_END:el,Z_DEFAULT_COMPRESSION:sl,Z_DEFAULT_STRATEGY:il,Z_DEFLATED:nl}=rr;function Ws(o){this.options=fr.assign({level:sl,method:nl,chunkSize:16384,windowBits:15,memLevel:8,strategy:il},o||{});let u=this.options;u.raw&&u.windowBits>0?u.windowBits=-u.windowBits:u.gzip&&u.windowBits>0&&u.windowBits<16&&(u.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kc,this.strm.avail_out=0;let f=gs.deflateInit2(this.strm,u.level,u.method,u.windowBits,u.memLevel,u.strategy);if(f!==qs)throw new Error(js[f]);if(u.header&&gs.deflateSetHeader(this.strm,u.header),u.dictionary){let p;if(typeof u.dictionary=="string"?p=mr.string2buf(u.dictionary):yr.call(u.dictionary)==="[object ArrayBuffer]"?p=new Uint8Array(u.dictionary):p=u.dictionary,f=gs.deflateSetDictionary(this.strm,p),f!==qs)throw new Error(js[f]);this._dict_set=!0}}Ws.prototype.push=function(o,u){let f=this.strm,p=this.options.chunkSize,l,A;if(this.ended)return!1;for(u===~~u?A=u:A=u===!0?tl:Jc,typeof o=="string"?f.input=mr.string2buf(o):yr.call(o)==="[object ArrayBuffer]"?f.input=new Uint8Array(o):f.input=o,f.next_in=0,f.avail_in=f.input.length;;){if(f.avail_out===0&&(f.output=new Uint8Array(p),f.next_out=0,f.avail_out=p),(A===Qc||A===Zc)&&f.avail_out<=6){this.onData(f.output.subarray(0,f.next_out)),f.avail_out=0;continue}if(l=gs.deflate(f,A),l===el)return f.next_out>0&&this.onData(f.output.subarray(0,f.next_out)),l=gs.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===qs;if(f.avail_out===0){this.onData(f.output);continue}if(A>0&&f.next_out>0){this.onData(f.output.subarray(0,f.next_out)),f.avail_out=0;continue}if(f.avail_in===0)break}return!0},Ws.prototype.onData=function(o){this.chunks.push(o)},Ws.prototype.onEnd=function(o){o===qs&&(this.result=fr.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function rl(o,u){u=u||{};let f=new Ws(u);if(f.push(o,!0),f.err)throw f.msg||js[f.err];return f.result}function ol(o,u){return u=u||{},u.gzip=!0,rl(o,u)}return(o,u,f)=>{let p=ol(o);return u==="base64"?p=btoa(gr(p)):p=p.buffer,f&&f(p),p}}var dp=(()=>{class s extends Aa{constructor(){super(),this.algorithm=wi.GZIP,this.Kb=Cn(),this.compress=(n,r,a)=>this.Nm.compress(n,r).then(a);let e=typeof CompressionStream!="undefined"&&!!self.CompressionStream?pp:fp;this.Nm=new e,up.create(e,{getPakoCompressor:Cn}).then(n=>{this.Nm=n})}compressSync(t,e){try{return this.Kb(t,e)}catch(n){throw rt.warn(n),n}}}return s})(),fp=(()=>{class s{constructor(){this.Jb=Cn()}compress(t,e){return Promise.resolve(this.Jb(t,e))}}return s})(),pp=(()=>{class s{Qb(t){return new Promise(e=>{let n=new FileReader;n.onload=r=>e(r.target.result.split(",")[1]),n.readAsDataURL(new Blob([t]))})}compress(t,e){let n=new Response(t).body.pipeThrough(new CompressionStream("gzip")),r=new Response(n).arrayBuffer();return e==="base64"?r.then(a=>this.Qb(a)):r}}return s})(),gp=(()=>{class s extends Aa{constructor(){super(...arguments),this.algorithm=wi.UNCOMPRESSED,this.compress=(t,e,n)=>{n(this.compressSync(t,e))},this.compressSync=(t,e)=>t}}return s})(),Da=(()=>{class s{static create(t=!0){return this.instance?this.instance:t&&!lp.isCompressionEnabled()?new gp:this.instance=new dp}}return s})(),mp=s=>{let i=s*60*1e3;return`${Math.floor(csDate.now()/i)}`},yp=5e3,Ep=(()=>{class s extends Yo{constructor(t,e,n){super(t,e),this.Kn=null,this.Zb=(n==null?void 0:n.type)||"json",this.Mm=n==null?void 0:n.cacheMinutes,this.Co=n==null?void 0:n.timeout}onLoad(t){this.Jn=t}onError(t){this.Io=t}onTimeout(t,e){this.tn=t,this.Co=e}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,r=>r());let t=this.retrieveParameters();this.Zc(t);let e=Bn.toQuery(t),n=`${this.domainUri}${this.path?`/${this.path}`:""}?${e}`;this.t0(n,this.Zb)}abort(){this.Kn&&(this.Kn.abort(),this.Kn=null)}isInProgress(){return this.Kn!==null}t0(t,e){var n;let r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onerror=()=>{var a;return(a=this.Io)===null||a===void 0?void 0:a.call(this,r)},r.ontimeout=()=>{var a;return(a=this.tn)===null||a===void 0?void 0:a.call(this,r)},r.onload=()=>{var a,c;r.status>=200&&r.status<400?((a=this.Jn)===null||a===void 0||a.call(this,this.e0(r,e)?r.response:r.responseText),csArray.prototype.forEach.call(this.afterRequestCallbacks,h=>h())):(c=this.Io)===null||c===void 0||c.call(this,r)},r.onloadend=()=>{this.Kn=null},r.timeout=(n=this.Co)!==null&&n!==void 0?n:yp,this.Kn=r,r.send()}e0(t,e){let n=t.getResponseHeader("Content-Type");return n===null?e==="json":csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(n),"json")>0}Zc(t){let e;this.Mm?e=`${mp(this.Mm)}`:e=csString.prototype.slice.call(`${Math.random()}`,2,8),t.r=e}}return s})(),Sp=(()=>{class s{constructor(t){var e;this.Xe={},this.Lu={},this.Dm=n=>{for(let r of n){let{metadata:a,events:c}=r;this.send(c,a)}},this.ja=t.endpoint,this.Po=t.compressionOpts,this.oe=t.recoveryStorage,this.mandatoryParameters=(e=t.mandatoryParameters)!==null&&e!==void 0?e:[],this.xu=t.contentType,this.worker=!!t.worker,this.oe&&this.oe.recover(this.Dm)}setQueryParams(t){Object.keys(t).forEach(e=>{this.Xe[e]=t[e]})}removeQueryParams(t){t?t.forEach(e=>{delete this.Xe[e]}):this.Xe={}}send(t,e){let n=e||{...this.Xe},r=!("ct"in n),a=this.xu==="application/json"||typeof t!="string"&&!this.s0(t);"ct"in n||(!this.Po||!r?n.ct=wi.UNCOMPRESSED:n.ct=this.Po.compressionType);let c=a?JSON.stringify(t):t,h=Object.keys(n).map(g=>`${encodeURIComponent(g)}=${encodeURIComponent(n[g])}`).join("&"),d=`${this.ja}?${h}`;if(hn(this.mandatoryParameters,g=>n[g]==null)){rt.warn(`[${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on ${d}`);return}this.Po&&r&&typeof c=="string"?this.Po.compressor(c,this.Po.compressionOutputType,g=>this.km(d,n,g)):this.km(d,n,c)}onLoad(t){this.Jn=t}onError(t){this.Io=t}onTimeout(t,e){this.tn=t,this.Co=e}abort(){this.Lm&&this.Lm()}setRequestHeader(t,e){this.Lu[t]=e}getQueryParams(){return this.Xe}s0(t){return t&&t.byteLength!==void 0}km(t,e,n){let r=new XMLHttpRequest,a=Object.keys(e).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(e[c])}`).join("&");r.open("POST",t),this.xu&&r.setRequestHeader("Content-Type",this.xu),r.onload=()=>{if(this.oe&&this.oe.recover(this.Dm),this.Jn){let c={params:e,responseText:r.responseText,status:r.status};this.Jn(c)}},r.onerror=()=>{this.oe&&this.oe.save({key:a,metadata:e,events:n}),this.Io&&this.Io({params:e})},this.Co&&this.tn&&(r.timeout=this.Co,r.ontimeout=()=>{this.tn()}),this.Lm=()=>r.abort(),Object.keys(this.Lu).forEach(c=>{r.setRequestHeader(c,this.Lu[c])}),r.send(n)}}return s})(),ka=(()=>{class s{constructor(t){this.xm=t}create(t,e,n){let r=e?{compressor:this.xm.compress,compressionOutputType:e,compressionType:this.xm.algorithm}:void 0;return new Sp({endpoint:t,compressionOpts:r,recoveryStorage:n})}}return s})(),vp=(()=>{class s{setItem(t,e){window.localStorage.setItem(t,e)}getItem(t){return window.localStorage.getItem(t)}removeItem(t){window.localStorage.removeItem(t)}}return s})(),_p=(()=>{class s{constructor(t){this.Vu=t}start(){this.Vu.onEvent(t=>this.tt(t)),this.Vu.start()}stop(){this.Vu.stop()}tt(t){let e=`Content Security Policy error. Violated directive: ${t.violatedDirective} - Source file: ${t.sourceFile}`;B.warn(e)}}return s})(),wp=(()=>{class s{constructor(){this.Xt={boundElement:document,type:"securitypolicyviolation",listener:t=>this.securityPolicyViolationListener(t)}}start(){as(this.Xt)}stop(){cs(this.Xt)}onEvent(t){this.V=t}i0(t){if(!t)return!1;let e=t.disposition;return U(t.sourceFile)&&csArray.prototype.some.call(s.n0,n=>csString.prototype.indexOf.call(t.sourceFile,n)>0)&&e!=="report"}securityPolicyViolationListener(t){this.i0(t)&&this.V({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})}}return s.n0=["contentsquare","cdnssl.clicktale.net"],$([G("Event handler type: securitypolicyviolation")],s.prototype,"securityPolicyViolationListener",null),s})(),Ap=(()=>{class s{init(){this.Ec=new _p(new wp),this.Ec.start()}onOptout(){this.Ec.stop()}onArtificialPageViewEnd(t){t&&this.Ec.stop()}onAfterArtificialPageView(t){t&&this.Ec.start()}}return s})(),Tp=(()=>{class s{constructor(t,e,n){this.E=t,this.C=e,this.w=n}grantReplayConsent(){if(!Te.isReplayConsentNeeded(this.E))return;let t=this.C.getSession();if(!t){this.C.grantReplayRecordingBeforeSessionStart();return}Te.isRecordingBlockedByConsent(t)&&(this.C.grantReplayRecording(t),this.w.emitAfterReplayRecordingConsentGranted())}withdrawReplayConsent(){if(!Te.isReplayConsentNeeded(this.E))return;let t=this.C.getSession();if(!t){this.C.withdrawnReplayRecordingBeforeSessionStart();return}Te.isRecordingWithDrawn(t)||(this.C.withdrawnReplayRecording(t),this.w.emitAfterReplayRecordingConsentWithdrawn())}}return s})(),bp=["replay:consent:unanonymized:granted","trackConsentGranted"],Rp=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],Cp=["replay:consent:startForSession:granted"],Ip=["replay:consent:startForSession:withdrawn"],Pp=(()=>{class s{constructor(t,e,n,r,a){this.E=t,this.S=e,this.Rt=n,this.C=r,this.w=a}init(){this.Vm=new Tp(this.E,this.C,this.w),this.Rt.setInitialConsent(),this.ut()}ut(){this.S.register(bp,()=>{this.Rt.grantReplayAnonymizationConsent()}),this.S.register(Rp,()=>{this.Rt.withdrawReplayAnonymizationConsent()}),this.S.register(Cp,()=>{this.Vm.grantReplayConsent()}),this.S.register(Ip,()=>{this.Vm.withdrawReplayConsent()})}onOptout(){this.Rt.removeAllConsents()}onBeforeVisitorRenewal(){this.Rt.removeAllConsents()}onAfterVisitorRenewal(){this.Rt.setInitialConsent()}onAfterVisitorCleared(){this.Rt.setInitialConsent()}}return s})(),ye="_cs_c",ke=(()=>{let s;return function(i){i[i.NOT_REQUIRED=0]="NOT_REQUIRED",i[i.NOT_EXPRESSED=1]="NOT_EXPRESSED",i[i.GRANTED=2]="GRANTED",i[i.WITHDRAWN=3]="WITHDRAWN"}(s||(s={})),s})(),Op=(()=>{class s{constructor(t,e,n){this.E=t,this.M=e,this.Nt=n}get(){let t;return this.E.cookielessTrackingEnabled?t=this.Nt.getItem(ye):t=this.M.get(ye),t===null?t:Number(t)}set(t){this.E.cookielessTrackingEnabled?this.Nt.setItem(ye,csString(t)):this.M.set(ye,csString(t),Nn)}remove(){this.E.cookielessTrackingEnabled?this.Nt.removeItem(ye):this.M.delete(ye)}handleSubdomainChange(){this.E.cookielessTrackingEnabled||(this.E.allowSubdomains?this.M.delete(ye,vi.CURRENT_DOMAIN):this.M.delete(ye,this.M.getRootDomain()))}}return s})(),Np=(()=>{class s{constructor(t,e,n){this.E=t,this.pt=e,this.w=n}setInitialConsent(){let t=this.pt.get();(t===null||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()}hasConsentRequiredChanged(t){let e=this.E.consentRequired;return e&&t===ke.NOT_REQUIRED||!e&&t!==ke.NOT_REQUIRED}handleSubdomainChange(){this.pt.handleSubdomainChange()}setDefaultReplayAnonymization(){let t=this.E.consentRequired?ke.NOT_EXPRESSED:ke.NOT_REQUIRED;this.pt.set(t)}grantReplayAnonymizationConsent(){this.E.consentRequired&&(this.pt.set(ke.GRANTED),this.w.emitReplayUnanonymizationConsentGranted())}withdrawReplayAnonymizationConsent(){this.E.consentRequired&&(this.pt.set(ke.WITHDRAWN),this.w.emitReplayUnanonymizationConsentWithdrawn())}removeAllConsents(){this.pt.remove()}isReplayUnanonymizedAllowedByConsent(){return!this.E.consentRequired||this.pt.get()===ke.GRANTED}getRequestParameters(){return{uc:`${this.pt.get()}`}}}return s})();var Mp=(()=>{class s{setItem(t,e){window.sessionStorage.setItem(t,e)}getItem(t){return window.sessionStorage.getItem(t)}removeItem(t){window.sessionStorage.removeItem(t)}}return s})();var Eo=512,So=255,Zi={SESSION:["visit",2],PAGE:["page",3],NEXT_PAGE_ONLY:["nextPageOnly",4]},Dp=(()=>{class s{constructor(t,e){this.N=t,this.pt=e,this.te={},this.Fe={}}set(t,e,n,r){let a,c;if((Ot(t)||U(t))&&Number(t)>0&&Et(e)&&Et(n)&&!Ge(e)&&!Ge(n)&&this.a0(r)){let h=this.N.anonymizePII(csString(e)),d=this.N.anonymizePII(csString(n));if(a=[csString.prototype.slice.call(h,0,Eo),csString.prototype.slice.call(d,0,So)],c=n!=="",!X(r)||csArray.prototype.indexOf.call(Zi.SESSION,r)>=0){let g=this.getCustomVariablesSession();c?g[t]=a:delete g[t],this.setCustomVariableSession(g)}(!X(r)||csArray.prototype.indexOf.call(Zi.PAGE,r)>=0)&&(c?this.te[t]=a:delete this.te[t]),X(r)&&csArray.prototype.indexOf.call(Zi.NEXT_PAGE_ONLY,r)>=0&&(c?this.Fe[t]=a:delete this.Fe[t])}else throw new ot(ua[0])}getCustomVariablesSession(){let t=this.pt.get();if(!t)return{};let e=window.csJSON.parse(t);return e!==null&&Fe(e)?e:{}}setCustomVariableSession(t){this.pt.set(window.csJSON.stringify(t))}removeCustomVariablesSession(){this.pt.remove()}removeCustomVariablesPage(){this.te={}}getRequestParameters(){let t=this.getCustomVariablesSession();for(let n in this.Fe)this.Fe.hasOwnProperty(n)&&(this.te[n]=this.Fe[n]);for(let n in this.te)this.te.hasOwnProperty(n)&&(t[n]=this.te[n]);if(window.csJSON.stringify(t).length<=2)return{};let e={cvars:this.jm(t)};return this.hasCustomVariablesPage()&&(e.cvarp=this.getCustomVariablesPage()),e}deleteNextPageOnlyCustomVariables(){if(Object.keys(this.Fe).length>0)for(let t in this.Fe)this.Fe[t]===this.te[t]&&(delete this.te[t],delete this.Fe[t])}hasCustomVariablesPage(){return this.te&&!an(this.te)}getCustomVariablesPage(){return this.jm(this.te)}Hm(t){for(let e in t)if(t.hasOwnProperty(e)){let n=parseInt(e,10),r=t[e],a=r[0],c=r[1];(!ll(n,1,20)||a.length>Eo||c.length>So)&&delete t[e]}}jm(t){this.Hm(t);let e=an(t)?[]:t;return window.csJSON.stringify(e)}a0(t){return!X(t)||U(t)||Ot(t)}getAllValidCustomVars(){let t=this.getCustomVariablesSession();for(let e in this.Fe)this.Fe.hasOwnProperty(e)&&(this.te[e]=this.Fe[e]);for(let e in this.te)this.te.hasOwnProperty(e)&&(t[e]=this.te[e]);return this.Hm(t),t}}return s})(),kp=(()=>{class s{constructor(t,e,n,r){this._e=t,this.Oo=e,this.Mo=n,this.Rt=r}init(){this.c0()}shouldMaskNonTextElements(){if(this._e.anonymisationMethod!==Me.replayRecordingMaskedUrlRegexRules)return!1;if(this._e.isSMB)return this.shouldUseAnonymization();let t=this.Mo.getMatchingRules(this.Oo.getAnonymizedUrl());return csArray.prototype.some.call(t,e=>e.maskMedia)}shouldUseAnonymization(){if(this.Rt&&!this.Rt.isReplayUnanonymizedAllowedByConsent()){switch(this._e.anonymisationMethod){case null:case Me.replayRecordingUnmaskedUrlRegex:return!(this._e.replayRecordingUnmaskedUrlRegex&&this._e.replayRecordingUnmaskedUrlRegex.test(this.Oo.getAnonymizedUrl()));case Me.replayRecordingUnmaskedUrlRegexRules:return!this.Mo.evaluateUrl(this.Oo.getAnonymizedUrl())}return!0}else{switch(this._e.anonymisationMethod){case null:case Me.replayRecordingMaskedUrlRegex:return!!(this._e.replayRecordingMaskedUrlRegex&&this._e.replayRecordingMaskedUrlRegex.test(this.Oo.getAnonymizedUrl()));case Me.replayRecordingMaskedUrlRegexRules:return this.Mo.evaluateUrl(this.Oo.getAnonymizedUrl())}return!1}}c0(){this._e.anonymisationMethod===Me.replayRecordingMaskedUrlRegexRules&&this._e.replayRecordingMaskedUrlRegexRules?this.Mo.setRegexRules(this._e.replayRecordingMaskedUrlRegexRules):this._e.anonymisationMethod===Me.replayRecordingUnmaskedUrlRegexRules&&this._e.replayRecordingUnmaskedUrlRegexRules&&this.Mo.setRegexRules(this._e.replayRecordingUnmaskedUrlRegexRules)}}return s})();var Lp=(()=>{class s extends qd{constructor(t){super(),this.W=null,this.Sc=null,this.L=null,this.ai=null,this.Bm=["value","checked","src","data","alt"],this.vc={state:F.MaskedElementState.Child},this.h0=e=>{for(let n of e){if(F.isMaskedElement(n.target)||F.isMaskedElementChild(n.target))for(let r=0;r<n.addedNodes.length;r+=1){let a=n.addedNodes[r];F.isMaskedElement(a)||F.isMaskedElementChild(a)||pt(a)&&this.Fm(a)}for(let r=0;r<n.removedNodes.length;r+=1){let a=n.removedNodes[r];rs.isConnected(a)||this.Gm(a)}}},this.u0=t}setMaskedElementSettings(t){this.$s=t}startIdentifier(){this.isStarted||(this.isStarted=!0,this.onStart())}stopIdentifier(){return this.isStarted=!1,this.onStop()}start(){}stop(){}onStart(){var t,e,n,r;this.$s||(rt.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.$s={elementSelector:"",attrSelector:"",attrSelectors:[]});let{elementSelector:a,attrSelector:c,attrSelectors:h}=this.$s;(t=this.ai)!==null&&t!==void 0||(this.ai=this.d0()),a.length!==0&&((e=this.W)!==null&&e!==void 0||(this.W=this.f0()),this.W.observe(a)),c.length!==0&&((n=this.Sc)!==null&&n!==void 0||(this.Sc=this.p0(h)),this.Sc.observe(c)),(r=this.L)!==null&&r!==void 0||(this.L=new _i(this.h0,(d,g)=>g==="added"&&this.g0(d))),this.L.observe(),csSetTimeout(this.u0)}onStop(){var t,e,n;this.W&&(this.Gm(document),this.W.disconnect()),(t=this.Sc)===null||t===void 0||t.disconnect(),(e=this.L)===null||e===void 0||e.disconnect(),(n=this.ai)===null||n===void 0||n.disconnect()}d0(){return window.ResizeObserver?new ResizeObserver(t=>{window.requestAnimationFrame(()=>{csArray.prototype.forEach.call(t,e=>{this.resizeObserverCallback(e)})})}):null}f0(){return new mi(t=>{csArray.prototype.forEach.call(t,e=>{this.m0(e)?this.Fm(e):(this.y0(e),this.E0(e))})})}p0(t){return new mi(e=>{csArray.prototype.forEach.call(e,n=>this.S0(n,t))})}resizeObserverCallback(t){let e=t.target.getBoundingClientRect(),n=F.getMaskedElementDetails(t.target);if(n.state!==F.MaskedElementState.Parent||e.width===n.width&&e.height===n.height)return;let r={state:F.MaskedElementState.Parent,width:e.width,height:e.height};F.setMaskedElementProperty(t.target,r),this.produceEvent({type:"ResizeMaskedElement",target:ia(t.target),width:e.width,height:e.height})}E0(t){!this.ai||!pt(t)||Hl(t)||this.ai.observe(t)}m0(t){let e=csNodeparentNode.apply(t);return e?F.isMaskedElement(e)||F.isMaskedElementChild(e):As(t)?F.isMaskedElement(t.host)||F.isMaskedElementChild(t.host):!1}g0(t){(F.isMaskedElement(t.host)||F.isMaskedElementChild(t.host))&&F.setMaskedElementProperty(t,this.vc)}Gm(t){Qt(t,NodeFilter.SHOW_ELEMENT).visitAll(n=>{F.unsetMaskedElementProperty(n)})}y0(t){let e=t.getBoundingClientRect(),n={state:F.MaskedElementState.Parent,width:e.width,height:e.height};F.setMaskedElementProperty(t,n),this.v0(t),Qt(t).visitAll(r=>r!==t&&F.setMaskedElementProperty(r,this.vc))}Fm(t){F.setMaskedElementProperty(t,this.vc),Qt(t).visitAll(e=>e!==t&&F.setMaskedElementProperty(e,this.vc))}v0(t){var e;let n=(e=nt.getProperty(t,F.maskedAttributeProp))!==null&&e!==void 0?e:{attributes:[]};for(let r=0;r<this.Bm.length;r+=1){let a=this.Bm[r];csArray.prototype.indexOf.call(n.attributes,a)===-1&&csArray.prototype.push.call(n.attributes,a)}n.attributes.length!==0&&F.setMaskedAttributeProperty(t,n)}S0(t,e){var n;let r=(n=nt.getProperty(t,F.maskedAttributeProp))!==null&&n!==void 0?n:{attributes:[]};for(let a=0;a<t.attributes.length;a+=1){let c=t.attributes[a].name;csArray.prototype.indexOf.call(r.attributes,c)===-1&&csArray.prototype.some.call(e,h=>csString.prototype.indexOf.call(h.attrName,c)>-1&&Ft.call(t,h.selector))&&csArray.prototype.push.call(r.attributes,c)}r.attributes.length!==0&&F.setMaskedAttributeProperty(t,r)}}return Vd([G()],s.prototype,"resizeObserverCallback",null),s})(),xp=(()=>{class s{constructor(){this.ju=0,this.U=!1,this.$m="data-cs-capture",this.wi=t=>{for(let e of t){if(Se.isWhitelistedElement(e.target))for(let n=0;n<e.addedNodes.length;n+=1){let r=e.addedNodes[n];Se.isWhitelistedElement(r)||pt(r)&&this.zm(r)}for(let n=0;n<e.removedNodes.length;n+=1){let r=e.removedNodes[n];rs.isConnected(r)||this.qm(r)}}}}start(){this.ju++,!this.U&&(this.U=!0,this._0())}_0(){this.W||(this.W=new mi(e=>kt(e,n=>this.zm(n))));let t=this.Hu?`[${this.$m}], ${this.Hu}`:`[${this.$m}]`;this.W.observe(t),this.L||(this.L=new _i(this.wi,(e,n)=>n==="added"&&this.w0(e))),this.L.observe()}stop(){this.U&&(this.ju--,this.ju===0&&(this.U=!1,this.A0()))}A0(){this.W&&(this.qm(document),this.W.disconnect()),this.L&&this.L.disconnect()}setWhitelistedElementsSelector(t,e=!0){if(ii(t))this.Hu=t;else if(e)throw new ot("setCapturedElementsSelector")}getWhitelistedElementsSelector(){return this.Hu}zm(t){Qt(t).visitAll(e=>{Se.whitelistElement(e)})}w0(t){Se.isWhitelistedElement(t.host)&&Se.whitelistElement(t)}qm(t){Qt(t,NodeFilter.SHOW_ELEMENT).visitAll(n=>{Se.removeWhitelistElement(n)})}}return s})();var Vp=(()=>{let s;return function(i){function t(){let n=navigator.userAgent+navigator.language+navigator.platform,r=csString.prototype.slice.call(e(n).toString(16),-4),a=new csDate().getTime(),c="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,h=>{let d=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(h==="x"?d:d&7|8).toString(16)});return csString.prototype.replace.call(c,"hhhh",r)}i.generate=t;function e(n){let r=0;for(let a=0;a<n.length;a+=1)r=csString.prototype.charCodeAt.call(n,a)+(r<<6)+(r<<16)-r;return Math.abs(r)}}(s||(s={})),s})();var Up=(()=>{class s{constructor(t,e){this.Q=t,this.ft=e,this.Bu=!1}getRequestParameters(){return{dr:this.get()}}addUrlMaskingPattern(t){this.ft.addUrlMaskingPattern(t)}enableRemoveQueryString(){this.Bu=!0}disableRemoveQueryString(){this.Bu=!1}get(){let t=this.Bu?this.Q.removeQueryString(this.Jm()):this.Jm();return this.Q.anonymizeUrl(t,{maskingPatterns:this.ft.getUrlMaskingPatterns()})}set(t){this.Qm=t}Jm(){if(this.Qm)return this.Qm;let t="";try{t=window.top.document.referrer}catch{if(window.parent)try{t=window.parent.document.referrer}catch{t=""}}return t===""&&(t=document.referrer),typeof t!="string"&&(t=""),t}}return s})();function vo(s,i,t){if(!X(i)&&!X(t))return s.href;let e=X(i)?La(i):s.pathname,n=X(t)?xa(t):s.search;return`${s.protocol}//${s.host}${e}${n}`}function La(s){return wt(s,"/")?s:`/${s}`}function xa(s){return wt(s,"?")||s===""?s:`?${s}`}var tn=(()=>{let s;return function(i){i[i.page=1]="page",i[i.onNextPageviewOnly=2]="onNextPageviewOnly"}(s||(s={})),s})(),jp=(()=>{class s{constructor(t,e){this.Lt=t,this.Q=e,this.V0=10}overridePath(t,e){if(t===""){this.Qn=void 0;return}let n=this.Zm(e);n&&(this.Fu=n),this.Qn=e?this.ty(t,e):t}overrideQuery(t,e){let n=this.Zm(e);n&&(this.Gu=n),this.Do=e?this.ty(t,e):t}computeOverriddenUrl(t){return this.U0(t)?this.getAnonymizedUrl():t}j0(t){return(typeof t=="string"||typeof t=="number")&&t in tn}U0(t){let e=this.fa(this.Lt.href);return this.fa(t)===e}fa(t){return Rh(t,"/")?csString.prototype.slice.call(t,0,-1):t}Zm(t){return X(t==null?void 0:t.lifespan)&&this.j0(t==null?void 0:t.lifespan)?t==null?void 0:t.lifespan:null}H0(){return this.Fu&&this.Fu in tn}B0(){return this.Gu&&this.Gu in tn}cleanupOverrideLifespan(){this.H0()&&(this.Qn=void 0,this.Fu=void 0),this.B0()&&(this.Do=void 0,this.Gu=void 0)}getAnonymizedUrl(){let t=vo(this.Lt,this.Qn,this.Do);return this.Q.anonymizeUrl(t)}getUrl(){return vo(this.Lt,this.Qn,this.Do)}getAnonymizedPathAndQuery(){let t=X(this.Qn)?La(this.Qn):this.Lt.pathname,e=X(this.Do)?xa(this.Do):this.Lt.search;return this.Q.anonymizeUrl(t+e)}getUrlProtocol(){return this.Lt.protocol}getRequestParameters(){return{url:this.getAnonymizedUrl()}}ty(t,e){return this.F0(e)?this.G0(t):this.$0(e)?this.z0(t):t}$0(t){return!!t.decodeURI}z0(t){return this.ey(t,1,!1)}F0(t){return!!t.decodeURIDeep}G0(t){return this.ey(t,this.V0,!0)}ey(t,e,n){let r=t;for(let a=0;a<e;a++)try{let c=window.decodeURI(r);if(c===r)return r;r=c}catch{return r}return n&&B.warn(`decodeURIDeep limit reached: ${r}`),r}}return s})(),Hp=(()=>{class s{constructor(t,e){this.S=t,this.bs=e}init(){this.S.register(["debugEvents"],t=>{typeof t=="boolean"&&this.bs.updateDynamicFields("emitDebugEvents",t)})}}return s})();var _o=(()=>{class s{constructor(t,e,n,r,a){this.E=t,this.O=e,this.C=n,this.sy=r,this.zs=a}getRequestParameters(){var t;let e={...Fn(),...this.E.getRequestParameters()},n=this.C.getSession();n&&(e.pn=`${n.pageNumber}`);let r=this.O.getVisitor();if(r&&(e.sn=`${r.visitsCount}`,e.uu=`${r.id}`),!((t=this.sy)===null||t===void 0)&&t.hasSubProjectId()&&(e.subProjectID=`${this.sy.getSubProjectId()}`),this.q0(e),window.heap&&!this.E.isCsCrosswritingHeap())try{e.happid=window.heap.appid,window.heap.getSessionId&&(e.hsid=window.heap.getSessionId()),window.heap.getUserId?e.huu=window.heap.getUserId():window.heap.userId&&(e.huu=window.heap.userId),window.heap.getPageviewMetadata&&(e.hpvid=window.heap.getPageviewMetadata().pageviewId)}catch{delete e.happid,delete e.hsid,delete e.huu,delete e.hpvid}return e}q0(t){if(!this.zs)return;let e=this.zs.getSharedContext();e&&(t.happid=e.happid,t.t=e.pageTitle,t.fvt=csString(e.firstViewTime),t.fvurl=e.firstViewUrl,e.previousViewUrl&&(t.pvurl=e.previousViewUrl),t.url=e.currentViewUrl,e.sessionReferrer&&(t.fpvurl=e.sessionReferrer),t.sw=csString(e.screenWidth),t.sh=csString(e.screenHeight),t.cvt=csString(e.currentViewTime),e.encryptedIdentity&&(t.i=e.encryptedIdentity),e.cvarp&&(t.cvarp=e.cvarp))}}return s})();function Bp(){let s="[data-cs-mask]",i="#c1_card_info_id",t=".ctHidden",e=["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"],n=["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"];return[s,i,t,...e,...n]}function Fp(){return[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]}var Gp=(()=>{class s{constructor(){this.W0={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.$s={elementSelector:"",attrSelector:"",attrSelectors:[]};let t={PIISelectors:Bp(),Attributes:Fp()};this.$s=F.getComputedSelectorSettings(t,this.$s)}init(){this.Y0()}setMaskedElementSettingsFromCommand(t){if(t=F.sanitizeSelectorUserInput(t),!F.isSelectorUserInput(t))throw new ot(da[0]);this.$u(t)}setMaskedElementSettingsFromParent(t){let e={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.$u(e)}getMaskedElementSettings(t){return t?this.iy(this.W0):this.$s}Y0(){var t,e,n,r,a,c;let h={PIISelectors:[],Attributes:[]};((n=(e=(t=window==null?void 0:window.ClickTaleSettings)===null||t===void 0?void 0:t.DOM)===null||e===void 0?void 0:e.PII)===null||n===void 0?void 0:n.Text)instanceof Array&&h.PIISelectors.push(...window.ClickTaleSettings.DOM.PII.Text),((c=(a=(r=window==null?void 0:window.ClickTaleSettings)===null||r===void 0?void 0:r.DOM)===null||a===void 0?void 0:a.PII)===null||c===void 0?void 0:c.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach(d=>{U(d.attr)&&U(d.rule)&&h.Attributes.push({selector:d.rule,attrName:d.attr})}),this.$u(h)}$u(t){this.$s=this.iy(t)}iy(t){return F.getComputedSelectorSettings(t,this.$s)}}return s})(),$p=60*1e3,zp=30*1e3,qp=(()=>{class s{constructor(t,e){this.C=t,this.O=e,this.zu=!1,this.X0=zn(()=>this.C.refreshSession(),zp)}onSessionExpired(t){this.K0=t}isSessionValid(){return this.zu?!0:!(!this.C.hasValidSession()||this.C.pollCacheRefreshEvent()&&this.O.isSessionRenewed())}isCurrentPageviewValid(){let t=this.C.hasValidSession();return this.C.pollCacheRefreshEvent(!1)?!this.O.isSessionRenewed():t}refreshSession(){this.isSessionValid()?this.X0():this.J0()&&(this.ny=j.now(),this.renewSession(!1))}renewSession(t){this.zu=!0,this.K0(t),this.zu=!1}J0(){return!document.hidden&&(!X(this.ny)||j.now()-this.ny>$p)}}return s})(),Wp=(()=>{class s{constructor(){this.W=null,this.L=null,this.U=!1,this.wi=t=>{for(let e of t)if(xe.isEditableNode(e.target))for(let n=0;n<e.addedNodes.length;n+=1){let r=e.addedNodes[n];if(!xe.isEditableNode(r)){if(dn(r)||jl(r)){xe.markEditableNode(r);continue}pt(r)&&this.ry(r)}}}}start(){this.U||(this.U=!0,this.W=new mi(t=>kt(t,e=>{this.ry(e)})),this.W.observe("[contenteditable]"),this.L=new _i(this.wi,(t,e)=>e==="added"&&this.Q0(t)),this.L.observe())}stop(){var t,e;this.U&&(this.U=!1,(t=this.W)===null||t===void 0||t.disconnect(),this.W=null,(e=this.L)===null||e===void 0||e.disconnect(),this.L=null)}ry(t){Qt(t).visitAll(e=>{xe.markEditableNode(e)})}Q0(t){xe.isEditableNode(t.host)&&xe.markEditableNode(t)}}return s})();var Zn=(()=>{class s{constructor(){this.subscriptions={}}subscribe(t,e){this.subscriptions[t]=e,Object.keys(this.subscriptions).length===1&&this.onStartTracking()}unsubscribe(t){delete this.subscriptions[t],Object.keys(this.subscriptions).length===0&&this.onStopTracking()}}return s})(),Yp=(()=>{class s extends Zn{constructor(t){super(),this.tR=t,this.hi=[{boundElement:document,type:"touchstart",listener:e=>this.tt(e)},{boundElement:document,type:"touchmove",listener:e=>this.tt(e)},{boundElement:document,type:"touchend",listener:e=>this.tt(e)}],this.ko=new ef,this.ko.onGesture((e,n)=>this.Ch(e,n))}Ch(t,e){for(let n in this.subscriptions){let r=this.subscriptions[n];r(t,e)}}onStartTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.hi,t=>as(t))}onStopTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.hi,t=>cs(t))}canDetectGesture(){return typeof devicePixelRatio!="undefined"}tt(t){this.tR.tryToExecute("process gesture event",()=>{if(this.ko.isValidTouchEvent(t))switch(t.type){case"touchstart":this.ko.processActionDown(t);break;case"touchmove":this.ko.processActionMove();break;case"touchend":this.ko.processActionUp(t);break}})()}static isSwipe(t){return t.type===Pt.FLICK||t.type===Pt.DRAG}}return s})();var Xp=(()=>{class s{constructor(t){this.mt=t}on(t,e){return n=>{this.mt.hasValidEventTarget(n)&&this.vR(n,t)&&e(n)}}vR(t,e){let n=Ae(t);return Ft.call(n,e)}isMatchesSelectorSupported(){return!!Ft}}return s})(),Kp=(()=>{class s extends At{constructor(){super(),this.uy=0}onStart(){B.isPerfLoggingActive()&&(this.Lo=window.csSetInterval(()=>this.dy(),s._R))}onStop(){B.isPerfLoggingActive()&&(this.dy(),csClearInterval(this.Lo))}dy(){this.uy>=s.wR||V.counters.methodPerformance.flush()&&this.uy++}}return s._R=5e3,s.wR=5,s})(),Jp=(()=>{class s{constructor(){}init(){this.Ac=new Kp}onStartTracking(){this.Ac.start()}onOptout(){this.Ac.stop()}onArtificialPageViewEnd(t){t&&this.Ac.stop()}onAfterArtificialPageView(t){t&&this.Ac.start()}}return s})();var Va=(()=>{class s{constructor(){this.UR=["application/json","application/graphql","application/xml","text/plain","text/csv","text/html","text/xml","text/javascript"]}setCollectionOptions(t){this.nd=t}isValidBodyType(t){let e=t["content-type"];if(!e)return!1;let n=csString.prototype.toLocaleLowerCase.call(e);return hn(this.UR,r=>fi(n,r))}canCollect(t,e){return this.jR(t,e)&&this.HR(e)}jR(t,e){return t>=400||t>=200&&t<300&&this.nd.statusCodes.has(t)&&this.BR(e)}BR(t){return hn(this.nd.urls,e=>csString.prototype.indexOf.call(t,e)!==-1)}HR(t){return Tl(this.nd.excludedDomains,e=>csString.prototype.indexOf.call(t,e)===-1)}}return s})(),Qp=(()=>{class s extends Va{constructor(){super(),this.U=!1,this.ir=null,this.FR=({result:t,args:e,callerName:n})=>{this.interceptFetch(t,e,n)}}onEvent(t){this.V=t}start(){this.U||this.GR()&&(this.$R(),this.ir&&this.ir.activate(),this.U=!0)}stop(){this.U&&(this.ir&&this.ir.deactivate(),this.U=!1)}GR(){return!!window.fetch&&typeof window.fetch=="function"}zR(t){if(t[0]&&typeof t[0].clone=="function"){let e=li(t);return e[0]=t[0].clone(),e}return t}$R(){this.ir||(this.ir=_s({target:window,methodName:"fetch",hook:this.FR,hookPrepareArgs:this.zR,options:{withCallerName:!0}}))}async interceptFetch(t,e,n){let r=e[0],a=e[1],c=new Request(r,a);if(!U(c.url))return;let h=j.now(),d;try{d=await t}catch(E){if(this.qR(E)||this._y(E)||this.WR(E)||this.YR(E))return;throw E}let[g,m]=csString.prototype.split.call(c.url,"?"),y=Qo(g);if(d&&super.canCollect(d.status,y)){let E={library:n,method:c.method,url:y,queryParameters:m,requestTime:h,responseTime:j.now(),statusCode:d.status,requestBody:"",responseBody:"",requestHeaders:this.wy(c.headers),responseHeaders:this.wy(d.headers)};if(!d.bodyUsed&&super.isValidBodyType(E.responseHeaders))try{E.responseBody=await d.clone().text()}catch(C){if(this._y(C))return}super.isValidBodyType(E.requestHeaders)&&(E.requestBody=await c.text()),this.V(E)}}qR(t){return t instanceof TypeError}_y(t){return t instanceof DOMException&&t.name==="AbortError"}YR(t){return t instanceof DOMException&&t.name==="TimeoutError"}WR(t){return t instanceof DOMException&&csArray.prototype.some.call(s.XR,e=>e===t.name)}wy(t){let e={};return t.forEach((n,r)=>{n&&(e[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(n))}),e}}return s.XR=["NoModificationAllowedError","InvalidStateError","OperationError"],$([G("FetchRequestTracker.interceptFetch")],s.prototype,"interceptFetch",null),s})(),Zp=0,tg=(()=>{class s extends Va{constructor(){super(),this.ee=csSymbol("ApiCall"),this.U=!1,this.nr=null,this.rr=null,this.Rc=null,this.KR=({context:t,args:e,callerName:n})=>this.interceptOpen(t,e,n),this.JR=({context:t,args:e})=>this.interceptSetRequestHeader(t,e),this.QR=({context:t,args:e})=>this.interceptSend(t,e)}onEvent(t){this.V=t}start(){this.U||(this.bu(),this.nr&&this.nr.activate(),this.rr&&this.rr.activate(),this.Rc&&this.Rc.activate(),this.U=!0)}stop(){this.U&&(this.nr&&this.nr.deactivate(),this.rr&&this.rr.deactivate(),this.U=!1)}bu(){this.nr||(this.nr=_s({target:XMLHttpRequest.prototype,methodName:"open",hook:this.KR,options:{withCallerName:!0}})),this.rr||(this.rr=_s({target:XMLHttpRequest.prototype,methodName:"setRequestHeader",hook:this.JR})),this.Rc||(this.Rc=_s({target:XMLHttpRequest.prototype,methodName:"send",hook:this.QR}))}interceptOpen(t,e,n){if(!e[1]||!U(e[1]))return;let[r,a]=csString.prototype.split.call(e[1],"?");t[this.ee]={library:n,requestTime:j.now(),method:e[0],url:Qo(r),queryParameters:a,statusCode:Zp,responseHeaders:{},requestHeaders:{},responseBody:"",requestBody:""},t.addEventListener("readystatechange",()=>this.readyStateChangeListener(t))}readyStateChangeListener(t){t[this.ee]&&t.readyState===XMLHttpRequest.DONE&&this.canCollect(t.status,t[this.ee].url)&&(t[this.ee].responseTime=j.now(),t[this.ee].statusCode=t.status,t[this.ee].responseHeaders=this.ZR(t.getAllResponseHeaders()),super.isValidBodyType(t[this.ee].responseHeaders)&&(t.responseType===""||t.responseType==="text")&&(t[this.ee].responseBody=t.responseText),this.V(t[this.ee]))}interceptSetRequestHeader(t,e){if(!t[this.ee])return;let n=e[0],r=csString.prototype.valueOf.call(new csString(e[1]));typeof n!="string"||r.length===0||(n=csString.prototype.toLowerCase.call(csString.prototype.trim.call(n)),r=csString.prototype.trim.call(r),t[this.ee].requestHeaders[n]?t[this.ee].requestHeaders[n]+=`, ${r}`:t[this.ee].requestHeaders[n]=r)}interceptSend(t,e){t[this.ee]&&super.isValidBodyType(t[this.ee].requestHeaders)&&typeof e[0]=="string"&&(t[this.ee].requestBody=e[0])}ZR(t){let e={};return csArray.prototype.forEach.call(csString.prototype.split.call(t,/[\r\n]+/),n=>{let[r,a]=csString.prototype.split.call(n,/:\s*/);a&&(e[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(a))}),e}}return $([G("XhrRequestTracker.interceptOpen")],s.prototype,"interceptOpen",null),$([G("XhrRequestTracker.readyStateChangeListener")],s.prototype,"readyStateChangeListener",null),$([G("XhrRequestTracker.interceptSetRequestHeader")],s.prototype,"interceptSetRequestHeader",null),$([G("XhrRequestTracker.interceptSend")],s.prototype,"interceptSend",null),s})(),eg=["startDataCollection","data-collection:start"],sg=["data-collection:stop"],ig=(()=>{class s{constructor(t,e){this.rs=t,this.S=e}init(){this.S.register(eg,()=>{this.rs.startDataCollection()}),this.S.register(sg,()=>{this.rs.stopDataCollection()})}}return s})(),en={fromSessionRenewal:!1,isRenewedVisitor:!1},ng=(()=>{class s{constructor(t,e,n,r,a,c){this.E=t,this.w=e,this.ls=n,this.lt=r,this.rn=a,this.G=c,this.Ay=!1,this.Ty=0,this.rd=!0,this.by=!1,this.qs=!1,this.startDataCollection=({fromSessionRenewal:h,onAfterDataCollectionStartedCallback:d}=en)=>{h&&this.qs||!this.Ay?this.tC(h,d):this.eC()}}isDataCollectionStarted(){return this.qs}tryStartAutomaticDataCollection({fromSessionRenewal:t,isRenewedVisitor:e,onAfterDataCollectionStartedCallback:n}=en){this.sC(t,e)&&this.startDataCollection({fromSessionRenewal:t,onAfterDataCollectionStartedCallback:n})}disableStartDataCollection(){this.rd=!1}allowStartDataCollection({fromSessionRenewal:t}=en){this.rd=!0,this.by&&this.startDataCollection({fromSessionRenewal:t})}stopDataCollection(){this.qs&&(this.qs=!1,this.w.emitArtificialPageViewEnd(!0),this.rn.stop())}eC(){this.qs||(this.qs=!0,this.G.isSessionValid()?(this.G.refreshSession(),this.rn.start(je.Artificial)):this.G.renewSession(!1))}sC(t,e){return e&&!this.qs?!1:t?!0:this.E.startMode===di.Manual?!1:!vn(this.E)&&!this.E.isHeapSideloadsStartDataCollection()&&!this.E.isCsSideloadingHeap()}tC(t,e){if(this.ls.isActive()||(this.by=!0,this.iC()&&(this.Ty++,this.Ty<2))||!this.rd||this.qs&&!t)return;this.Ay=!0,this.qs=!0,this.lt.init();let n=t?je.Renewal:je.Natural;this.rn.start(n);let r=()=>{this.w.emitStartTracking(t),typeof e=="function"&&e()};rs.onDocumentLoaded(r)}iC(){return vn(this.E)&&this.E.isCsSideloadingHeap()}}return s})(),rg=(()=>{class s{constructor(t){this.od=t}buildApiErrors(t,e){let n=this.od.collectDataPoints(t,e);if(n===null)return null;let r=this.nC(t,n);if(e){let a=this.rC(t,n);return{apiError:r,detailedApiError:a}}return{apiError:r}}rC(t,e){let n=this.Ry(t);return e.collectQueryParam&&t.queryParameters&&(n.queryParameters=t.queryParameters),e.collectRequestBody&&t.requestBody&&(n.requestBody=t.requestBody),e.collectResponseBody&&t.responseBody&&(n.responseBody=t.responseBody),Object.keys(e.standardRequestHeaders).length>0&&(n.standardRequestHeaders=e.standardRequestHeaders),Object.keys(e.standardResponseHeaders).length>0&&(n.standardResponseHeaders=e.standardResponseHeaders),Object.keys(e.customRequestHeaders).length>0&&(n.customRequestHeaders=csJSON.stringify(e.customRequestHeaders)),Object.keys(e.customResponseHeaders).length>0&&(n.customResponseHeaders=csJSON.stringify(e.customResponseHeaders)),Object.keys(e.plainCustomRequestHeaders).length>0&&(n.plainCustomRequestHeaders=e.plainCustomRequestHeaders),Object.keys(e.plainCustomResponseHeaders).length>0&&(n.plainCustomResponseHeaders=e.plainCustomResponseHeaders),e.plainResponseBodyAttributes&&Object.keys(e.plainResponseBodyAttributes).length>0&&(n.plainResponseBodyAttributes=e.plainResponseBodyAttributes),e.plainRequestBodyAttributes&&Object.keys(e.plainRequestBodyAttributes).length>0&&(n.plainRequestBodyAttributes=e.plainRequestBodyAttributes),Object.keys(e.responseBodyAttributes).length>0&&(n.responseBodyAttributes=csJSON.stringify(e.responseBodyAttributes)),Object.keys(e.requestBodyAttributes).length>0&&(n.requestBodyAttributes=csJSON.stringify(e.requestBodyAttributes)),n}Ry(t){return{errorType:"apiError",url:t.url,method:t.method,requestTime:t.requestTime,responseTime:t.responseTime,statusCode:t.statusCode,library:t.library}}nC(t,e){let n=this.Ry(t);return e.matchingBodyContents.length>0&&(n.matchingBodyContents=e.matchingBodyContents),Object.keys(e.plainResponseBodyAttributes).length>0&&(n.plainBodyResponseAttributes=e.plainResponseBodyAttributes),n}}return s})(),og=(()=>{class s extends Zn{constructor(t,e,n){super(),this.Cc=t,this.Ic=e,this.od=n,this.ad=0,this.oC=new rg(n)}subscribe(t,e,n){n!=null&&n.detailedEvent&&(Object.defineProperty(e,"detailedEvent",{value:n.detailedEvent}),this.ad++),super.subscribe(t,e)}unsubscribe(t){var e;!((e=this.subscriptions[t])===null||e===void 0)&&e.hasOwnProperty("detailedEvent")&&this.ad--,super.unsubscribe(t)}init(){let t=this.od.computeApiErrorCollectionOptions();this.Cc.setCollectionOptions(t),this.Cc.onEvent(e=>this.Cy(e)),this.Ic.setCollectionOptions(t),this.Ic.onEvent(e=>this.Cy(e))}onStartTracking(){this.Cc.start(),this.Ic.start()}onStopTracking(){this.Cc.stop(),this.Ic.stop()}Cy(t){let e=this.oC.buildApiErrors(t,this.ad!==0);if(e)for(let n in this.subscriptions){let r=this.subscriptions[n];r.hasOwnProperty("detailedEvent")?e.detailedApiError&&r(e.detailedApiError):r(e.apiError)}}}return s})(),ag=(()=>{class s{constructor(t,e,n=!1){this.ft=t,this.Q=e,this.wr=n}addUrlMaskingPattern(t){this.ft.addUrlMaskingPattern(t)}anonymize(t){let e=this.Q.removeQueryString(t.url),n={maskingPatterns:this.ft.getUrlMaskingPatterns(),partialMaskingPatterns:this.ft.getPartialUrlMaskingPatterns(),maskNames:this.wr};return{...t,url:this.Q.anonymizeUrl(e,n),library:t.library?this.Q.anonymizeUrl(t.library,n):void 0}}}return s})(),cg=(()=>{class s{constructor(){this.aC=64e3,this.cC=5e3,this.lC=2e3,this.Iy=8e3,this.Ds=!!self.TextEncoder,this.Ds&&(this.hC=new TextEncoder)}Uo(t){return this.hC.encode(t).byteLength}Py(t,e,n){let r=0;t[e]&&(r+=this.Uo(t[e]),r>this.Iy&&(r=0,t[e]=J.ELLIPSIS)),t[n]&&(r+=this.Uo(csJSON.stringify(t[n])),r>this.Iy&&(t[n]=s.truncatedObjectMarker))}uC(t){t.queryParameters&&this.Uo(t.queryParameters)>this.lC&&(t.queryParameters=J.ELLIPSIS)}dC(t){t.requestBody&&this.Uo(t.requestBody)>this.aC&&(t.requestBody=J.ELLIPSIS),t.responseBody&&this.Uo(t.responseBody)>this.cC&&(t.responseBody=J.ELLIPSIS)}truncate(t){this.Ds?(this.uC(t),this.dC(t),this.Py(t,"customResponseHeaders","plainCustomResponseHeaders"),this.Py(t,"customRequestHeaders","plainCustomRequestHeaders")):(t.queryParameters="",t.requestBody="",t.responseBody="",t.customResponseHeaders="",t.customRequestHeaders="",t.plainCustomResponseHeaders={},t.plainCustomRequestHeaders={})}}return s.truncatedObjectMarker={[J.ELLIPSIS]:J.ELLIPSIS},s})(),lg=(()=>{let s;return function(i){function t(r){let a="[",c="]",h=[];for(let d=0;d<r.length;++d)if(r[d]===a)csArray.prototype.push.call(h,r[d]);else if(r[d]===c)if(csString.prototype.indexOf.call(r,a)>-1)csArray.prototype.pop.call(h);else return!1;return h.length===0}function e(r){if(!r)return!0;if(!t(r))return!1;let a=csString.prototype.split.call(r,/[\[\]]/);return csArray.prototype.every.call(a,c=>{let h=c[0],d=c[c.length-1];if((h==="'"||h==='"')&&h!==d)return!1;let g=csString.prototype.split.call(c,".");return g[0].length===0&&csArray.prototype.shift.call(g),csArray.prototype.every.call(g,m=>{let y=/^\-?\d+$/.exec(m);return y?parseInt(y[0],10)>=0:m==="$"||/\w+/.test(m)})})}i.isValidJSONPath=e;function n(r,a){if(!r)return;let c=csString.prototype.split.call(r,/[\$\[\]]/),h=[];csArray.prototype.forEach.call(c,g=>{if(g[0]==="'"||g[0]==='"'){csArray.prototype.push.call(h,csString.prototype.substring.call(g,1,g.length-1));return}csArray.prototype.push.call(h,...csArray.prototype.filter.call(csString.prototype.split.call(g,"."),m=>m.length>0))}),h[0]==="$"&&csArray.prototype.shift.call(h);let d=a;for(let g of h)if(d[g]!==void 0)d=d[g];else return;return d}i.getJSONPathValue=n}(s||(s={})),s})(),hg=(()=>{class s{constructor(){this.fC=new Set(["age","cache-control","clear-site-data","expires","pragma","warning","downlink","ect","rtt","last-modified","connection","keep-alive","accept","accept-encoding","accept-language","expect","access-control-allow-origin","access-control-allow-credentials","access-control-allow-headers","access-control-allow-methods","access-control-expose-headers","access-control-max-age","access-control-request-headers","access-control-request-method","origin","timing-allow-origin","content-length","content-type","content-encoding","content-language","via","host","referrer-policy","user-agent","allow","server","accept-ranges","range","if-range","content-range","cross-origin-embedder-policy","cross-origin-opener-policy","cross-origin-resource-policy","content-security-policy","content-security-policy-report-only","expect-ct","feature-policy","strict-transport-security","upgrade-insecure-requests","x-content-type-options","x-download-options","x-frame-options","x-permitted-cross-domain-policies","x-powered-by","x-xss-protection","sec-fetch-site","sec-fetch-mode","sec-fetch-user","sec-fetch-dest"])}isValidStandardHeader(t){return this.fC.has(t)}}return s})(),ug=(()=>{class s{constructor(){this.pC=64e3,this.gC=100,this.nt={collectQueryParam:!1,collectRequestBody:!1,collectResponseBody:!1,matchingBodyContents:[],plainResponseBodyAttributes:{},plainRequestBodyAttributes:{},requestBodyAttributes:{},responseBodyAttributes:{},standardRequestHeaders:{},standardResponseHeaders:{},customRequestHeaders:{},customResponseHeaders:{},plainCustomRequestHeaders:{},plainCustomResponseHeaders:{}},this.Oy=new hg}mC(t){return t.length<=this.pC}yC(t){let e=t["content-type"];return e!==void 0&&(wt(e,"application/json")||wt(e,"application/graphql"))}EC(t,e){return t&&this.mC(t)&&this.yC(e)}Pc(t,e,n,r){let a=r==="request"?this.SC:this.vC;if(a!==void 0||this.EC(e,n)){if(a===void 0)try{a=csJSON.parse(e),r==="request"?this.SC=a:this.vC=a}catch{return}let c=lg.getJSONPathValue(t,a);if(c!==void 0&&(c===null||!Fe(c))){let h=U(c)?c:csJSON.stringify(c);return J.truncate(h,this.gC,J.ELLIPSIS)}}}isBodyAttributeValueFound(t,e){let n,r;return(e.type==="request-response"||e.type==="response")&&(n=this.Pc(e.path,t.responseBody,t.responseHeaders,"response")),(e.type==="request-response"||e.type==="request")&&(r=this.Pc(e.path,t.requestBody,t.requestHeaders,"request")),X(n)||X(r)}collectBodyAttribute(t,e,n){let r;(e.type==="request-response"||e.type==="response")&&(r=this.Pc(e.path,t.responseBody,t.responseHeaders,"response"),r&&(e.encrypted?this.nt.responseBodyAttributes[e.path]=r:(r=n(r),this.nt.plainResponseBodyAttributes[e.path]=r))),(e.type==="request-response"||e.type==="request")&&(r=this.Pc(e.path,t.requestBody,t.requestHeaders,"request"),r&&(e.encrypted?r&&(this.nt.requestBodyAttributes[e.path]=r):(r=n(r),this.nt.plainRequestBodyAttributes[e.path]=r)))}isBodyContentMatching(t,e){return t.responseBody?!!new csRegExp(e,"i").test(t.responseBody):!1}collectBodyContent(t){csArray.prototype.indexOf.call(this.nt.matchingBodyContents,t)===-1&&csArray.prototype.push.call(this.nt.matchingBodyContents,t)}collectCustomHeaders(t,e,n){let r=csString.prototype.toLocaleLowerCase.call(e.headerName);t.responseHeaders[r]&&(e.type==="request-response"||e.type==="response")&&(e.encrypted?this.nt.customResponseHeaders[r]=t.responseHeaders[r]:this.nt.plainCustomResponseHeaders[r]=n(t.responseHeaders[r])),t.requestHeaders[r]&&(e.type==="request-response"||e.type==="request")&&(e.encrypted?this.nt.customRequestHeaders[r]=t.requestHeaders[r]:this.nt.plainCustomRequestHeaders[r]=n(t.requestHeaders[r]))}collectStandardHeaders(t){if(!(Object.keys(this.nt.standardRequestHeaders).length>0||Object.keys(this.nt.standardResponseHeaders).length>0)){for(let[e,n]of Object.entries(t.requestHeaders))this.Oy.isValidStandardHeader(e)&&(this.nt.standardRequestHeaders[e]=n);for(let[e,n]of Object.entries(t.responseHeaders))this.Oy.isValidStandardHeader(e)&&(this.nt.standardResponseHeaders[e]=n)}}setCollectQueryParam(t){t&&(this.nt.collectQueryParam=!0)}setCollectResponseBody(t){t&&(this.nt.collectResponseBody=!0)}setCollectRequestBody(t){t&&(this.nt.collectRequestBody=!0)}getCollectedDataPoints(){return this.nt}}return s})(),ys=(()=>{let s;return function(i){i.CONTENTSQUARE="contentsquare.net",i.CLICKTALE="clicktale.net",i.FAKE_TRACKER="fake-tracker.content-square.fr",i.HEAP_API="heap-api.com",i.HEAP_ANALYTICS="heapanalytics.com"}(s||(s={})),s})(),dg=(()=>{class s{constructor(t,e){this.Oc=t,this.N=e}collectDataPoints(t,e){this.nt=new ug;let n=!1;if(this.Oc.collectionRules)for(let r of this.Oc.collectionRules)this._C(r,t)&&this.wC(r,t)&&this.AC(r,t)&&(n=!0,this.TC(t,r,e));return n||(n=this.bC(t)),n&&e&&this.Oc.collectStandardHeaders&&this.nt.collectStandardHeaders(t),n?this.nt.getCollectedDataPoints():null}computeApiErrorCollectionOptions(){let t=this.Oc.collectionRules||[],e=new Set,n=[];for(let a of t)a.statusCode!==void 0&&e.add(a.statusCode),a.url!==void 0&&csArray.prototype.indexOf.call(n,a.url)===-1&&csArray.prototype.push.call(n,a.url);let r=[ys.CONTENTSQUARE,ys.CLICKTALE,ys.HEAP_API,ys.HEAP_ANALYTICS];return csArray.prototype.push.call(r,ys.FAKE_TRACKER),{statusCodes:e,urls:n,excludedDomains:r}}_C(t,e){return(!t.statusCode&&e.statusCode>=400||t.statusCode!==void 0&&t.statusCode===e.statusCode)&&(!t.url||csString.prototype.indexOf.call(e.url,t.url)!==-1)}wC(t,e){return t.bodyContent?this.nt.isBodyContentMatching(e,t.bodyContent):!0}AC(t,e){let n=csArray.prototype.find.call(t.bodyAttributePaths,r=>r.primary);return n===void 0?!0:this.nt.isBodyAttributeValueFound(e,n)}bC(t){return t.statusCode>=400}TC(t,e,n){e.bodyContent&&this.nt.collectBodyContent(e.bodyContent);let r=Al(e.bodyAttributePaths,a=>a.primary===1);if(r&&this.nt.collectBodyAttribute(t,r,a=>this.N.anonymizePII(a)),n){this.nt.setCollectQueryParam(e.collectQueryParam),this.nt.setCollectResponseBody(e.collectResponseBody),this.nt.setCollectRequestBody(e.collectRequestBody);for(let c of e.customHeaders)this.nt.collectCustomHeaders(t,c,h=>this.N.anonymizePII(h));let a=Do(e.bodyAttributePaths,c=>!c.primary);for(let c of a)this.nt.collectBodyAttribute(t,c,h=>this.N.anonymizePII(h))}}}return s})(),fg=(()=>{let s;return function(i){function a(d,g,m=!1){let E={message:J.truncate(d,300,J.ELLIPSIS),errorType:"customError"};return(m||h(g))&&(c(g),E.attributes=g),E}i.buildCustomErrorEvent=a;function c(d){for(let g in d){let m=d[g];if(typeof m=="string"&&m.length>30&&(m=J.truncate(m,30,J.ELLIPSIS),d[g]=m),g.length>30){let y=J.truncate(g,30,J.ELLIPSIS);delete d[g],d[y]=m}}}function h(d){let g=Object.keys(d).length;return g>0&&g<=5}}(s||(s={})),s})();var pg=20,gg=(()=>{class s extends At{constructor(t,e,n,r,a){super(),this.cd=t,this.wt=e,this.an=n,this.J=r,this.Ws=a,this.Nc=[],this.Ui=0,this.cn=[]}initStates(){var t;this.Pu(),this.ys=j.now(),this.Nc=[],this.Ui=0,(t=this.Ws)===null||t===void 0||t.onEvent(e=>this.tt(e))}trackCustomError(t,e={}){if(!(U(t)&&Fe(e)&&Et(e)))throw new ot(Yn[0]);let n=fg.buildCustomErrorEvent(t,e);this.jo(n)}onIframeCustomError(t){this.tt(t)}onStart(){var t;this.ld(),(t=this.Ws)===null||t===void 0||t.start()}onStop(){var t;(t=this.Ws)===null||t===void 0||t.stop()}ld(){this.isStarted&&(csArray.prototype.forEach.call(this.cn,t=>this.jo(t)),this.cn=[])}jo(t){if(this.isStarted){let e=this.tt(t);e&&this.J.emitCustomErrorEvent(e)}else csArray.prototype.push.call(this.cn,t)}tt(t){if(this.isStarted&&this.Ui<pg){let e=this.CC(t);return csArray.prototype.push.call(this.Nc,e),this.To(),e}return null}CC(t){let e={...t,rt:this.Ji()};return e.message=this.an.anonymize(t.message),e}Pu(){this.cd.removeQueryParams(),this.cd.setQueryParams(this.wt.getRequestParameters())}Ji(){return j.now()-this.ys}To(){this.cd.send({errors:this.Nc}),this.Nc=[],this.Ui+=1}}return s})(),mg="custom-errors",yg=(()=>{class s{constructor(t,e,n,r,a,c,h,d){this.an=t,this.E=e,this.wt=n,this.S=r,this.Ei=a,this.Zt=c,this.gt=h,this.Ws=d}init(){let t=this.Zt.create(`${this.E.getTrackerUri()}/${mg}`);this.Ys=new gg(t,this.wt,this.an,this.Ei,this.Ws),this.gt.addListener(this.Ys),this.ut()}ut(){this.S.register(Yn,(t,e)=>{this.Ys.trackCustomError(t,e)})}onStartTracking(){this.Ys.start()}onAfterNaturalPageView(){this.Ys.initStates()}onArtificialPageViewEnd(t){t&&this.Ys.stop()}onAfterArtificialPageView(t){this.Ys.initStates(),t&&this.Ys.start()}onBeforeSessionRenewal(){this.Ys.stop()}onOptout(){this.Ys.stop()}}return s})(),Eg=/(\b["']?key["']?\s*[=:]\s*["'](?:first|last|user|profile|primary|primary[ _-]?last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["']|â€¦$)|(\b["']?(?:first|last|user|profile|primary|primary[ _-]?last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["']|â€¦$)/gi,Sg="$1$4CS_ANONYMIZED_NAME$3$6",vg=/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g,_g="CS_ANONYMIZED_PHONE",wg=(()=>{class s{constructor(t,e){this.N=t,this.Q=e}anonymize(t){return this.Q?csArray.prototype.join.call(csArray.prototype.map.call(gh(t),({content:e,isUrl:n})=>{var r;return n?(r=this.Q)===null||r===void 0?void 0:r.anonymizeUrl(e,{maskNames:!0}):this.Ny(e)}),""):this.Ny(t)}Ny(t){t=this.N.anonymizePII(t);let e=t;t=this.wr(t),t!==e&&(V.counters.redactedPII.count("name"),V.counters.redactedPII.count("name-in-custom-error"));let n=t;return t=this.IC(t),t!==n&&(V.counters.redactedPII.count("phone"),V.counters.redactedPII.count("phone-in-custom-error")),t}wr(t){return csString.prototype.replace.call(t,Eg,Sg)}IC(t){return csString.prototype.replace.call(t,vg,_g)}}return s})(),Ag=20,Tg="Custom Error:",bg="https://cserror.com/texterror.js",Rg=(()=>{class s extends At{constructor(t,e,n,r,a,c){super(),this.Xs=t,this.ud=e,this.wt=n,this.Ne=r,this.Ei=a,this.R=c,this.Mc=[],this.ji=0,this.cn=[]}initStates(){this.ys=j.now(),this.ud.removeQueryParams(),this.ud.setQueryParams(this.wt.getRequestParameters()),this.Mc=[],this.ji=0}onStart(){this.Xs.subscribe(s.jt,t=>this.tt(t)),this.ld()}onStop(){this.Xs.unsubscribe(s.jt)}onIframeJavascriptError(t){this.tt(t)}trackCustomError(t){let e={errorType:"jsError",message:`${Tg} ${t}`,lineno:1,colno:1,filename:bg};this.jo(e)}jo(t){if(this.isStarted){let e=this.tt(t);e&&this.Ei.emitCustomJavaScriptErrorEvent(e)}else csArray.prototype.push.call(this.cn,t)}ld(){this.isStarted&&(csArray.prototype.forEach.call(this.cn,t=>this.jo(t)),this.cn=[])}tt(t){if(this.isStarted&&this.ji<Ag){let e={...t,pageUrl:this.R.getAnonymizedUrl(),rt:this.Ji()};return this.Ne.anonymize(e),csArray.prototype.push.call(this.Mc,e),this.To(),e}return null}Ji(){return j.now()-this.ys}To(){this.ud.send({errors:this.Mc}),this.Mc=[],this.ji+=1}}return s.jt="JavaScriptErrorsService",s})(),Cg="errors",Ig=(()=>{class s{constructor(t,e,n,r,a,c,h,d,g){this.Xs=t,this.Ne=e,this.E=n,this.wt=r,this.gt=a,this.S=c,this.Ei=h,this.R=d,this.Zt=g}init(){let t=this.Zt.create(`${this.E.getTrackerUri()}/${Cg}`);this.Ks=new Rg(this.Xs,t,this.wt,this.Ne,this.Ei,this.R),this.gt.addListener(this.Ks),this.ut()}ut(){this.E.jsCustomErrorsEnabled&&!this.E.customErrors.enabled&&this.S.register(Yn,t=>{this.Ks.trackCustomError(t)})}onStartTracking(){this.Ks.start()}onAfterNaturalPageView(){this.Ks.initStates()}onArtificialPageViewEnd(t){t&&this.Ks.stop()}onAfterArtificialPageView(t){this.Ks.initStates(),t&&this.Ks.start()}onBeforeSessionRenewal(){this.Ks.stop()}onOptout(){this.Ks.stop()}}return s})(),Pg=(()=>{class s extends Zn{constructor(){super(),this.z=new sf(t=>this.errorListener(t))}onStartTracking(){this.z.observe()}onStopTracking(){this.z.disconnect()}errorListener(t){let e=this.PC(t);for(let n in this.subscriptions){let r=this.subscriptions[n];r(e)}}OC(t){return t=t!=null?t:"[NO ERROR MESSAGE]",J.truncate(t,s.Ih,J.ELLIPSIS)}NC(t){return!t||ph(t)?"":J.truncate(t,s.Ph,J.ELLIPSIS)}PC(t){return{errorType:"jsError",message:this.OC(t.message),filename:this.NC(t.filename),lineno:t.lineno,colno:t.colno}}}return s.Ih=1024,s.Ph=150,$([G("Event handler type: error")],s.prototype,"errorListener",null),s})(),Og="CS_ANONYMIZED_VALUE",Ng=(()=>{class s{constructor(t,e){this.N=t,this.R=e}anonymize(t){return U(t.message)&&(t.message=this.MC(t.message),t.message=this.N.anonymizePII(t.message)),U(t.filename)&&(t.filename=this.R.computeOverriddenUrl(t.filename)),t}MC(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,`value='${Og}'`)}}return s})();var Mg=(()=>{class s{constructor(t){this.S=t}init(){this.Gy(s.dI,Jo),this.Gy(s.fI,Ko)}Gy(t,e){this.S.register([t],(n,r)=>{!U(n)||!(U(r)||te(r))||B.error(r,`${e}${n}`)})}}return s.fI="logSnippetError",s.dI="logImplementationSnippetError",s})();var Dg=(()=>{class s{constructor(t,e){this.Gt=t,this.E=e,this.$y=!1}enableRecordingContext(t,e,n){this.$y=!0,this.Wn=t,this.C=e,this.oo=n}getRecordingContext(){var t,e,n;if(!this.$y)return{isRecording:!1,recordingStartTimestamp:0,etrState:Ht.ETR_OFF,etrStatus:oa.ETR_DISABLED,collectState:R.ANALYTICS_ONLY};let r=this.C.getSession();return{isRecording:this.Wn.isRecording(),useAnonymization:this.Gt.getSensitiveStatus().useAnonymization,enableOnlineResources:(t=this.Wn.getStaticResourceManagerStatus())===null||t===void 0?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:(e=this.Wn.getStaticResourceManagerStatus())===null||e===void 0?void 0:e.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.Wn.getRecordingStartTimestamp(),10),etrState:this.E.malkaEtrEnabled?Ht.ETR_ON:Ht.ETR_OFF,etrStatus:this.oo.getEtrStatus(r),collectState:(n=r==null?void 0:r.collectState)!==null&&n!==void 0?n:R.ANALYTICS_ONLY}}}return s})(),Ei=(()=>{class s{static isRecordingSupported(){return"MutationObserver"in window&&"visibilityState"in document}static isAsyncSerializationSupported(){return"Promise"in window&&"findIndex"in csArray.prototype}}return s})();var kg=(()=>{class s extends At{constructor(t,e,n,r,a,c){super(),this.Ee=t,this.lt=e,this.qt=n,this.An=r,this.ur=a,this.it=c}onStart(){var t,e,n;this.qt.start(),this.Ee.setMaskedElementSettings(this.lt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements())),this.Ee.startIdentifier(),(e=this.An)===null||e===void 0||e.start(),(n=this.ur)===null||n===void 0||n.start()}onStop(){var t,e;this.qt.stop(),this.Ee.stopIdentifier(),(t=this.An)===null||t===void 0||t.stop(),(e=this.ur)===null||e===void 0||e.stop()}}return s})(),Lg=(()=>{class s{constructor(t,e,n,r,a,c){this.it=t,this.lt=e,this.ie=n,this.qt=r,this.Or=a,this.ht=c,this.Nr=Wo(this.Or)}getSensitiveStatus(){var t,e;return{started:this.ie.isStarted,useAnonymization:this.it.shouldUseAnonymization(),capturedElementSelector:this.qt.getWhitelistedElementsSelector(),maskedElementSettings:this.lt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:(e=this.ht)===null||e===void 0?void 0:e.getEncryptionSelectors()}}getElementSensitiveStatus(t){let e=this.ie.isStarted,n=this.it.shouldUseAnonymization();return e?F.isMaskedElement(t)||F.isMaskedElementChild(t)?bt.MASKED:Xd.shouldEncrypt(t)?bt.ENCRYPTED:xe.isEditableNode(t)?bt.ANONYMIZED:n?Se.isWhitelistedElement(t)?bt.CAPTURED:bt.ANONYMIZED:bt.CAPTURED:bt.ANONYMIZED}getAttributeSensitiveStatus(t,e){if(!this.ie.isStarted)return bt.ANONYMIZED;let n=this.it.shouldUseAnonymization();return F.isMaskedAttribute(t,e)?bt.MASKED:n?Uo(t)||Se.isWhitelistedElement(t)||this.Nr.has(e)?bt.CAPTURED:bt.ANONYMIZED:bt.CAPTURED}}return s})(),xg=(()=>{class s{constructor(t){this.G=t}onAfterVisitorRenewal(){this.G.renewSession(!0)}}return s})(),Vg=(()=>{let s;return function(i){i.URL="url"}(s||(s={})),s})(),wo=(()=>{let s;return function(i){function t(m,y){for(let E of m)if(n(E,y))return!0;return!1}i.isUrlMatching=t;function e(m,y){if(U(y)){for(let E of m)if(n(E,y))return!0}else if(ri(y)){for(let E of m)if(n(E,csString(y)))return!0}return!1}i.isMatching=e;function n(m,y){let E=r(m,y);return m.negate?!E:E}function r(m,y){switch(m.rule_type==="date"&&(m.match_operation==="less_than"||m.match_operation==="greater_than")&&(y=(new csDate(y).valueOf()/1e3).toFixed(0)),m.match_operation){case"exact":switch(m.rule_type){case"string":return U(m.pattern)?csString.prototype.toLowerCase.call(y)===csString.prototype.toLowerCase.call(m.pattern):!1;case"boolean":return y===m.pattern||y===csString(m.pattern);case"number":return Et(y)?Number(y)===Number(m.pattern):!1;default:return y===m.pattern}case"starts_with":return U(m.pattern)?csString.prototype.indexOf.call(y,m.pattern)===0:!1;case"ends_with":return U(m.pattern)?Mn(y,m.pattern):!1;case"contains":return U(m.pattern)?csString.prototype.indexOf.call(y,m.pattern)!==-1:!1;case"regex":if(!U(m.pattern))return!1;try{return new csRegExp(m.pattern).test(y)}catch(E){return B.warn(`targeting.matchOperation.regex invalid ${E==null?void 0:E.message}`),!1}case"simple":return U(m.pattern)?g(y)===g(m.pattern):!1;case"greater_than":return Number(y)>Number(m.pattern);case"less_than":return Number(y)<Number(m.pattern);case"exact_date":{let E=Number(m.pattern);if(!Ot(E))return!1;let C=new csDate(E*1e3);return new csDate(y).toDateString()===C.toDateString()}case"exact_days_ago":return a(m,y);case"more_than_days_ago":return c(m,y);case"less_than_days_ago":return h(m,y);case"unknown":return d(y);default:return B.warn(`targeting.matchOperation.regex not managed operation ${m.match_operation}`),!1}}function a(m,y){let E=new csDate,C=E.setDate(E.getDate()-Number(m.pattern)),k=new csDate(C);return new csDate(y).toDateString()===k.toDateString()}function c(m,y){let E=Number(m.pattern);if(!Ot(E))return!1;let C=Number(E)+1,k=new csDate,x=new csDate(k);return x.setDate(k.getDate()-C),new csDate(y).getTime()<=x.getTime()}function h(m,y){let E=Number(m.pattern);if(!Ot(E))return!1;if(E===0)return a(m,y);let C=new csDate,k=new csDate(C);return k.setDate(C.getDate()-E),new csDate(y).getTime()>=k.getTime()}function d(m){return Et(m)?U(m)?csString.prototype.trim.call(m)==="":ri(m)?m===!0:Ot(m)?m!==0:!1:!0}function g(m){let y=wt(m,"http://")||wt(m,"https://")?m:`https://${m}`,E=Zo(y);return E!==null?csString.prototype.replace.call(E.host,/^www./,""):m}}(s||(s={})),s})(),sn={isLegacyURL:s=>s.component==="url",isLegacyTrigger:s=>s.component==="trigger",isURL:s=>s.type===Vg.URL},Ug=(()=>{class s{constructor(){this.qy=new Gn,this.Wy=[],this.Yy=[]}setTargetingRules(t){this.qy.setRegexRules(csArray.prototype.filter.call(t,sn.isURL));for(let e of t)sn.isLegacyURL(e)?csArray.prototype.push.call(this.Wy,e):sn.isLegacyTrigger(e)&&csArray.prototype.push.call(this.Yy,e)}matchUrl(t){return wo.isUrlMatching(this.Wy,t)||this.qy.evaluateUrl(t)}matchTrigger(t){return wo.isMatching(this.Yy,t)}}return s})(),jg=(()=>{class s extends At{constructor(t,e,n){super(),this.Xy=t,this.md=e,this.R=n}init(){this.yd=new Ug,this.Xy&&this.yd.setTargetingRules(this.Xy)}onStart(){}checkTargetingRules(){let t=this.R.getAnonymizedUrl();this.md(this.Ed(t,"url"))}onStop(){}onTargetingRulesArtificialPageview(t){this.isStarted&&this.md(this.Ed(t,"url"))}onExternalEvent(t){this.isStarted&&this.md(this.Ed(t.name,"trigger"))}Ed(t,e){var n,r;return e==="url"&&U(t)&&(!((n=this.yd)===null||n===void 0)&&n.matchUrl(t))?!0:!!(e==="trigger"&&(!((r=this.yd)===null||r===void 0)&&r.matchTrigger(t)))}}return s})(),Hg={MATCHED:{[R.ANALYTICS_ONLY]:R.ANALYTICS_ONLY_RULES_TARGETING,[R.RECORDING_GLOBAL_SAMPLING]:R.RECORDING_RULES_TARGETING,[R.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING]:R.RECORDING_RULES_TARGETING},MISSED:{[R.ANALYTICS_ONLY]:R.ANALYTICS_ONLY_RULES_TARGETING,[R.RECORDING_GLOBAL_SAMPLING]:R.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING}},Bg=(()=>{class s{constructor(t,e,n,r,a,c,h){this.E=t,this.w=e,this.Tt=n,this.J=r,this.R=a,this.C=c,this.rs=h,this.ln=!1,this.qo=(d=!1)=>{this.ln&&this.E.isSMB&&this.rs.allowStartDataCollection({fromSessionRenewal:d}),this.E.startMode===di.Automatic&&this.rs.startDataCollection({fromSessionRenewal:d})},this.SI=d=>{this.ln||(this.ln=d,this.Ky(),this.qo())}}init(){this.E.isSMB&&this.rs.disableStartDataCollection(),this.fr=new jg(this.E.recordTargetingRules,this.SI,this.R),this.J.addListener(this.fr),this.fr.init()}start(){this.fr.start()}stop(){this.fr.stop()}maybeStartDataCollection(t){if(t){this.qo(t);return}if(this.vI()){this.ln=!0,this.qo(),this.stop();return}this.fr.checkTargetingRules()}onAfterArtificialPageView(){this.fr.checkTargetingRules()}onCollectStateChange(t){if(this.Jy(t)){this.stop();return}let e=t===R.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING;!this.ln&&e||csSetTimeout(()=>this.Qy(t),0)}onStartTracking(){this.Ky()}vI(){let t=this.C.getSession();return!!(t&&this.Jy(t.collectState))}Jy(t){return t===R.RECORDING_RULES_TARGETING||t===R.ANALYTICS_ONLY_RULES_TARGETING}Ky(){var t;if(this.ln){let e=this.C.getSession(),n=this.Tt.getInitialCollectState();this.Qy((t=e==null?void 0:e.collectState)!==null&&t!==void 0?t:n),this.rs.isDataCollectionStarted()&&this.w.emitTargetingRulesMatched()}}Qy(t){let e=Hg[this.ln?"MATCHED":"MISSED"][t];e&&this.w.emitCollectStateChange(e,Ht.ETR_OFF)}}return s})(),Ua=(()=>{class s{constructor(){this.Zy=new Set,this.tE=[],this.Sd=new Set,this.vd=[]}addUrlMaskingPattern(t){if(this.Zy.has(t))return;this.Zy.add(t);let e=jr(t);csArray.prototype.push.call(this.tE,e)}getUrlMaskingPatterns(){return this.tE}resetPartialUrlMaskingPatterns(){this.Sd.clear(),this.vd=[]}addPartialUrlMaskingPattern(t){if(this.Sd.has(t))return;this.Sd.add(t);let e=jr(t);csArray.prototype.push.call(this.vd,e)}getPartialUrlMaskingPatterns(){return this.vd}}return s})(),Fg=(()=>{class s{constructor(t,e,n){this.E=t,this.O=e,this.C=n,this.ys=j.now()}resetStartTime(){this.ys=j.now()}getSessionData(){let{projectId:t}=this.E,e=this.O.getVisitor();e==null&&B.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{id:n,visitsCount:r}=e!=null?e:{},a=this.C.getSession();a===null&&B.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{pageNumber:c}=a!=null?a:{};return{projectId:t,userId:n,sessionNumber:r,pageNumber:c,relativeTimestamp:j.now()-this.ys}}}return s})(),Gg=["clearSession"],$g=["extendSession"];var zg=["getSessionData"],qg=["session:start:newVisitor"],Wg=["session:clear:visitor"],Yg=(()=>{class s{constructor(t,e,n,r){this.E=t,this.O=e,this.C=n,this.S=r}init(){this._d=new Fg(this.E,this.O,this.C),this.S.register(Gg,()=>this.C.removeSession()),this.S.register($g,()=>this.C.extendSessionPeriodically(),{disableApplyPending:!0}),this.S.register(zg,()=>this._d.getSessionData(),{disableApplyPending:!0}),this.S.register(qg,()=>this.O.renewVisitor()),this.S.register(Wg,()=>{this.O.resetVisitor()},{disableApplyImmediate:!0})}onBeforeNaturalPageView(){this.O.createOrUpdateVisitor(),this.C.createOrUpdateSession()}onBeforeArtificialPageView(){this.O.createOrUpdateVisitor(),this.C.createOrUpdateSession()}onAfterNaturalPageView(){this._d.resetStartTime()}onAfterArtificialPageView(){this._d.resetStartTime()}onOptout(){this.O.removeVisitor(),this.C.removeSession()}onCollectStateChange(t){this.C.updateCollectState(t)}}return s})(),Xg=(()=>{class s{constructor(t,e,n,r,a,c,h,d,g,m,y,E,C,k,x,_,w,O,I,T,M,W,K,St,vt,Rt,S,P,N,L,et,at,zt,Re,Ye,Xe,se){this.wt=t,this.hn=e,this.fe=n,this.O=r,this.C=a,this.G=c,this.Ns=h,this.w=d,this.S=g,this.gl=m,this.E=y,this.ml=E,this.ls=C,this.Tr=k,this.Rt=x,this.N=_,this.Z=w,this.Q=O,this.R=I,this._I=T,this.J=M,this.gt=W,this._t=K,this.eE=St,this.se=vt,this.wI=Rt,this.D=S,this.Zt=P,this.M=N,this.Nt=L,this.K=et,this.Tt=at,this.lt=zt,this.$e=Re,this.ns=Ye,this.es=Xe,this.ss=se,this.AI=ie=>{this.w.emitBeforeSessionRenewal(),this.pr(!0,ie),this.w.emitAfterSessionRenewal()},this.TI=ie=>{this.w.emitBeforeSessionRenewal(),this.Tt.refreshQuota(Nt=>{Nt!==R.QUOTA_REACHED&&(this.pr(!0,ie),this.w.emitAfterSessionRenewal())})}}start(){if(this.ml.init(),this.ls.init(),this.ls.isActive())return;let t,e,n,r,a,c,h,d,g,m,y,E,C,k,x,_,w,O,I;this.D.schedule(()=>{x=new xg(this.G),E=new Xp(this.Z),C=new Lp(()=>{}),_=new xp,I=new Wp;let T=new kg(C,this.lt,_,O,I,this.sE());k=new Lg(this.sE(),this.lt,T,_,this.E.whitelistedAttributes,w);let M=new Ed(this.w,this.S,this.lt,T,_,w,O);M.init(),this.w.addListener(M),t=new Uf(this.E,this.hn,this.O,this.Z,E,this.S,this.G,new Yp(B),this.gt,this.Zt,this.J,k,this.St,this.es,this.ss),e=new Td(this.S,this.C,this.E,this.wt,this.fe,this.N),y=new Dg(k,this.E);let W=null,K=new ad;n=new Xf(this.O,this.C,this.S,this.gt,W,this.E,K,y),r=new Md(this.E,this.hn,this.O,this.S,this.N,this.G,this.R);let St;this.rn=new pd(this.E,this.S,this.w,this.hn,this.O,this.C,this.Ns,this.Rt,this._t,this.R,this.se,K,this.J,this.$e,St),this.iE=new Yg(this.E,this.O,this.C,this.S),this.rs=new ng(this.E,this.w,this.ls,this.lt,this.rn,this.G),new ig(this.rs,this.S).init(),h=new xd(this.E,this.S,this.fe,this.hn,this.J),d=new Mg(this.S),g=new Jp}),(this.E.apiErrors.enabled||this.E.isNetworkDetailsEnabled())&&this.D.schedule(()=>{this.ft=new Ua,this.bI=new ep(this.S,this.ft),this.bI.init()}),this.E.apiErrors.enabled&&this.D.schedule(()=>{var T,M;let W=new dg(this.E.apiErrors,this.N);this.yt=new og(new tg,new Qp,W),this.Me=new ag(this.ft,this.Q,!!(!((M=(T=this.E)===null||T===void 0?void 0:T.experimental)===null||M===void 0)&&M.anonymizeNameInUrls)),this.Jr=new cg;let K=new Qf(this.yt,this.Me,this.E,this.hn,this.gt,this.S,this.Zt);K.init(),this.w.addListener(K)}),this.E.customErrors.enabled&&this.D.schedule(()=>{var T,M,W;let K;this.an=new wg(this.N,!((W=(M=this.E)===null||M===void 0?void 0:M.experimental)===null||W===void 0)&&W.anonymizeNameInUrls?this.Q:void 0);let St=new yg(this.an,this.E,this.hn,this.S,this.J,this.Zt,this.gt,K);St.init(),this.w.addListener(St)}),this.E.jsErrorsEnabled&&this.D.schedule(()=>{this.Xs=new Pg,this.Ne=new Ng(this.N,this.R);let T=new Ig(this.Xs,this.Ne,this.E,this.hn,this.gt,this.S,this.J,this.R,this.Zt);T.init(),this.w.addListener(T)}),this.D.schedule(()=>{this.Tr.init()}),this.D.schedule(()=>{n.init()}),this.D.schedule(()=>{e.init()}),this.D.schedule(()=>{r.init()}),this.D.schedule(()=>{this.eE.init()}),this.D.schedule(()=>{this.rn.init()}),this.D.schedule(()=>{this.iE.init()}),this.D.schedule(()=>{h.init()}),this.D.schedule(()=>{this._I.init()}),this.D.schedule(()=>{d.init()}),this.D.schedule(()=>{g.init()}),this.D.schedule(()=>{this.wI.init()}),this.D.schedule(()=>{this.w.addListener(this.iE),this.w.addListener(this.gl),this.w.addListener(t),this.w.addListener(this.Tr),this.w.addListener(n),this.w.addListener(r),this.w.addListener(this.eE),this.w.addListener(this.rn),this.w.addListener(h),this.w.addListener(e),this.w.addListener(g),this.w.addListener(x)}),this.D.schedule(()=>{t.init()}),this.D.schedule(()=>{this.E.isQuotaEnabled()?this.G.onSessionExpired(T=>{this.TI(T)}):this.G.onSessionExpired(T=>{this.AI(T)}),this.pr()})}pr(t=!1,e=!1){var n,r,a;if(this.E.hasTargetingRules()){this.Wo||(this.Wo=new Bg(this.E,this.w,this.Tt,this.J,this.R,this.C,this.rs),this.w.addListener(this.Wo),this.Wo.init(),this.Wo.start(),this.S.start(),(n=this.St)===null||n===void 0||n.start()),this.Wo.maybeStartDataCollection(t);return}this.S.start(),(r=this.St)===null||r===void 0||r.start(),this.rs.tryStartAutomaticDataCollection({fromSessionRenewal:t,isRenewedVisitor:e})}sE(){if(this.it)return this.it;let t=new Gn;return this.it=new kp(this.E,this.R,t,this.Rt),this.it.init(),this.it.shouldUseAnonymization()&&V.counters.pageAnonymisation.count("anonymized-on-start"),this.it}}return s})();var ja=(()=>{class s{constructor(t){this.configuration=t}}return s})(),Kg=(()=>{class s extends ja{constructor(t,e,n,r,a){super(t),this.configuration=t,this.w=e,this.wd=n,this.R=r,this.Ad=a,this.Td=!1}refreshQuota(){}canCollect(t){return!0}init(){this.configuration.malkaUrlEnabled&&this.configuration.hasRecordingUrlRules()&&(this.Td=!0,this.Ad.setRegexRules(this.configuration.recordingUrlRules))}sanitizeSessionCollectState(t){return(t.collectState===R.QUOTA_REACHED||t.collectState===R.RECORDING_RULES_TARGETING||t.collectState===R.RECORDING_TEMPORARILY)&&(t.collectState=R.ANALYTICS_ONLY),t}computeInitialCollectState(){return Te.isReplayConsentNeeded(this.configuration)?R.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.Vc()}computeInitialCollectStateFromRecordingConsentGranted(){return this.Vc()}Vc(){if(!Ei.isRecordingSupported())return R.ANALYTICS_ONLY;let t=R.ANALYTICS_ONLY,e=Ht.ETR_OFF;return $e.percentage()<this.configuration.replayRecordingRate||this.wd.isForceReplayRecorded()?t=R.RECORDING_GLOBAL_SAMPLING:this.Td&&this.Ad.evaluateUrl(this.R.getAnonymizedUrl())&&(t=R.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&(e=Ht.ETR_ON),this.w.emitCollectStateChange(t,e),t}getEligibleCollectState(t){if(!Ei.isRecordingSupported())return R.ANALYTICS_ONLY;if(Te.isRecordingBlockedByConsent(t))return t.collectState===R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:R.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED;if(t.collectState===R.RECORDING_GLOBAL_SAMPLING)return R.RECORDING_GLOBAL_SAMPLING;let e=this.configuration.malkaEtrEnabled?Ht.ETR_ON:Ht.ETR_OFF;return this.Td&&this.Ad.evaluateUrl(this.R.getAnonymizedUrl())?(this.w.emitCollectStateChange(R.RECORDING_URL_SAMPLING,e),R.RECORDING_URL_SAMPLING):(this.w.emitCollectStateChange(R.ANALYTICS_ONLY,e),R.ANALYTICS_ONLY)}isReplayRecorded(t){return Te.isRecordingBlockedByConsent(t)?!1:t.collectState===R.RECORDING_TEMPORARILY||t.collectState===R.RECORDING_GLOBAL_SAMPLING||t.collectState===R.RECORDING_URL_SAMPLING||this.configuration.malkaEtrEnabled}getInitialCollectState(){return R.ANALYTICS_ONLY}getRecordingConsentWithdrawn(){return R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}return s})(),Dt="_cs_s",In=18e5,nn=".",Jg=13,ti=(()=>{let s;return function(i){i[i.NOT_FOUND=0]="NOT_FOUND",i[i.EXPIRED=1]="EXPIRED",i[i.FOUND=2]="FOUND"}(s||(s={})),s})(),Qg=(()=>{class s{constructor(t,e,n){this.E=t,this.M=e,this.K=n,this.ne=null,this.bd=!1}get(t){let e=this.getRawSession(t);return this.isValid(e)?la(e):null}getRawSession(t){if(t){let g=this.Rd();return Sn(g)}let{sessionString:e,status:n}=this.RI(),r=Sn(e);if(n!==ti.EXPIRED)return r;if(this.E.cookielessTrackingEnabled)return null;let a=this.Rd();if(!a)return null;let c=csString.prototype.split.call(a,nn);if(!s.nE(c))return a;let h=c[c.length-1],d=parseInt(h,10);return isNaN(d)||this.CI(d),r}onCookieToSet(t){this.Ni=t}onCookieToRemove(t){this.Mi=t}set(t,e=In){var n;let r=j.now()+e,a=zu(t);a+=`${nn}${r}`,this.II(a,r),this.E.cookielessTrackingEnabled?this.K.setItem(Dt,a):(this.M.set(Dt,a,e),(n=this.Ni)===null||n===void 0||n.call(this,Dt,a,e))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Dt):(this.M.delete(Dt),(t=this.Mi)===null||t===void 0||t.call(this,Dt)),this.PI()}handleSubdomainChange(){if(this.E.cookielessTrackingEnabled)return;let t=this.get(!0);t&&(this.E.allowSubdomains?this.M.delete(Dt,vi.CURRENT_DOMAIN):this.M.delete(Dt,this.M.getRootDomain()),this.set(t))}isValid(t){return t!==null&&Wn(t)}II(t,e){this.ne={sessionString:t,expires:e}}RI(){return this.ne?this.ne&&j.now()<=this.ne.expires?{sessionString:this.ne.sessionString,status:ti.FOUND}:{sessionString:this.ne.sessionString,status:ti.EXPIRED}:{sessionString:this.Rd(),status:ti.NOT_FOUND}}PI(){this.ne=null}CI(t){this.ne&&(this.ne.expires=t,this.bd=!0)}isCacheRefreshed(){return this.bd}resetCacheRefreshed(){this.bd=!1}Rd(){if(this.E.cookielessTrackingEnabled){let e=this.K.getItem(Dt);return!e||this.rE(e)?null:e}let t=this.M.get(Dt);return!t||this.rE(t)?null:t}rE(t){let e=csString.prototype.split.call(t,nn);if(!s.nE(e))return!1;let n=parseInt(e[e.length-1],10);return!isNaN(n)&&j.now()>n}static nE(t){return t[t.length-1].length===Jg}}return s})(),Zg=(()=>{class s extends ja{constructor(t,e,n){super(t),this.configuration=t,this.Yo=e,this.w=n,this.OI=R.RECORDING_GLOBAL_SAMPLING}refreshQuota(t){this.oE=t,this.Xo=void 0,this.NI()}init(t){this.MI();let e=st.get(Dt);e!==null&&Wn(e)?t(this.canCollect(qu(e))):this.refreshQuota(n=>{t(n!==R.QUOTA_REACHED)})}sanitizeSessionCollectState(t){return t}canCollect(t){return t!==null&&t.collectState!==R.QUOTA_REACHED}computeInitialCollectState(t){return this.Xo?(this.w.emitCollectStateChange(this.Xo,this.configuration.malkaEtrEnabled?Ht.ETR_ON:Ht.ETR_OFF),this.Xo):(B.warn("Quota file error computeInitialCollectState() called before quota answered"),R.QUOTA_REACHED)}getEligibleCollectState(t){return t.collectState===R.QUOTA_REACHED?R.QUOTA_REACHED:!Ei.isRecordingSupported()&&this.isReplayRecorded(t)?R.ANALYTICS_ONLY:t.collectState===R.RECORDING_RULES_TARGETING?R.RECORDING_RULES_TARGETING:t.collectState===R.ANALYTICS_ONLY_RULES_TARGETING?R.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===R.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING?R.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING:t.collectState===R.RECORDING_GLOBAL_SAMPLING?R.RECORDING_GLOBAL_SAMPLING:R.ANALYTICS_ONLY}isReplayRecorded(t){return t.collectState===R.RECORDING_GLOBAL_SAMPLING||t.collectState===R.RECORDING_RULES_TARGETING}getInitialCollectState(){return this.Xo||R.QUOTA_REACHED}computeInitialCollectStateFromRecordingConsentGranted(t){return R.ANALYTICS_ONLY}Ko(t){this.Xo=t,this.oE&&this.oE(t)}MI(){this.Yo.onError(t=>this.quotaServiceErrorHandler(`HTTP:${t.status} - fetching quota file for pid: ${this.configuration.projectId}`)),this.Yo.onTimeout(()=>this.quotaServiceErrorHandler("timeout")),this.Yo.onLoad(t=>this.quotaFileHandler(t))}NI(){this.Yo.isInProgress()||this.Yo.send()}quotaFileHandler(t){var e;if(!(!((e=t==null?void 0:t.quotas)===null||e===void 0)&&e.length)){this.quotaServiceErrorHandler("Quota types missing from config file");return}this.DI(t)}quotaServiceErrorHandler(t){let e=`Quota error - ${t}`;B.warn(e),this.Ko(this.OI)}DI(t){let e=!1,n=!1;for(let r of t.quotas)r.quotaType==="ANALYTICS"&&r.value?e=!0:r.quotaType==="RECORDING"&&r.value&&$e.boolean(Math.round(r.value*100))&&(n=!0);!e&&n?this.quotaServiceErrorHandler(`Quota types impossible: replay without analytics - ${csJSON.stringify(t)}`):e&&n?Ei.isRecordingSupported()?this.Ko(R.RECORDING_GLOBAL_SAMPLING):this.Ko(R.ANALYTICS_ONLY):e&&!n?this.Ko(R.ANALYTICS_ONLY):this.Ko(R.QUOTA_REACHED)}getRecordingConsentWithdrawn(){return R.ANALYTICS_ONLY}}return $([G("Quota File: quotaFileHandler")],s.prototype,"quotaFileHandler",null),$([G("Quota File: onerror")],s.prototype,"quotaServiceErrorHandler",null),s})();var tm=(()=>{class s{constructor(t,e,n,r,a){this.O=t,this.C=e,this.ws=n,this._t=r,this.E=a}get(){return{exclusion:this.ws.getAppliedTrackingDraw(),visitor:this.O.getVisitor(),session:this.C.getSession(),cvars:this._t.getCustomVariablesSession()}}apply(t){t&&(t.exclusion?this.exclude():this.include(t))}exclude(){this.ws.exclude(this.E),this.O.removeVisitor(),this.C.removeSession(),this._t.removeCustomVariablesSession()}include(t){this.ws.removeExclusion(),this.O.setVisitor(t.visitor),t.session?this.C.setSession(t.session):this.C.removeSession(),t.cvars?this._t.setCustomVariableSession(t.cvars):this._t.removeCustomVariablesSession()}}return s})();var tr=60*1e3,em=60*tr,sm=4*em-tr,is=(()=>{let s;return function(i){i[i.NO=0]="NO",i[i.WITHDRAWN=1]="WITHDRAWN",i[i.GRANTED=2]="GRANTED"}(s||(s={})),s})(),im=(()=>{class s{constructor(t,e,n,r,a){this.Ae=t,this.Tt=e,this.w=n,this.jI=r,this.HI=a,this.Jo=null,this.Id=0,this.Qo=is.NO}setDynamicVariablesService(t){this.BI=t}createOrUpdateSession(){this.Pd(),this.FI=j.now(),this.Id=0;let t=this.lE();t===null?(t=this.GI(),this.Vc(t),this.w.emitSessionCreated()):(t=this.Tt.sanitizeSessionCollectState(t),this.$I(t),t.collectState=this.Tt.getEligibleCollectState(t)),this.setSession(t)}grantReplayRecording(t){t.collectState=this.Tt.getInitialCollectState(),t.collectState=this.Tt.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)}grantReplayRecordingBeforeSessionStart(){this.Qo=is.GRANTED}withdrawnReplayRecording(t){t.collectState=this.Tt.getRecordingConsentWithdrawn(),this.setSession(t)}withdrawnReplayRecordingBeforeSessionStart(){this.Qo=is.WITHDRAWN}Vc(t){this.Qo===is.WITHDRAWN?(t.collectState=this.Tt.getRecordingConsentWithdrawn(),this.setSession(t)):this.Qo===is.GRANTED?t.collectState=this.Tt.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.Tt.computeInitialCollectState(t),this.Qo=is.NO}GI(){return{pageNumber:1,collectState:this.Tt.getInitialCollectState(),replayConsent:this.jI?En.NOT_EXPRESSED:En.UNNECESSARY,etrStatus:oa.ETR_NOT_SAVED_SESSION}}$I(t){t.pageNumber+=1}isReplayRecorded(){let t=this.getSession();return!!t&&this.Tt.isReplayRecorded(t)}isTemporarilyRecorded(){let t=this.getSession();return(t==null?void 0:t.collectState)===R.RECORDING_TEMPORARILY}getRequestParameters(){let t={},e=this.getSession();return e!==null&&(t.pn=`${e.pageNumber}`),t}getSession(){return this.Ae.get()}lE(){return this.Ae.get(!0)}doesSessionExist(){return this.Ae.get()!==null}setSession(t){this.Ae.set(t),this.w.emitSessionRefreshed()}refreshSession(){let t=this.lE();t&&this.setSession(t)}removeSession(){this.Ae.remove(),this.w.emitSessionRemoved()}getRecordingTypes(){let t=this.getSession(),e=this.zI(t);return this.qI(e)}qI(t){let e=[];return csArray.prototype.forEach.call(t,n=>{if(Fu(n)){let r=Gu[n]||n;csArray.prototype.push.call(e,r)}}),e}zI(t){let e=[];return(t==null?void 0:t.collectState)!==void 0&&(csArray.prototype.push.call(e,t.collectState),this.HI&&csArray.prototype.push.call(e,R.RECORDING_ETR_SAMPLING)),e}updateCollectState(t){let e=this.getSession();e!==null&&(e.collectState=t,this.setSession(e))}hasValidSession(){let t=this.Ae.getRawSession();return this.Ae.isValid(t)}handleSubdomainChange(){this.Ae.handleSubdomainChange()}pollCacheRefreshEvent(t=!0){let e=this.Ae.isCacheRefreshed();return e&&t&&this.Ae.resetCacheRefreshed(),e}extendSessionPeriodically(){this.Jo||this.hE()}extendSession(){let t=this.getSession();return t===null?(B.warn("extendSession is trying to extend an expired session"),this.Pd(),!1):(this.setSession(t),!0)}hE(){if(this.WI()){this.Pd();return}this.extendSession()&&(this.YI(),this.XI())}XI(){this.Jo=window.csSetTimeout(()=>{this.hE()},In-tr)}WI(){return sm-(j.now()+In-this.FI)<0}Pd(){this.Jo&&(window.csClearTimeout(this.Jo),this.Jo=null)}YI(){this.Id+=1,this.BI.trackDynamicVariable("session_expiry_update",this.Id)}}return s})();var nm=(()=>{class s{constructor(t,e,n){this.O=t,this.C=e,this.QI=n}handle(){this.O.hasAllowSubdomainsChanged()&&(this.O.handleSubdomainChange(),this.C.handleSubdomainChange(),this.QI.handleSubdomainChange())}}return s})(),rn="_cs_inc",rm=(()=>{class s{constructor(t,e){this.Lt=t,this.M=e}isForceIncluded(){return this.ZI()||this.tP()}isForceReplayRecorded(){return this.eP(R.RECORDING_GLOBAL_SAMPLING)}ZI(){return this.M.get(rn)!==null}eP(t){return this.M.get(rn)===t}tP(){return csString.prototype.indexOf.call(this.Lt.href,rn)>0}}return s})(),om=(()=>{class s{constructor(t,e,n){this.E=t,this.O=e,this.ws=n}clear(){this.sP()&&(this.uE=this.O.getVisitor(),this.O.removeVisitor()),this.iP()&&this.ws.removeExclusion()}sP(){return this.O.doesVisitorExist()&&this.O.getVisitor().appliedTrackingDraw!==this.E.lastTrackingDraw}iP(){return this.ws.getAppliedTrackingDraw()!==this.E.lastTrackingDraw}restoreClearedVisitor(){this.uE&&this.O.setVisitor(this.uE)}}return s})(),am=(()=>{class s{constructor(t,e,n,r,a,c,h,d){this.E=t,this.O=e,this.ws=n,this.dE=r,this.nP=a,this.rP=c,this.oP=h,this.wd=d}compute(t){var e,n;this.E.crossDomainTracking&&!this.E.cookielessTrackingEnabled?this.E.crossDomainSingleIframeTracking?(e=this.oP)===null||e===void 0||e.start(()=>this.Dd(t)):(n=this.rP)===null||n===void 0||n.applyUpToDate(()=>this.Dd(t)):this.Dd(t)}Dd(t){this.nP.handle(),this.dE.clear(),this.aP()?(this.dE.restoreClearedVisitor(),t(!0)):(this.ws.exclude(this.E),t(!1))}aP(){let t=$e.boolean(this.E.sampleRate);return this.wd.isForceIncluded()||!this.ws.isExcluded()&&this.O.doesVisitorExist()||!this.ws.isExcluded()&&t}}return s})(),cm=(()=>{class s{constructor(t,e,n,r){this.E=t,this.pt=e,this.w=n,this.C=r,this.cP=10*1e3}createOrUpdateVisitor(){var t;let e=this.getVisitor();e===null&&(e=this.lP(),(t=this.C)===null||t===void 0||t.removeSession()),this.hP(e),this.setVisitor(e)}lP(){return{id:Vp.generate(),visitsCount:0,appliedTrackingDraw:this.E.lastTrackingDraw,creationTimestamp:vr(),lastVisitTimestamp:0,hitTimestamp:0,expires:j.now()+this.E.visitorCookieTimeout,allowSubdomains:this.E.allowSubdomains,identityPrint:null}}hP(t){let e=vr();this.C&&!this.C.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=e),t.hitTimestamp=e,t.appliedTrackingDraw=this.E.lastTrackingDraw,this.fE=t.visitsCount}getRequestParameters(){let t=this.getVisitor();return t?{uu:t.id,sn:`${t.visitsCount}`,hd:`${t.hitTimestamp}`}:{}}getVisitor(){return this.pt.get()}setVisitor(t){this.pt.set(t)}doesVisitorExist(){return this.pt.get()!==null}resetVisitor(){this.pE(),this.w.emitAfterVisitorCleared()}removeVisitor(){this.pt.remove()}hasAllowSubdomainsChanged(){let t=this.getVisitor();return t?t.allowSubdomains!==this.E.allowSubdomains:!1}handleSubdomainChange(){this.pt.handleSubdomainChange()}isSessionRenewed(){let t=this.getVisitor();return t===null||this.fE===void 0?!1:t.visitsCount!==this.fE}uP(){return!X(this.gE)||j.now()-this.gE>this.cP}renewVisitor(){this.uP()?(this.gE=j.now(),this.pE(),this.w.emitAfterVisitorRenewal()):B.warn("session:start:newVisitor is trying to renew visitor under time limit")}pE(){this.w.emitBeforeVisitorRenewal(),this.removeVisitor()}}return s})(),Ut="_cs_id",lm=(()=>{class s{constructor(t,e,n){this.E=t,this.M=e,this.K=n}onCookieToSet(t){this.Ni=t}onCookieToRemove(t){this.Mi=t}get(){let t;return this.E.cookielessTrackingEnabled?t=this.K.getItem(Ut):t=this.M.get(Ut),t?(Uu(t)||B.warn(`Invalid visitor string: ${t}`),xu(t)):null}set(t){var e;let n=Vu(t);if(this.E.cookielessTrackingEnabled)this.K.setItem(Ut,n);else{let r=new csDate(t.expires);this.M.set(Ut,n,r),(e=this.Ni)===null||e===void 0||e.call(this,Ut,n,r)}}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Ut):(this.M.delete(Ut),(t=this.Mi)===null||t===void 0||t.call(this,Ut))}handleSubdomainChange(){if(this.E.cookielessTrackingEnabled)return;let t=this.get();t&&(t.allowSubdomains=this.E.allowSubdomains,this.E.allowSubdomains?this.M.delete(Ut,vi.CURRENT_DOMAIN):this.M.delete(Ut,this.M.getRootDomain()),this.set(t))}}return s})(),hm=(()=>{class s{constructor(t,e,n,r,a,c){this.E=t,this.Oi=e,this.Cs=n,this.D=r,this.w=a,this.K=c}initWithQuota(){if(!this.E.collectionEnabled){this.mE();return}let t=new Ep(this.E.getSettingsFileUri(),"",{type:"json",cacheMinutes:15});this.Tt=new Zg(this.E,t,this.w),this.Tt.init(e=>{e?this.init():this.mE()})}dP(){this.D.schedule(()=>{this.N=new Is,this.Q=new au(this.N),this.R=new jp(window.location,this.Q),this.M=new vi(this.E,this.R,this.Oi),this.M.init(),this.Nt=new vp,this.S=new Ru([bu.UXA]),this.J=new Cu,this.lt=new Gp,this.Rt=new Np(this.E,new Op(this.E,this.M,this.Nt),this.w)})}mE(){}init(){Ss.isSupported()&&Ss.setDigestSalt(this.E.projectId.toString());let t,e,n,r,a,c,h,d,g,m,y,E,C,k,x,_,w,O,I,T,M,W,K,St,vt,Rt,S,P,N;this.dP();let L=new ap;this.w.addListener(L),this.D.schedule(()=>{y=new rm(window.location,this.M),new Ap().init(),E=Da.create(),m=new ka(E),this.Tt===void 0&&(this.Tt=new Kg(this.E,this.w,y,this.R,new Gn),this.Tt.init())}),this.D.schedule(()=>{t=new Qg(this.E,this.M,this.K),e=new im(t,this.Tt,this.w,this.E.replayConsentRequiredForSession,this.E.malkaEtrEnabled),n=new lm(this.E,this.M,this.K),r=new cm(this.E,n,this.w,e),this.Cs.setContext(r,e)}),this.D.schedule(()=>{c=new nm(r,e,this.Rt),h=new Yu(this.E,this.M,this.K),d=new Qu(window.location,h),g=new Ju(d),x=new om(this.E,r,d),vt=new ku(Zt,this.E);let et;T=new Su(vt,this.E.isChild,et),M=new vu(vt),W=new _u(vt),K=new Au,St=new uu(T,M,W,K),_=new Tu(this.S,St),w=new id(this.R),O=new td(w,this.S);let at=new Xu(this.E,this.M,this.K);Rt=new Dp(this.N,at),I=new gd(this.S,Rt);let zt=new tm(r,e,d,Rt,this.E)}),this.D.schedule(()=>{new am(this.E,r,d,x,c,C,a,y).compute(at=>{this.D.schedule(()=>{var zt,Re,Ye,Xe;_.init();let se=new Pp(this.E,this.S,this.Rt,e,this.w),ie=new np(this.E,this.M,this.Nt),Nt=new rp(this.w,window.location,ie),ct=new ip(this.S,Nt),Ct=new Hp(this.S,this.E),Ms=new Up(this.Q,new Ua),Ti=new qp(e,r),bi,Ds,Ri,ks=new _o(this.E,r,e,k),Ls=new _o(this.E,r,e,k,Ds);at?(this.w.emitInitTracking(),new Xg(ks,Ls,E,r,e,Ti,Ms,this.w,this.S,_,this.E,ct,Nt,se,this.Rt,this.N,vt,this.Q,this.R,Ct,this.J,St,Rt,I,w,O,this.D,m,this.M,this.Nt,this.K,this.Tt,this.lt,Ri,bi,P,N).start()):new Ku(this.w,this.S,_,ct,Nt,g,se).start()})})})}}return s})(),Ue=(()=>{let s;return function(i){let t="{domain}/tag/tag.bundle.js?v={version}",e,n={loadBundle(w){let O=w.source,I=w.data;if(c(I)){let T=()=>{let M=r(t,I);y(M,()=>O.postMessage("csBundleLoaded",w.origin))};e=I.token,_(n.loadBundle),h(w.origin)&&T()}}};function r(w,O){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(w,"{version}",O.version),"{token}",O.token),"{domain}",O.domain)}function a(){return e}i.getToken=a;function c(w){return w&&w.type==="csBundleInjection"&&h(w.domain)&&g(w.version)&&d(w.token)}i.isAuthorizedIncomingMessage=c,i.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/;function h(w){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(w)||i.hjDomainRegex.test(w)}i.isAuthorizedDomain=h;function d(w){return/^[a-zA-Z0-9]+$/.test(w)}i.isAuthorizedToken=d;function g(w){return/^[a-zA-Z0-9\.]+$/.test(w)}i.isAuthorizedTagVersion=g;function m(){let w=window.opener||window.parent;return window!==w&&window.addEventListener}i.isActivable=m;function y(w,O){let I=document.createElement("script");I.type="text/javascript",I.async=!0,I.src=w,I.onload=O,I.charset="utf-8",document.head.appendChild(I)}i.addScript=y;function E(w){let O=document.createElement("link");O.rel="stylesheet",O.href=w,document.head.appendChild(O)}i.addStyle=E;function C(w){return`${w}?cb=${new csDate().getTime()}`}i.addCacheBusting=C;function k(){x(n.loadBundle)}i.waitForBundleInjection=k;function x(w){window.addEventListener("message",w,!1)}i.listen=x;function _(w){window.removeEventListener("message",w,!1)}i.removeListener=_}(s||(s={})),s})(),Ao="_hp_ved",um=18e5,dm="/js/ved.js",fm="/css/ved.css",pm="/js/ved.css",gm=(()=>{let s;return function(i){i.StatusUpdate="status"}(s||(s={})),s})(),mm=(()=>{let s;return function(i){i.ReceivedInitMessage="received_init_message"}(s||(s={})),s})();var on=(()=>{let s;return function(i){let t=!1,e;function n(y){return e+y}function r(){let y=[n(fm),n(pm)];csArray.prototype.forEach.call(y,E=>{Ue.addStyle(E)})}function a(y){let E=new csRegExp("(^|;)[ ]*"+y+"=([^;]*)"),C=E.exec(document.cookie);return C?decodeURIComponent(C[2]):null}function c(y,E,C){let k=encodeURIComponent(y)+"="+encodeURIComponent(E),x=new csDate;x.setTime(x.getTime()+C);let _=k+"; expires="+x.toUTCString()+"; path=/";document.cookie=_}function h(){c(Ao,"on",um)}function d(){return a(Ao)==="on"}i.isVLCookieEnabled=d;function g(y){window.heapV=Object.assign({},window.heap,{source:y==null?void 0:y.source,uri:e,loadArgs:y==null?void 0:y.data.args,identify:()=>{},track:()=>{}})}i.initializeHeapV=g;function m(y,E){var C;if(e=y,E){let k={type:gm.StatusUpdate,value:mm.ReceivedInitMessage},x={targetOrigin:E==null?void 0:E.origin};(C=E==null?void 0:E.source)===null||C===void 0||C.postMessage(k,x)}t||(t=!0,h(),g(E),window.heapV&&(Ue.addScript(n(dm)),r()))}i.init=m}(s||(s={})),s})(),ym=(()=>{let s;return function(i){let t=window.opener||window.parent,e="tag",n="https://app.contentsquare.com",r=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,Ue.hjDomainRegex],a,c,h,d={initHeapVisualLabeler(T){var M;T.origin===h&&((M=T.data)===null||M===void 0?void 0:M.message)==="init"&&T.source&&(on.init(h,T),w(d.initHeapVisualLabeler))},ping(T){typeof T.data=="string"&&T.data==="ping"&&y(T.origin)&&(c=T.origin,a=Ue.hjDomainRegex.test(T.origin)?n:T.origin,w(d.ping),_(d.insertMessageScript),E(Ue.addCacheBusting("utils.js")))},insertMessageScript:O(T=>{typeof T.data=="string"&&T.data!=="ping"&&(w(d.insertMessageScript),E(T.data))})};function g(){return Ue.getToken()}i.getToken=g;function m(){return window!==t&&window.addEventListener}i.isActivable=m;function y(T){return csArray.prototype.some.call(r,M=>M.test(T))}i.isAuthorizedDomain=y;function E(T,M){let W=document.createElement("script");W.type="text/javascript",W.async=!0;let K=a==null?void 0:csString.prototype.replace.call(a,/^https?:/,"");W.src=`${K}/${e}/${T}`,W.onload=M,W.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(W),C(T)}function C(T){csString.prototype.includes.call(T,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(T,"&mode=")[1])}function k(){_(d.ping),Ue.waitForBundleInjection()}i.waitForConnection=k;function x(T){h=T,_(d.initHeapVisualLabeler),on.isVLCookieEnabled()&&on.init(h)}i.waitForHeapVisualLabeler=x;function _(T){window.addEventListener("message",T,!1)}i.listen=_;function w(T){window.removeEventListener("message",T,!1)}i.removeListener=w;function O(T){return function(M){M.origin===c&&T(M)}}i.secureListener=O;function I(T){c&&t.postMessage(T,c)}i.post=I}(s||(s={})),s})();var ei=window.CSFrameCommunication||ym,Em=(()=>{class s extends $n{constructor(t){super(),this.D=t;{let e=(n,r)=>{if(typeof r!="string"||!csString.prototype.startsWith.call(r,"on"))return;let a=csString.prototype.substring.call(r,2);return(...c)=>{r==="onInitialDomDone"&&(c=[]),document.dispatchEvent(new CustomEvent("cs-e2e-event",{detail:{type:"lifecycle",name:a,data:c}}))}};this.addListener(new Proxy({},{get:e}))}}emitBeforeNaturalPageView(t){for(let e of this.listeners)e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView(t)}emitAfterNaturalPageView(t){for(let e of this.listeners)e.onAfterNaturalPageView&&e.onAfterNaturalPageView(t)}emitInitTracking(){for(let t of this.listeners)t.onInitTracking&&t.onInitTracking()}emitStartTracking(t){for(let e of this.listeners)e.onStartTracking&&this.D.schedule(()=>e.onStartTracking(t))}emitStartNoTrackingMode(){for(let t of this.listeners)t.onStartNoTrackingMode&&this.D.schedule(()=>t.onStartNoTrackingMode())}emitArtificialPageViewEnd(t=!1){for(let e of this.listeners)if(e.onArtificialPageViewEnd)try{e.onArtificialPageViewEnd(t)}catch(n){B.error(n)}}emitBeforeArtificialPageView(t,e){for(let n of this.listeners)n.onBeforeArtificialPageView&&n.onBeforeArtificialPageView(t,e)}emitAfterArtificialPageView(t=!1){for(let e of this.listeners)e.onAfterArtificialPageView&&e.onAfterArtificialPageView(t)}emitBeforeSessionRenewal(){for(let t of this.listeners)t.onBeforeSessionRenewal&&t.onBeforeSessionRenewal()}emitAfterSessionRenewal(){for(let t of this.listeners)t.onAfterSessionRenewal&&t.onAfterSessionRenewal()}emitOptout(){for(let t of this.listeners)t.onOptout&&t.onOptout()}emitReplayUnanonymizationConsentGranted(){for(let t of this.listeners)t.onReplayUnanonymizationConsentGranted&&t.onReplayUnanonymizationConsentGranted()}emitReplayUnanonymizationConsentWithdrawn(){for(let t of this.listeners)t.onReplayUnanonymizationConsentWithdrawn&&t.onReplayUnanonymizationConsentWithdrawn()}emitAfterReplayRecordingConsentGranted(){for(let t of this.listeners)t.onAfterReplayRecordingConsentGranted&&t.onAfterReplayRecordingConsentGranted()}emitAfterReplayRecordingConsentWithdrawn(){for(let t of this.listeners)t.onAfterReplayRecordingConsentWithdrawn&&t.onAfterReplayRecordingConsentWithdrawn()}emitCollectStateChange(t,e){for(let n of this.listeners)n.onCollectStateChange&&n.onCollectStateChange(t,e)}emitInitialDomStart(){for(let t of this.listeners)t.onInitialDomStart&&t.onInitialDomStart()}emitInitialDomDone(t){for(let e of this.listeners)e.onInitialDomDone&&e.onInitialDomDone(t)}emitRecordingContextChange(){for(let t of this.listeners)t.onRecordingContextChange&&t.onRecordingContextChange()}emitSensitiveStatusChange(){var t;for(let e of this.listeners)(t=e.onSensitiveStatusChange)===null||t===void 0||t.call(e)}emitBeforeVisitorRenewal(){for(let t of this.listeners)t.onBeforeVisitorRenewal&&t.onBeforeVisitorRenewal()}emitAfterVisitorCleared(){for(let t of this.listeners)t.onAfterVisitorCleared&&t.onAfterVisitorCleared()}emitAfterVisitorRenewal(){for(let t of this.listeners)t.onAfterVisitorRenewal&&t.onAfterVisitorRenewal()}emitSessionCreated(){for(let t of this.listeners)t.onSessionCreated&&t.onSessionCreated()}emitSessionRemoved(){for(let t of this.listeners)t.onSessionRemoved&&t.onSessionRemoved()}emitSessionRefreshed(){for(let t of this.listeners)t.onSessionRefreshed&&t.onSessionRefreshed()}emitTargetingRulesMatched(){for(let t of this.listeners)t.onTargetingRulesMatched&&t.onTargetingRulesMatched()}}return $([Ts("emitStartTracking")],s.prototype,"emitStartTracking",null),s})();var Sm=(()=>{let s;return function(i){function t(){return typeof window.CSJavascriptBridge=="object"&&typeof window.CSJavascriptBridge.optIn=="function"&&typeof window.CSJavascriptBridge.optOut=="function"&&typeof window.CSJavascriptBridge.sendEvent=="function"&&typeof window.CSJavascriptBridge.sendDynamicVar=="function"&&typeof window.CSJavascriptBridge.sendTransaction=="function"}i.isCSJavascriptBridgeDefined=t;function e(){if(typeof window.CSJavascriptBridge.getVersion=="function")try{let _=window.CSJavascriptBridge.getVersion();if(Ot(_))return _}catch{B.warn("an error occurred when calling getVersion")}return null}i.getBridgeVersion=e;function n(){typeof window.CSJavascriptBridge.onWebviewTrackingReady=="function"&&window.CSJavascriptBridge.onWebviewTrackingReady()}i.notifyIsReadyForTracking=n;function r(_,w){window.CSJavascriptBridge.identify&&window.CSJavascriptBridge.identify(_,csJSON.stringify(w))}i.identify=r;function a(){window.CSJavascriptBridge.resetIdentity&&window.CSJavascriptBridge.resetIdentity()}i.resetIdentity=a;function c(_){window.CSJavascriptBridge.addUserProperties&&window.CSJavascriptBridge.addUserProperties(csJSON.stringify(_))}i.addUserProperties=c;function h(_){window.CSJavascriptBridge.sendEvent(csJSON.stringify(_))}i.sendAnalysisEvent=h;function d(_){if(window.CSJavascriptBridge.sendSREvent)for(let w of _.events)window.CSJavascriptBridge.sendSREvent(csJSON.stringify(w))}i.sendSREvent=d;function g(_){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(_))}i.sendLog=g;function m(){window.CSJavascriptBridge.optIn()}i.sendOptIn=m;function y(){window.CSJavascriptBridge.optOut()}i.sendOptOut=y;function E(_,w){window.CSJavascriptBridge.sendDynamicVar(_,w)}i.sendDynamicVariable=E;function C(_,w,O){window.CSJavascriptBridge.sendTransaction(_,w,O)}i.sendTransaction=C;function k(_,w){if(window.CSJavascriptBridge.sendAssets){let O=csJSON.stringify(_);window.CSJavascriptBridge.sendAssets(O,w||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(_,O=>O.assetId))}i.sendAssets=k;function x(_){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(_))}i.sendNativeSREvent=x}(s||(s={})),s})();var vm=(()=>{class s{constructor(t,e,n){this.E=t,this.It=e,this.Cs=n}start(){var t,e,n,r,a;if(window.CSQ_TAGS=csArray.prototype.concat.call(window.CSQ_TAGS||[],this.E.projectId),window.UXAnalytics)return;window.UXAnalytics={};let c=new Mp,h=new hf(!!(!((t=this.E.taskSchedulerOptions)===null||t===void 0)&&t.enabled),(e=this.E.taskSchedulerOptions)===null||e===void 0?void 0:e.maxProcessingTime,(n=this.E.taskSchedulerOptions)===null||n===void 0?void 0:n.waitDuration),d=new eu(this.It,this.E);d.init();let g=new iu(this.E,d);if(this.It.isTopWindowTracker()&&g.canTrack()){if(!((r=window.CSProtectnativeFunctionsLogs)===null||r===void 0)&&r.Warning&&B.warn(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Warning}`),!((a=window.CSProtectnativeFunctionsLogs)===null||a===void 0)&&a.Critical){B.error(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Critical}`);return}Zh();let y=new Em(h),E=new hm(this.E,d,this.Cs,h,y,c);this.E.isQuotaEnabled()?E.initWithQuota():E.init()}let m=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive(y){return F.isMaskedElement(y)||F.isMaskedElementChild(y)},isAttributeSensitive(y,E){return F.isMaskedAttribute(y,E)},getSensitiveAttributes(y){return Do(y.attributes,E=>F.isMaskedAttribute(y,E.name))}},Console:{warn(y){m&&console.warn("cs.tracking.warning",y)},error(y){m&&console.error("cs.tracking.error",y)}},Version:Xo},window.CSFrameCommunication||(window.CSFrameCommunication=ei,ei.isActivable()&&ei.waitForConnection(),this.E.isCsCrosswritingHeap()&&ei.waitForHeapVisualLabeler(this.E.getHeapWebAppUri()))}}return $([Ts("main.start"),G("main.start")],s.prototype,"start",null),s})(),_m=(()=>{class s{constructor(){}send(t,e,n=Z.warn){let r={message:t,errorCode:e,level:n};Sm.sendLog(r)}}return s})();function wm(){csSetTimeout(()=>{let s=0;typeof CompressionStream!="undefined"&&(s|=1),typeof TransformStream!="undefined"&&(s|=2),typeof performance!="undefined"&&typeof performance.now=="function"&&(s|=4),typeof Worker!="undefined"&&(s|=8),typeof scheduler!="undefined"&&(typeof scheduler.yield=="function"&&(s|=16),typeof scheduler.postTask=="function"&&(s|=32)),V.counters.availableFeatures.set(s)})}var Am=(()=>{class s{constructor(t,e,n){this.X=t,this.N=e,this.pO=n,this.Et=[],this.gO=Fn().v,wm()}flush(){this.Et.length!==0&&(this.X.send({m:csArray.prototype.map.call(this.Et,t=>({n:t.name,p:t.parameter,v:t.value})),p:this.N.anonymizePII(window.location.pathname),pid:this.pO,v:this.gO}),this.Et=[])}push(t){csArray.prototype.push.call(this.Et,...t),this.flush()}}return s.DEBOUNCE_INTERVAL=5e3,$([ml(s.DEBOUNCE_INTERVAL)],s.prototype,"flush",null),s})();function Tm(s,i){let t=s.validationRate/10,e=$e.boolean(t);if((s.environment==="staging"||!1||e)&&!i.isInWebViewContext())try{let a=Da.create(i.isTopWindowTracker()),h=new ka(a).create(s.getMetricsUri()),d=new Is,g=new Am(h,d,s.projectId);V.setService(g)}catch(a){B.warn(`Error initializing metrics: ${a.message}`)}}function bm(){var s;Il();let i=new Th(window.CS_CONF);window._uxa=window._uxa||[],i.processOptionOverrides(window._uxa);let t=new bh(window,i);t.init();let e=new Yh;if(hl(B),Xh(),B.computeIsActive(i.validationRate),t.isTopWindowTracker()){let a=new $h(i,e);B.setStrategy(a)}else if(t.isInWebViewContext()){let r=new _m;B.setStrategy(r)}!((s=i==null?void 0:i.experimental)===null||s===void 0)&&s.disableMutationObserverProtection&&window.csMutationObserver&&(window.csMutationObserver=We(window,"MutationObserver")),hh(),Tm(i,t),new vm(i,t,e).start()}window.CSCurrentScript=document.currentScript;csSetTimeout(()=>{try{Kh(bm)}catch{}});})();

// signature-beb78c6cea1f32dad80132129c48aaaca2ab530b7985f9706e093df56ba6c105